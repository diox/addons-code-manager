(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ScrollTarget})),__webpack_require__.d(__webpack_exports__,"c",(function(){return changeTypes})),__webpack_require__.d(__webpack_exports__,"o",(function(){return isFileWithDiff})),__webpack_require__.d(__webpack_exports__,"b",(function(){return actions})),__webpack_require__.d(__webpack_exports__,"d",(function(){return createEntryStatusMap})),__webpack_require__.d(__webpack_exports__,"e",(function(){return createInternalVersion})),__webpack_require__.d(__webpack_exports__,"n",(function(){return getVersionInfo})),__webpack_require__.d(__webpack_exports__,"j",(function(){return getEntryStatusMap})),__webpack_require__.d(__webpack_exports__,"p",(function(){return selectCurrentVersionInfo})),__webpack_require__.d(__webpack_exports__,"k",(function(){return getMostRelevantEntryStatus})),__webpack_require__.d(__webpack_exports__,"m",(function(){return getVersionFile})),__webpack_require__.d(__webpack_exports__,"i",(function(){return getDiffAnchors})),__webpack_require__.d(__webpack_exports__,"l",(function(){return getRelativeDiffAnchor})),__webpack_require__.d(__webpack_exports__,"g",(function(){return fetchVersion})),__webpack_require__.d(__webpack_exports__,"h",(function(){return fetchVersionsList})),__webpack_require__.d(__webpack_exports__,"q",(function(){return viewVersionFile}));var ScrollTarget,_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(24),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(31),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),typesafe_actions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),react_diff_view__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__(25),__webpack_require__(54)),connected_react_router__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(132),_api__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(33),_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(6),_errors__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(73),_fileTree__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(76),createAction=typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.deprecated.createAction;!function(ScrollTarget){ScrollTarget.firstDiff="firstDiff",ScrollTarget.lastDiff="lastDiff"}(ScrollTarget||(ScrollTarget={}));var changeTypes=Object.freeze({delete:"delete",deleteEofnl:"delete-eofnl",insert:"insert",insertEofnl:"insert-eofnl",normal:"normal",normalEofnl:"normal-eofnl"});function isFileWithDiff(file){return void 0!==file.diff}var actions={loadVersionFileFromVersion:createAction("LOAD_VERSION_FILE_FROM_VERSION",resolve=>payload=>resolve(payload)),loadDiffFileFromVersion:createAction("LOAD_DIFF_FILE_FROM_VERSION",resolve=>payload=>resolve(payload)),loadVersionFile:createAction("LOAD_VERSION_FILE",resolve=>payload=>resolve(payload)),loadVersionInfo:createAction("LOAD_VERSION_INFO",resolve=>payload=>resolve(payload)),loadEntryStatusMap:createAction("LOAD_ENTRY_STATUS_MAP",resolve=>payload=>resolve(payload)),updateSelectedPath:createAction("UPDATE_SELECTED_PATH",resolve=>payload=>resolve(payload)),setCurrentBaseVersionId:createAction("SET_CURRENT_BASE_VERSION_ID",resolve=>payload=>resolve(payload)),setCurrentVersionId:createAction("SET_CURRENT_VERSION_ID",resolve=>payload=>resolve(payload)),unsetCurrentBaseVersionId:createAction("UNSET_CURRENT_BASE_VERSION_ID"),unsetCurrentVersionId:createAction("UNSET_CURRENT_VERSION_ID",resolve=>()=>resolve()),setVisibleSelectedPath:createAction("SET_VISIBLE_SELECTED_PATH",resolve=>payload=>resolve(payload)),toggleExpandedPath:createAction("TOGGLE_EXPANDED_PATH",resolve=>payload=>resolve(payload)),expandTree:createAction("EXPAND_TREE",resolve=>payload=>resolve(payload)),collapseTree:createAction("COLLAPSE_TREE",resolve=>payload=>resolve(payload)),loadVersionsList:createAction("LOAD_VERSIONS_LIST",resolve=>payload=>resolve(payload)),beginFetchVersionWithDiff:createAction("BEGIN_FETCH_VERSION_WITH_DIFF",resolve=>payload=>resolve(payload)),beginFetchDiffFile:createAction("BEGIN_FETCH_DIFF_FILE",resolve=>payload=>resolve(payload)),beginFetchVersionFile:createAction("BEGIN_FETCH_VERSION_FILE",resolve=>payload=>resolve(payload)),abortFetchVersionWithDiff:createAction("ABORT_FETCH_VERSION_WITH_DIFF",resolve=>payload=>resolve(payload)),abortFetchDiffFile:createAction("ABORT_FETCH_DIFF_FILE",resolve=>payload=>resolve(payload)),abortFetchVersionFile:createAction("ABORT_FETCH_VERSION_FILE",resolve=>payload=>resolve(payload)),loadDiffFile:createAction("LOAD_DIFF_FILE",resolve=>payload=>resolve(payload)),beginFetchVersion:createAction("BEGIN_FETCH_VERSION",resolve=>payload=>resolve(payload)),abortFetchVersion:createAction("ABORT_FETCH_VERSION",resolve=>payload=>resolve(payload)),setPendingBaseVersionId:createAction("SET_PENDING_BASE_VERSION_ID",resolve=>payload=>resolve(payload)),setPendingHeadVersionId:createAction("SET_PENDING_HEAD_VERSION_ID",resolve=>payload=>resolve(payload))},initialState={byAddonId:{},currentBaseVersionId:void 0,currentVersionId:void 0,entryStatusMaps:{},expandedPaths:void 0,pendingBaseVersionId:void 0,pendingHeadVersionId:void 0,selectedPath:null,visibleSelectedPath:null,versionDiffs:{},versionDiffsLoading:{},versionFiles:{},versionFilesLoading:{},versionInfo:{},versionInfoLoading:{}},getParentFolders=path=>{for(var parents=[_fileTree__WEBPACK_IMPORTED_MODULE_11__.a],folders=path.split("/");folders.length>1;)folders.pop(),parents.push(folders.join("/"));return parents};var createInternalChangeInfo=change=>({content:change.content,isDelete:"delete"===change.type,isInsert:"insert"===change.type,isNormal:"normal"===change.type,lineNumber:["delete","delete-eofnl"].includes(change.type)?change.old_line_number:change.new_line_number,newLineNumber:change.new_line_number,oldLineNumber:change.old_line_number,type:change.type}),createInternalHunk=hunk=>({changes:hunk.changes.map(createInternalChangeInfo),content:hunk.header,isPlain:!1,newLines:hunk.new_lines,newStart:hunk.new_start,oldLines:hunk.old_lines,oldStart:hunk.old_start}),createInternalVersionFile=file=>{var diff,GIT_STATUS_TO_TYPE,partialInternalFile={downloadURL:file.download_url,filename:file.filename,id:file.id,isMinified:file.uses_unknown_minified_code,mimeType:file.mimetype,sha256:file.sha256,size:file.size,fileType:file.mime_category};if(function isExternalFileWithContent(file){return void 0!==file.content}(file))return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},partialInternalFile),{},{content:file.content});if(function isExternalFileWithDiff(file){return void 0!==file.diff}(file))return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},partialInternalFile),{},{diff:(diff=file.diff,GIT_STATUS_TO_TYPE={A:"add",C:"copy",D:"delete",M:"modify",R:"rename"},diff?{hunks:diff.hunks.map(createInternalHunk),type:GIT_STATUS_TO_TYPE[diff.mode]||GIT_STATUS_TO_TYPE.M,newEndingNewLine:diff.new_ending_new_line,oldEndingNewLine:diff.old_ending_new_line,newMode:diff.mode,oldMode:diff.mode,newPath:diff.path,oldPath:diff.old_path}:null)});throw new Error("An invalid type was passed to createInternalVersionFile.")},getEntryStatusMapKey=({versionId:versionId,comparedToVersionId:comparedToVersionId})=>"versionId=".concat(versionId,";comparedToVersionId=").concat(comparedToVersionId),createEntryStatusMap=version=>{for(var file_entries=version.file_entries,entryStatusMap={},_i=0,_Object$keys=Object.keys(file_entries);_i<_Object$keys.length;_i++){var _nodeName=_Object$keys[_i];entryStatusMap[_nodeName]=file_entries[_nodeName].status}return entryStatusMap},createInternalVersion=version=>{return{addon:(addon=version.addon,{iconUrl:addon.icon_url,id:addon.id,name:addon.name,slug:addon.slug}),initialPath:version.file.selected_file,entries:Object.keys(version.file_entries).map(nodeName=>{return{depth:(entry=version.file_entries[nodeName]).depth,filename:entry.filename,path:entry.path,type:entry.mime_category};var entry}),expandedPaths:getParentFolders(version.file.selected_file),fileId:version.file.id,id:version.id,reviewed:version.reviewed,selectedPath:version.file.selected_file,versionString:version.version,visibleSelectedPath:null};var addon},getVersionInfo=(versions,versionId)=>versions.versionInfo[versionId],createVersionPathChecker=version=>{var paths=new Set(version.entries.map(e=>e.path));return path=>paths.has(path)},getPrunedExpandedPaths=(expandedPaths,version)=>{var doesPathExist=createVersionPathChecker(version);return expandedPaths.filter(doesPathExist)},versionPathExists=(path,version)=>createVersionPathChecker(version)(path),getEntryStatusMap=({versions:versions,versionId:versionId,comparedToVersionId:comparedToVersionId})=>versions.entryStatusMaps[getEntryStatusMapKey({versionId:versionId,comparedToVersionId:comparedToVersionId})],selectCurrentVersionInfo=versions=>versions.currentVersionId?getVersionInfo(versions,versions.currentVersionId):void 0===versions.currentVersionId&&void 0,selectVersionIsLoading=(versions,versionId)=>versions.versionInfoLoading[versionId]||!1,getMostRelevantEntryStatus=({version:version,entryStatusMap:entryStatusMap,path:path})=>{for(var statuses=version.entries.filter(e=>e.path.startsWith(path)).map(e=>entryStatusMap[e.path]),_i2=0,_priorities=["A","M","D"];_i2<_priorities.length;_i2++){var p=_priorities[_i2];if(statuses.includes(p))return p}return statuses.length?statuses[0]:void 0},getVersionFile=(versions,versionId,path)=>{var version=getVersionInfo(versions,versionId),filesForVersion=((versions,versionId)=>versions.versionFiles[versionId])(versions,versionId);if(version&&filesForVersion){var file=filesForVersion[path];if(null===file)return null;if(file)return file}},getDiffKey=({addonId:addonId,baseVersionId:baseVersionId,headVersionId:headVersionId})=>[addonId,baseVersionId,headVersionId].join("/"),getDiffAnchors=diff=>{var _step,anchors=[],_iterator=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__.a)(diff.hunks);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step2,hunk=_step.value,seekingChange=!0,_iterator2=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__.a)(hunk.changes);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var change=_step2.value;"normal"===change.type?seekingChange=!0:seekingChange&&(anchors.push(Object(react_diff_view__WEBPACK_IMPORTED_MODULE_6__.d)(change)),seekingChange=!1)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return anchors},getRelativeDiffAnchor=({currentAnchor:currentAnchor="",diff:diff,position:position=_fileTree__WEBPACK_IMPORTED_MODULE_11__.b.next})=>{var anchors=getDiffAnchors(diff);if(anchors.length){if(!currentAnchor)return anchors[0];var currentIndex=anchors.indexOf(currentAnchor);if(currentIndex>=0){var newIndex=position===_fileTree__WEBPACK_IMPORTED_MODULE_11__.b.previous?currentIndex-1:currentIndex+1;return newIndex>=0&&newIndex<anchors.length?anchors[newIndex]:null}var currentAnchorNumber=Object(_utils__WEBPACK_IMPORTED_MODULE_9__.h)(currentAnchor),sortedAnchors=position===_fileTree__WEBPACK_IMPORTED_MODULE_11__.b.previous?[...anchors].reverse():anchors;if(currentAnchorNumber){var _step5,_iterator5=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__.a)(sortedAnchors);try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var anchor=_step5.value,anchorNumber=Object(_utils__WEBPACK_IMPORTED_MODULE_9__.h)(anchor);if(anchorNumber&&(position===_fileTree__WEBPACK_IMPORTED_MODULE_11__.b.previous&&anchorNumber<=currentAnchorNumber||position===_fileTree__WEBPACK_IMPORTED_MODULE_11__.b.next&&anchorNumber>=currentAnchorNumber))return anchor}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}}}return null},fetchVersion=({_getVersion:_getVersion=_api__WEBPACK_IMPORTED_MODULE_8__.h,addonId:addonId,versionId:versionId,path:path,setAsCurrent:setAsCurrent=!0})=>function(){var _ref=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee(dispatch,getState){var _getState,apiState,versions,response,selected_file;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_getState=getState(),apiState=_getState.api,versions=_getState.versions,!selectVersionIsLoading(versions,versionId)){_context.next=3;break}return _context.abrupt("return");case 3:return dispatch(actions.beginFetchVersion({versionId:versionId})),setAsCurrent&&dispatch(actions.setCurrentVersionId({versionId:versionId})),_context.next=7,_getVersion({addonId:addonId,apiState:apiState,path:path,versionId:versionId});case 7:response=_context.sent,Object(_api__WEBPACK_IMPORTED_MODULE_8__.k)(response)?(dispatch(actions.abortFetchVersion({versionId:versionId})),dispatch(_errors__WEBPACK_IMPORTED_MODULE_10__.a.addError({error:response.error}))):(selected_file=response.file.selected_file,dispatch(actions.beginFetchVersionFile({versionId:versionId,path:selected_file})),dispatch(actions.loadVersionInfo({version:response,updatePathInfo:setAsCurrent})),dispatch(actions.loadVersionFileFromVersion({version:response,path:selected_file})));case 9:case"end":return _context.stop()}}),_callee)})));return function(_x,_x2){return _ref.apply(this,arguments)}}(),createInternalVersionsListItem=version=>({channel:version.channel,id:version.id,versionString:version.version}),createVersionsMap=versions=>({listed:versions.filter(version=>"listed"===version.channel).map(createInternalVersionsListItem),unlisted:versions.filter(version=>"unlisted"===version.channel).map(createInternalVersionsListItem)}),fetchVersionsList=({_getVersionsList:_getVersionsList=_api__WEBPACK_IMPORTED_MODULE_8__.j,addonId:addonId})=>function(){var _ref4=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee4(dispatch,getState){var _getState4,apiState,response;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _getState4=getState(),apiState=_getState4.api,_context4.next=3,_getVersionsList({addonId:addonId,apiState:apiState});case 3:response=_context4.sent,Object(_api__WEBPACK_IMPORTED_MODULE_8__.k)(response)?dispatch(_errors__WEBPACK_IMPORTED_MODULE_10__.a.addError({error:response.error})):dispatch(actions.loadVersionsList({addonId:addonId,versions:response}));case 5:case"end":return _context4.stop()}}),_callee4)})));return function(_x7,_x8){return _ref4.apply(this,arguments)}}(),viewVersionFile=({preserveHash:preserveHash=!1,selectedPath:selectedPath,scrollTo:scrollTo,versionId:versionId})=>function(){var _ref6=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee6(dispatch,getState){var _getState6,router,newLocation;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:_getState6=getState(),router=_getState6.router,newLocation=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},router.location),{},{search:Object(_utils__WEBPACK_IMPORTED_MODULE_9__.g)(router.location,{path:selectedPath,scrollTo:scrollTo})}),preserveHash||(newLocation.hash=""),dispatch(actions.updateSelectedPath({versionId:versionId,selectedPath:selectedPath})),dispatch(Object(connected_react_router__WEBPACK_IMPORTED_MODULE_7__.push)(newLocation));case 5:case"end":return _context6.stop()}}),_callee6)})));return function(_x11,_x12){return _ref6.apply(this,arguments)}}();__webpack_exports__.f=(({_getPrunedExpandedPaths:_getPrunedExpandedPaths=getPrunedExpandedPaths}={})=>(state=initialState,action)=>{switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.beginFetchVersion):var _versionId=action.payload.versionId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{versionInfo:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfo),{},{[_versionId]:void 0}),versionInfoLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfoLoading),{},{[_versionId]:!0})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.loadVersionInfo):var _action$payload=action.payload,updatePathInfo=_action$payload.updatePathInfo,version=_action$payload.version,internalVersion=createInternalVersion(version);if(!updatePathInfo)return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{versionInfo:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfo),{},{[version.id]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},internalVersion)}),versionInfoLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfoLoading),{},{[version.id]:!1})});var expandedPathsInState=state.expandedPaths,selectedPathInState=state.selectedPath,expandedPaths=expandedPathsInState?_getPrunedExpandedPaths(expandedPathsInState,internalVersion):getParentFolders(version.file.selected_file),selectedPath=selectedPathInState&&versionPathExists(selectedPathInState,internalVersion)?selectedPathInState:version.file.selected_file;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{expandedPaths:expandedPaths,selectedPath:selectedPath,visibleSelectedPath:null,versionInfo:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfo),{},{[version.id]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},internalVersion),{},{expandedPaths:expandedPaths,selectedPath:selectedPath})}),versionInfoLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfoLoading),{},{[version.id]:!1})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.abortFetchVersion):var _versionId2=action.payload.versionId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{versionInfo:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfo),{},{[_versionId2]:null}),versionInfoLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfoLoading),{},{[_versionId2]:!1})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.loadEntryStatusMap):var _action$payload2=action.payload,_version=_action$payload2.version,comparedToVersionId=_action$payload2.comparedToVersionId,key=getEntryStatusMapKey({versionId:_version.id,comparedToVersionId:comparedToVersionId});return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{entryStatusMaps:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.entryStatusMaps),{},{[key]:createEntryStatusMap(_version)})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.loadVersionFileFromVersion):var _action$payload3=action.payload,_path=_action$payload3.path,_version2=_action$payload3.version;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{versionFiles:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFiles),{},{[_version2.id]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFiles[_version2.id]),{},{[_path]:createInternalVersionFile(_version2.file)})}),versionFilesLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFilesLoading),{},{[_version2.id]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFilesLoading[_version2.id]),{},{[_path]:!1})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.loadDiffFileFromVersion):var _action$payload4=action.payload,baseVersionId=_action$payload4.baseVersionId,headVersionId=_action$payload4.headVersionId,_version3=_action$payload4.version,_path2=action.payload.path||"",_key=getDiffKey({addonId:_version3.addon.id,baseVersionId:baseVersionId,headVersionId:headVersionId});return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{versionDiffs:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionDiffs),{},{[_key]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionDiffs[_key]),{},{[_path2]:createInternalVersionFile(_version3.file)})}),versionDiffsLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionDiffsLoading),{},{[_key]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionDiffsLoading[_key]),{},{[_path2]:!1})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.loadDiffFile):var _action$payload5=action.payload,_addonId=_action$payload5.addonId,_baseVersionId=_action$payload5.baseVersionId,_headVersionId=_action$payload5.headVersionId,_path3=_action$payload5.path,_version4=_action$payload5.version,_key2=getDiffKey({addonId:_addonId,baseVersionId:_baseVersionId,headVersionId:_headVersionId});return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{versionDiffs:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionDiffs),{},{[_key2]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionDiffs[_key2]),{},{[_path3]:createInternalVersionFile(_version4.file)})}),versionDiffsLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionDiffsLoading),{},{[_key2]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionDiffsLoading[_key2]),{},{[_path3]:!1})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.loadVersionFile):var _action$payload6=action.payload,_path4=_action$payload6.path,_version5=_action$payload6.version;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{versionFiles:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFiles),{},{[_version5.id]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFiles[_version5.id]),{},{[_path4]:createInternalVersionFile(_version5.file)})}),versionFilesLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFilesLoading),{},{[_version5.id]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFilesLoading[_version5.id]),{},{[_path4]:!1})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.beginFetchVersionFile):var _action$payload7=action.payload,_path5=_action$payload7.path,_versionId3=_action$payload7.versionId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{versionFilesLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFilesLoading),{},{[_versionId3]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFilesLoading[_versionId3]),{},{[_path5]:!0})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.abortFetchVersionFile):var _action$payload8=action.payload,_path6=_action$payload8.path,_versionId4=_action$payload8.versionId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{versionFiles:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFiles),{},{[_versionId4]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFiles[_versionId4]),{},{[_path6]:null})}),versionFilesLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFilesLoading),{},{[_versionId4]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionFilesLoading[_versionId4]),{},{[_path6]:!1})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.updateSelectedPath):var _action$payload9=action.payload,_selectedPath=_action$payload9.selectedPath,_versionId5=_action$payload9.versionId,_version6=state.versionInfo[_versionId5];if(!_version6)throw new Error("Version missing for versionId: ".concat(_versionId5));var _expandedPaths=state.expandedPaths;if(!_expandedPaths)throw new Error("Expanded paths are undefined");var parents=getParentFolders(_selectedPath),newExpandedPaths=[..._expandedPaths,...parents.filter(newPath=>!_expandedPaths.includes(newPath))];return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{expandedPaths:newExpandedPaths,selectedPath:_selectedPath,versionInfo:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfo),{},{[_versionId5]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_version6),{},{expandedPaths:newExpandedPaths,selectedPath:_selectedPath})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.setVisibleSelectedPath):var _action$payload10=action.payload,_path7=_action$payload10.path,_versionId6=_action$payload10.versionId,_version7=state.versionInfo[_versionId6];if(!_version7)throw new Error("Version missing for versionId: ".concat(_versionId6));if(_path7&&!_version7.entries.find(e=>e.path===_path7))throw new Error('Path "'.concat(_path7,'" is an unknown path for version ID ').concat(_versionId6));return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{visibleSelectedPath:_path7,versionInfo:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfo),{},{[_versionId6]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_version7),{},{visibleSelectedPath:_path7})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.toggleExpandedPath):var _action$payload11=action.payload,_path8=_action$payload11.path,_versionId7=_action$payload11.versionId,_version8=state.versionInfo[_versionId7];if(!_version8)throw new Error("Version missing for versionId: ".concat(_versionId7));var _expandedPaths2=state.expandedPaths;if(void 0===_expandedPaths2)throw new Error("ExpandedPaths is undefined");var _newExpandedPaths=_expandedPaths2.includes(_path8)?_expandedPaths2.filter(storedPath=>_path8!==storedPath):[..._expandedPaths2,_path8];return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{expandedPaths:_newExpandedPaths,versionInfo:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfo),{},{[_versionId7]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_version8),{},{expandedPaths:_newExpandedPaths})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.expandTree):var _versionId8=action.payload.versionId,_version9=state.versionInfo[_versionId8];if(!_version9)throw new Error("Version missing for versionId: ".concat(_versionId8));var _expandedPaths3=_version9.entries.filter(entry=>"directory"===entry.type).map(entry=>entry.path);return _expandedPaths3.push(_fileTree__WEBPACK_IMPORTED_MODULE_11__.a),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{expandedPaths:_expandedPaths3,versionInfo:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfo),{},{[_versionId8]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_version9),{},{expandedPaths:_expandedPaths3})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.collapseTree):var _versionId9=action.payload.versionId,_version10=state.versionInfo[_versionId9],_expandedPaths4=[_fileTree__WEBPACK_IMPORTED_MODULE_11__.a];if(!_version10)throw new Error("Version missing for versionId: ".concat(_versionId9));return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{expandedPaths:_expandedPaths4,versionInfo:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfo),{},{[_versionId9]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_version10),{},{expandedPaths:_expandedPaths4})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.loadVersionsList):var _action$payload12=action.payload,_addonId2=_action$payload12.addonId,versions=_action$payload12.versions;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{byAddonId:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.byAddonId),{},{[_addonId2]:createVersionsMap(versions)})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.beginFetchVersionWithDiff):var _path9=action.payload.path||"",_versionId10=action.payload.headVersionId,_key3=getDiffKey(action.payload);return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{versionInfo:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfo),{},{[_versionId10]:void 0}),versionInfoLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfoLoading),{},{[_versionId10]:!0}),versionDiffsLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionDiffsLoading),{},{[_key3]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionDiffsLoading[_key3]),{},{[_path9]:!0})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.beginFetchDiffFile):var _path10=action.payload.path,_key4=getDiffKey(action.payload);return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{versionDiffs:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionDiffs),{},{[_key4]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionDiffs[_key4]),{},{[_path10]:void 0})}),versionDiffsLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionDiffsLoading),{},{[_key4]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionDiffsLoading[_key4]),{},{[_path10]:!0})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.abortFetchVersionWithDiff):var _path11=action.payload.path||"",_versionId11=action.payload.headVersionId,_key5=getDiffKey(action.payload);return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{versionInfo:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfo),{},{[_versionId11]:null}),versionInfoLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionInfoLoading),{},{[_versionId11]:!1}),versionDiffs:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionDiffs),{},{[_key5]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionDiffs[_key5]),{},{[_path11]:null})}),versionDiffsLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionDiffsLoading),{},{[_key5]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionDiffsLoading[_key5]),{},{[_path11]:!1})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.abortFetchDiffFile):var _path12=action.payload.path,_key6=getDiffKey(action.payload);return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{versionDiffs:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionDiffs),{},{[_key6]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionDiffs[_key6]),{},{[_path12]:null})}),versionDiffsLoading:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionDiffsLoading),{},{[_key6]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.versionDiffsLoading[_key6]),{},{[_path12]:!1})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.setCurrentBaseVersionId):var _versionId12=action.payload.versionId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{currentBaseVersionId:_versionId12});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.setPendingBaseVersionId):var _versionId13=action.payload.versionId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{pendingBaseVersionId:_versionId13});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.setPendingHeadVersionId):var _versionId14=action.payload.versionId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{pendingHeadVersionId:_versionId14});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.setCurrentVersionId):var _versionId15=action.payload.versionId,_expandedPaths5=state.expandedPaths,_selectedPath2=state.selectedPath,versionInfo=state.versionInfo,visibleSelectedPath=state.visibleSelectedPath,_version11=getVersionInfo(state,_versionId15);return _version11&&_expandedPaths5&&(_expandedPaths5=_getPrunedExpandedPaths(_expandedPaths5,_version11)),_version11&&(_selectedPath2=_selectedPath2&&versionPathExists(_selectedPath2,_version11)?_selectedPath2:_version11.selectedPath,versionInfo=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},versionInfo),{},{[_version11.id]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},_version11),{},{selectedPath:_selectedPath2,visibleSelectedPath:visibleSelectedPath})})),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{currentVersionId:_versionId15,expandedPaths:_expandedPaths5,selectedPath:_selectedPath2,versionInfo:versionInfo});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.unsetCurrentBaseVersionId):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{currentBaseVersionId:!1});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.unsetCurrentVersionId):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{currentVersionId:!1});default:return state}})()},101:function(module,exports,__webpack_require__){module.exports={VersionChooser:"styles_VersionChooser__2s7S6",popover:"styles_popover__3_8jY",submitButton:"styles_submitButton__3XQ2t",formRow:"styles_formRow__1cfqR",versionSelect:"styles_versionSelect__1Mg6z",versionSelectControl:"styles_versionSelectControl__1Ivt3"}},106:function(module,exports,__webpack_require__){module.exports={FullscreenGrid:"styles_FullscreenGrid__mRxaT",withMainSidePanelCollapsed:"styles_withMainSidePanelCollapsed__3SpKY",withAltSidePanelCollapsed:"styles_withAltSidePanelCollapsed__3i9Jr",withBothSidePanelsCollapsed:"styles_withBothSidePanelsCollapsed__2dNEn",Header:"styles_Header__140hh",topContent:"styles_topContent__2a2wa",content:"styles_content__tbCAP",mainSidePanel:"styles_mainSidePanel__17O2H",altSidePanel:"styles_altSidePanel__2e63i"}},116:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(28),react_router_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(206),_reducers_linter__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(40);class LinterProviderBase extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.loadData=void 0,this._loadData=()=>{var _this$props=this.props,_fetchLinterMessagesIfNeeded=_this$props._fetchLinterMessagesIfNeeded,dispatch=_this$props.dispatch,messageMap=_this$props.messageMap,version=_this$props.version;void 0===messageMap&&dispatch(_fetchLinterMessagesIfNeeded({version:version}))},this.loadData=props._loadData||this._loadData}componentDidMount(){this.loadData()}componentDidUpdate(){this.loadData()}render(){var _this$props2=this.props,messageMap=_this$props2.messageMap,messagesAreLoading=_this$props2.messagesAreLoading,selectedMessageMap=_this$props2.selectedMessageMap;return this.props.children({messageMap:messageMap,messagesAreLoading:messagesAreLoading,selectedMessageMap:selectedMessageMap})}}LinterProviderBase.defaultProps={_fetchLinterMessagesIfNeeded:_reducers_linter__WEBPACK_IMPORTED_MODULE_3__.d};__webpack_exports__.a=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.a)(Object(react_redux__WEBPACK_IMPORTED_MODULE_1__.connect)((state,ownProps)=>{var selectedMessageMap,selectedPath=ownProps.selectedPath,version=ownProps.version,map=Object(_reducers_linter__WEBPACK_IMPORTED_MODULE_3__.h)(state.linter,version.id);return map&&(selectedMessageMap=map.byPath[selectedPath]?map.byPath[selectedPath]:null),{messageMap:map,messagesAreLoading:state.linter.isLoading,selectedMessageMap:selectedMessageMap}})(LinterProviderBase))},13:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return renderWithStoreAndRouter})),__webpack_require__.d(__webpack_exports__,"c",(function(){return newLinterMessageUID})),__webpack_require__.d(__webpack_exports__,"e",(function(){return rootAttributeParams})),__webpack_require__.d(__webpack_exports__,"b",(function(){return loremIpsum})),__webpack_require__.d(__webpack_exports__,"a",(function(){return generateParagraphs}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(28),react_router_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1927),_src_configureStore__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(26),_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7),renderWithStoreAndRouter=(element,options={})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_redux__WEBPACK_IMPORTED_MODULE_1__.Provider,{store:options.store?options.store:Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_3__.a)()},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.a,{initialEntries:options.location?[options.location]:void 0},element)),newLinterMessageUID=()=>"msg-".concat(Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.o)()),rootAttributeParams=({fullscreen:fullscreen=!1}={})=>{var defaultState={name:"Body is not set to fullscreen",value:null};return fullscreen&&(defaultState={name:"Body is set to fullscreen",value:"fullscreen"}),{rootAttribute:{root:"body",attribute:"class",defaultState:defaultState,states:[]}}},loremIpsum="\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod\ntempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,\nquis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo\nconsequat. Duis aute irure dolor in reprehenderit in voluptate velit esse\ncillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat\nnon proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n",generateParagraphs=(count,{text:text=loremIpsum}={})=>new Array(count).fill(text).map((p,i)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{key:i},p))},133:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return actions})),__webpack_require__.d(__webpack_exports__,"d",(function(){return requestLogOut})),__webpack_require__.d(__webpack_exports__,"e",(function(){return selectCurrentUser})),__webpack_require__.d(__webpack_exports__,"b",(function(){return currentUserIsLoading}));var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24),typesafe_actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_api__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(33),createAction=(__webpack_require__(73),typesafe_actions__WEBPACK_IMPORTED_MODULE_3__.deprecated.createAction),actions={abortFetchCurrentUser:createAction("ABORT_FETCH_CURRENT_USER"),beginFetchCurrentUser:createAction("BEGIN_FETCH_CURRENT_USER"),loadCurrentUser:createAction("LOAD_CURRENT_USER",resolve=>payload=>resolve(payload)),logOut:createAction("LOG_OUT")},requestLogOut=({_logOutFromServer:_logOutFromServer=_api__WEBPACK_IMPORTED_MODULE_4__.l}={})=>function(){var _ref=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee(dispatch,getState){return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,_logOutFromServer(getState().api);case 2:dispatch(actions.logOut());case 3:case"end":return _context.stop()}}),_callee)})));return function(_x,_x2){return _ref.apply(this,arguments)}}(),initialState={currentUser:null},selectCurrentUser=users=>users.currentUser||null,currentUserIsLoading=users=>void 0===users.currentUser;__webpack_exports__.c=(state=initialState,action)=>{switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_3__.getType)(actions.beginFetchCurrentUser):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{currentUser:void 0});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_3__.getType)(actions.abortFetchCurrentUser):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{currentUser:initialState.currentUser});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_3__.getType)(actions.loadCurrentUser):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{currentUser:(user=action.payload.user,{email:user.email,id:user.id,name:user.name,permissions:user.permissions})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_3__.getType)(actions.logOut):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{currentUser:null});default:return state}var user}},150:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(28),_reducers_comments__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(18),_Comment__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(250),_styles_module_scss__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(744),_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_5__);class CommentListBase extends react__WEBPACK_IMPORTED_MODULE_1__.Component{componentDidMount(){this.loadData()}componentDidUpdate(){this.loadData()}loadData(){var _this$props=this.props,_fetchAndLoadComments=_this$props._fetchAndLoadComments,addonId=_this$props.addonId,dispatch=_this$props.dispatch,versionHasComments=_this$props.versionHasComments,versionId=_this$props.versionId;void 0===versionHasComments&&dispatch(_fetchAndLoadComments({addonId:addonId,versionId:versionId}))}render(){var _this$props2=this.props,addonId=_this$props2.addonId,children=_this$props2.children,className=_this$props2.className,commentInfo=_this$props2.commentInfo,fileName=_this$props2.fileName,line=_this$props2.line,versionId=_this$props2.versionId,comments=[];if(commentInfo){var base={addonId:addonId,className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.comment,fileName:fileName,line:line,versionId:versionId};commentInfo.beginNewComment&&comments.push(react__WEBPACK_IMPORTED_MODULE_1__.createElement(_Comment__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},base,{commentId:null,key:"comment-entry-form"})));var _step,_iterator=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__.a)(commentInfo.commentIds);try{for(_iterator.s();!(_step=_iterator.n()).done;){var id=_step.value;comments.push(react__WEBPACK_IMPORTED_MODULE_1__.createElement(_Comment__WEBPACK_IMPORTED_MODULE_4__.a,Object.assign({},base,{commentId:id,key:id})))}}catch(err){_iterator.e(err)}finally{_iterator.f()}}return 0===comments.length?null:children(react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:className},comments))}}CommentListBase.defaultProps={_fetchAndLoadComments:_reducers_comments__WEBPACK_IMPORTED_MODULE_3__.f};__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_2__.connect)((state,{versionId:versionId,fileName:fileName,line:line})=>({commentInfo:Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_3__.i)({comments:state.comments,versionId:versionId,commentId:void 0,fileName:fileName,line:line}),versionHasComments:Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_3__.l)({comments:state.comments,versionId:versionId})}))(CommentListBase)},151:function(module,__webpack_exports__,__webpack_require__){"use strict";var classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react_bootstrap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1929),react_bootstrap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(483),react_bootstrap__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(91),react_redux__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(28),_reducers_popover__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(66),_styles_module_scss__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(745),_styles_module_scss__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_7__);class PopoverButtonBase extends react__WEBPACK_IMPORTED_MODULE_1__.Component{constructor(props){super(props),this.buttonRef=this.props.createRef(),this.state={canAccessRefs:!1}}componentDidMount(){this.setState({canAccessRefs:!0})}renderOverlay(){var _this$props=this.props,content=_this$props.content,dispatch=_this$props.dispatch,id=_this$props.id,popoverClassName=_this$props.popoverClassName,show=_this$props.show;if(!this.state.canAccessRefs)return null;if(!this.buttonRef.current)throw new Error("buttonRef.current was unexpectedly empty");return react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.a,{onHide:()=>{dispatch(_reducers_popover__WEBPACK_IMPORTED_MODULE_6__.a.hide(id))},placement:"bottom",rootClose:!0,show:show,target:this.buttonRef.current},({arrowProps:arrowProps,placement:placement,ref:ref,style:style})=>react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__.a,{arrowProps:arrowProps,className:classnames__WEBPACK_IMPORTED_MODULE_0___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_7___default.a.popover,popoverClassName),id:"".concat(id,"-popover"),placement:placement,ref:ref,style:style},content))}render(){var _this$props2=this.props,dispatch=_this$props2.dispatch,id=_this$props2.id,prompt=_this$props2.prompt;return react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:()=>{dispatch(_reducers_popover__WEBPACK_IMPORTED_MODULE_6__.a.show(id))},ref:this.buttonRef,size:"sm",variant:"primary"},prompt),this.renderOverlay())}}PopoverButtonBase.defaultProps={createRef:()=>react__WEBPACK_IMPORTED_MODULE_1__.createRef()};__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_5__.connect)((state,ownProps)=>({show:Object(_reducers_popover__WEBPACK_IMPORTED_MODULE_6__.c)({id:ownProps.id,popover:state.popover})}))(PopoverButtonBase)},152:function(module,__webpack_exports__,__webpack_require__){"use strict";var react=__webpack_require__(0),classnames=__webpack_require__(5),classnames_default=__webpack_require__.n(classnames),es=__webpack_require__(28),Button=__webpack_require__(192),comments=__webpack_require__(18),utils=__webpack_require__(6),styles_module=__webpack_require__(333),styles_module_default=__webpack_require__.n(styles_module),AddComment=Object(es.connect)()(({className:className,dispatch:dispatch,fileName:fileName,line:line,versionId:versionId})=>react.createElement(Button.a,{onClick:()=>{dispatch(comments.a.beginComment({versionId:versionId,commentId:void 0,fileName:fileName,line:line}))},className:classnames_default()(styles_module_default.a.button,className),title:Object(utils.m)("Add a comment")}));__webpack_exports__.a=({addCommentClassName:addCommentClassName,as:AsComponent,children:children,className:className,fileName:fileName,id:id,line:line,shellRef:shellRef,versionId:versionId})=>react.createElement(AsComponent,{className:classnames_default()(styles_module_default.a.commentable,className),id:id,ref:shellRef},children(react.createElement(AddComment,{className:addCommentClassName,versionId:versionId,fileName:fileName,line:line})))},155:function(module,exports,__webpack_require__){module.exports={option:"styles_option__2QbW9",simulatedFormControl:"styles_simulatedFormControl__362K6",simulatedFormControlSkeleton:"styles_simulatedFormControlSkeleton__qLKdo",formGroup:"styles_formGroup__rzvtx",label:"styles_label__1123g"}},1555:function(module,exports){},1569:function(module,exports){},1571:function(module,exports){},1672:function(module,exports,__webpack_require__){},1673:function(module,exports,__webpack_require__){},1674:function(module,exports,__webpack_require__){var map={"./AccordionMenu.stories.tsx":1675,"./CodeLineShapes.stories.tsx":1676,"./CodeOverview.stories.tsx":1677,"./CodeView.stories.tsx":198,"./Comment.stories.tsx":1900,"./CommentList.stories.tsx":1901,"./CommentSummary.stories.tsx":340,"./CommentSummaryButton.stories.tsx":1902,"./Commentable.stories.tsx":1903,"./DiffView.stories.tsx":1904,"./ErrorBoundary.stories.tsx":1906,"./FadableContent.stories.tsx":1907,"./FileMetadata.stories.tsx":1908,"./FileTree.stories.tsx":1909,"./FileTreeNode.stories.tsx":1910,"./FullscreenGrid.stories.tsx":1911,"./LinterMessage.stories.tsx":1912,"./Loading.stories.tsx":1913,"./LoginButton.stories.tsx":1914,"./Navbar.stories.tsx":1915,"./PopoverButton.stories.tsx":1916,"./Skeleton.stories.tsx":1917,"./SlowPageAlert.stories.tsx":1918,"./ToggleButton.stories.tsx":1919,"./VersionChooser.stories.tsx":1920};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1674},1675:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14),_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(90),_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(85),_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(60),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13),getParams=()=>Object(_utils__WEBPACK_IMPORTED_MODULE_5__.e)({fullscreen:!0}),loremIpsumWords=_utils__WEBPACK_IMPORTED_MODULE_5__.b.split(" "),makeText=()=>{var text=loremIpsumWords.map(()=>loremIpsumWords[Math.floor(Math.random()*(loremIpsumWords.length-1))]);return Object(_utils__WEBPACK_IMPORTED_MODULE_5__.a)(10,{text:text.join(" ")})},render=children=>Object(_utils__WEBPACK_IMPORTED_MODULE_5__.d)(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_3__.b,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_3__.a,null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_2__.a,{mainSidePanel:children,className:"AccordionMenuStory-ContentShell",mainSidePanelIsBorderless:!0},"This page was intentionally left blank")));Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("AccordionMenu",module).add("long content",()=>render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.b,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Files"},makeText()),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Information"},makeText()),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Keyboard Shortcuts"},makeText()),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Help"},makeText()),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"About"},makeText()))),getParams()).add("short content",()=>render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.b,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Files"},"Example of short content"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Information"},"Another example of short content"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Keyboard Shortcuts"},"A different example of short content"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Help"},"Yet another example of short content"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"About"},"Short content is short"))),getParams()).add("expanded by default",()=>render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.b,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{expandedByDefault:!0,title:"Files"},makeText()),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Information"},makeText()),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Keyboard Shortcuts"},makeText()),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Help"},makeText()),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_AccordionMenu__WEBPACK_IMPORTED_MODULE_4__.a,{title:"About"},makeText()))),getParams())}.call(this,__webpack_require__(30)(module))},1676:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14),_src_components_CodeLineShapes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(252),_src_components_CodeLineShapes_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(194),exampleCode="browser.runtime.onMessage.addListener(\n  (message, sender, sendResponse) => {\n    console.log(\n      'Background: got message:',\n      message,\n      'from:',\n      sender,\n    );\n  }\n);\n".trim(),buildAndRender=({code:code=exampleCode,maxLineLength:maxLineLength=40}={})=>{var fileLines=code.split("\n"),allLineShapes=Object(_src_components_CodeLineShapes_utils__WEBPACK_IMPORTED_MODULE_3__.b)(fileLines,{maxLineLength:maxLineLength}),codeParts=[],shapeParts=[];fileLines.forEach((line,lineIndex)=>{codeParts.push(react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{key:line,className:"CodeLineShapesStory-actualCode"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("pre",null,line.replace("\n","")))),shapeParts.push(react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{key:line,className:"CodeLineShapesStory-lineShape"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src_components_CodeLineShapes__WEBPACK_IMPORTED_MODULE_2__.a,{lineShapes:allLineShapes[lineIndex]})))});var style={width:"".concat(10*maxLineLength,"px")};return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"CodeLineShapesStory"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"CodeLineShapesStory-panel",style:style},codeParts),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"CodeLineShapesStory-panel",style:style},shapeParts))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("CodeLineShapes",module).addWithChapters("all variants",{chapters:[{sections:[{title:"Single line of code",sectionFn:()=>buildAndRender({code:'"use strict;"',maxLineLength:30})},{title:"40 Character window",sectionFn:()=>buildAndRender({maxLineLength:40})},{title:"20 Character window",sectionFn:()=>buildAndRender({maxLineLength:20})}]}]})}.call(this,__webpack_require__(30)(module))},1677:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(14),_src_reducers_linter__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(40),_fixtures_long_file_sample__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(473),_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(90),_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(85),_src_components_CodeOverview__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(750),_src_components_CodeView__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(195),_src_configureStore__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(26),_CodeView_stories__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(198),_src_reducers_versions__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(10),_src_test_helpers__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(7),_utils__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(13),render=({content:content=_CodeView_stories__WEBPACK_IMPORTED_MODULE_10__.JS_SAMPLE,messages:messages=[],store:store=Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_9__.a)()}={})=>{var path="background.js",version=Object(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_11__.e)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_12__.m),{},{file:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_12__.l),{},{selected_file:path}),file_entries:{[path]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_12__.k),{},{path:path})}}));if(messages.length){var result=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_12__.b)({messages:messages.map(msg=>Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({uid:Object(_utils__WEBPACK_IMPORTED_MODULE_13__.c)()},msg),{},{file:path}))});store.dispatch(_src_reducers_linter__WEBPACK_IMPORTED_MODULE_3__.a.loadLinterResult({versionId:version.id,result:result}))}return Object(_utils__WEBPACK_IMPORTED_MODULE_13__.d)(react__WEBPACK_IMPORTED_MODULE_1__.createElement(_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_6__.b,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement(_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_6__.a,null),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_5__.a,{altSidePanel:react__WEBPACK_IMPORTED_MODULE_1__.createElement(_src_components_CodeOverview__WEBPACK_IMPORTED_MODULE_7__.a,{content:content,version:version})},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_src_components_CodeView__WEBPACK_IMPORTED_MODULE_8__.a,{content:content,isMinified:!1,mimeType:"application/javascript",version:version}))),{store:store})},getParams=()=>Object(_utils__WEBPACK_IMPORTED_MODULE_13__.e)({fullscreen:!0});Object(_storybook_react__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("CodeOverview",module).add("short file",()=>render({content:_CodeView_stories__WEBPACK_IMPORTED_MODULE_10__.JS_SAMPLE}),getParams()).add("long file",()=>render({content:_fixtures_long_file_sample__WEBPACK_IMPORTED_MODULE_4__.a}),getParams()).add("long file with messages",()=>render({content:_fixtures_long_file_sample__WEBPACK_IMPORTED_MODULE_4__.a,messages:[{line:27,type:"warning",message:"Use of console.log() detected",description:["This call to console.log() is pretty much Okay."]},{line:66,type:"notice",message:"Bizarre use of undefined",description:["...but I guess it's fine"]},{line:151,type:"error",message:"Use of queryTabs() is not permitted",description:["Calls to queryTabs() will not work in a future version"]}]}),getParams())}.call(this,__webpack_require__(30)(module))},168:function(module,exports,__webpack_require__){module.exports={menu:"styles_menu__1Ww1K",item:"styles_item__35MJI",itemButton:"styles_itemButton__2v8tg",itemContent:"styles_itemContent__l9Rm-",itemExpanded:"styles_itemExpanded__XLAXo"}},169:function(module,exports,__webpack_require__){module.exports={CodeOverview:"styles_CodeOverview__2oN8U",line:"styles_line__262YR",linterMessage:"styles_linterMessage__3k7fe",linterError:"styles_linterError__4ysjJ",linterNotice:"styles_linterNotice__1pruk",linterWarning:"styles_linterWarning__1GnVO"}},170:function(module,exports,__webpack_require__){module.exports={FileMetadata:"styles_FileMetadata__2sMi2",sha256:"styles_sha256__1sWO8"}},18:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return createInternalComment})),__webpack_require__.d(__webpack_exports__,"b",(function(){return createCommentKey})),__webpack_require__.d(__webpack_exports__,"a",(function(){return actions})),__webpack_require__.d(__webpack_exports__,"i",(function(){return selectCommentInfo})),__webpack_require__.d(__webpack_exports__,"h",(function(){return selectComment})),__webpack_require__.d(__webpack_exports__,"k",(function(){return selectVersionComments})),__webpack_require__.d(__webpack_exports__,"l",(function(){return selectVersionHasComments})),__webpack_require__.d(__webpack_exports__,"j",(function(){return selectFilePathHasComments})),__webpack_require__.d(__webpack_exports__,"f",(function(){return fetchAndLoadComments})),__webpack_require__.d(__webpack_exports__,"e",(function(){return deleteComment})),__webpack_require__.d(__webpack_exports__,"g",(function(){return manageComment}));var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(24),typesafe_actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9),_errors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(73),_api__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(33),createAction=typesafe_actions__WEBPACK_IMPORTED_MODULE_5__.deprecated.createAction,createInternalComment=comment=>({beginDelete:!1,considerDelete:!1,content:comment.comment,filename:comment.filename,id:comment.id,lineno:comment.lineno,userId:comment.user.id,userName:comment.user.name,userUrl:comment.user.url,userUsername:comment.user.username,versionId:comment.version_id}),initialState={byKey:{},byId:{},filePathsHavingComments:{},forVersionId:void 0,isLoading:!1},createCommentKey=({commentId:commentId,fileName:fileName,line:line})=>{var key="fileName:".concat(fileName,";line:").concat(line,";commentId:").concat(commentId);if(null!==line&&null===fileName)throw new Error('Cannot create key "'.concat(key,'" because fileName is empty'));return key},actions={abortDiscardComment:createAction("ABORT_DISCARD_COMMENT",resolve=>payload=>resolve(payload)),abortDeleteComment:createAction("ABORT_DELETE_COMMENT",resolve=>payload=>resolve(payload)),abortFetchVersionComments:createAction("ABORT_FETCH_VERSION_COMMENTS",resolve=>payload=>resolve(payload)),abortSaveComment:createAction("ABORT_SAVE_COMMENT",resolve=>payload=>resolve(payload)),beginComment:createAction("BEGIN_COMMENT",resolve=>payload=>resolve(payload)),beginDeleteComment:createAction("BEGIN_DELETE_COMMENT",resolve=>payload=>resolve(payload)),beginFetchVersionComments:createAction("BEGIN_FETCH_VERSION_COMMENTS",resolve=>payload=>resolve(payload)),beginSaveComment:createAction("BEGIN_SAVE_COMMENT",resolve=>payload=>resolve(payload)),considerDiscardComment:createAction("CONSIDER_DISCARD_COMMENT",resolve=>payload=>resolve(payload)),considerDeleteComment:createAction("CONSIDER_DELETE_COMMENT",resolve=>payload=>resolve(payload)),finishComment:createAction("FINISH_COMMENT",resolve=>payload=>resolve(payload)),setComments:createAction("SET_COMMENTS",resolve=>payload=>resolve(payload)),unsetComment:createAction("UNSET_COMMENT",resolve=>payload=>resolve(payload))},selectCommentInfo=({commentId:commentId,comments:comments,fileName:fileName,line:line,versionId:versionId})=>{if(comments.forVersionId===versionId)return comments.byKey[createCommentKey({commentId:commentId,fileName:fileName,line:line})]},selectComment=({comments:comments,id:id})=>comments.byId[id],selectVersionComments=({comments:comments,versionId:versionId})=>{if(comments.forVersionId===versionId)return Object.keys(comments.byId).reduce((all,id)=>{var comment=selectComment({comments:comments,id:parseInt(id,10)});return comment&&all.push(comment),all},[])},selectVersionHasComments=({_selectVersionComments:_selectVersionComments=selectVersionComments,comments:comments,versionId:versionId})=>{var all=_selectVersionComments({comments:comments,versionId:versionId});return all?all.length>0:void 0},selectFilePathHasComments=({comments:comments,path:path,versionId:versionId})=>comments.forVersionId===versionId&&(comments.filePathsHavingComments[path]||!1),fetchAndLoadComments=({_getAllComments:_getAllComments=_api__WEBPACK_IMPORTED_MODULE_7__.c,addonId:addonId,versionId:versionId})=>function(){var _ref=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__.a)(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark((function _callee(dispatch,getState){var _getState,apiState,response;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_getState=getState(),apiState=_getState.api,!_getState.comments.isLoading){_context.next=3;break}return _context.abrupt("return");case 3:return dispatch(actions.beginFetchVersionComments({versionId:versionId})),_context.next=6,_getAllComments({addonId:addonId,apiState:apiState,versionId:versionId});case 6:response=_context.sent,Object(_api__WEBPACK_IMPORTED_MODULE_7__.k)(response)?(dispatch(actions.abortFetchVersionComments({versionId:versionId})),dispatch(_errors__WEBPACK_IMPORTED_MODULE_6__.a.addError({error:response.error}))):dispatch(actions.setComments({versionId:versionId,comments:response.results}));case 8:case"end":return _context.stop()}}),_callee)})));return function(_x,_x2){return _ref.apply(this,arguments)}}(),deleteComment=({_apiDeleteComment:_apiDeleteComment=_api__WEBPACK_IMPORTED_MODULE_7__.b,addonId:addonId,commentId:commentId,versionId:versionId})=>function(){var _ref2=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__.a)(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark((function _callee2(dispatch,getState){var _getState2,apiState,response;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _getState2=getState(),apiState=_getState2.api,dispatch(actions.beginDeleteComment({commentId:commentId})),_context2.next=4,_apiDeleteComment({addonId:addonId,apiState:apiState,commentId:commentId,versionId:versionId});case 4:response=_context2.sent,Object(_api__WEBPACK_IMPORTED_MODULE_7__.k)(response)?(dispatch(actions.abortDeleteComment({commentId:commentId})),dispatch(_errors__WEBPACK_IMPORTED_MODULE_6__.a.addError({error:response.error}))):dispatch(actions.unsetComment({commentId:commentId}));case 6:case"end":return _context2.stop()}}),_callee2)})));return function(_x3,_x4){return _ref2.apply(this,arguments)}}(),manageComment=({_createOrUpdateComment:_createOrUpdateComment=_api__WEBPACK_IMPORTED_MODULE_7__.a,addonId:addonId,cannedResponseId:cannedResponseId,comment:comment,commentId:commentId,fileName:fileName,line:line,versionId:versionId})=>function(){var _ref3=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__.a)(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark((function _callee3(dispatch,getState){var _getState3,apiState,response;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _getState3=getState(),apiState=_getState3.api,dispatch(actions.beginSaveComment({commentId:commentId,versionId:versionId,fileName:fileName,line:line,pendingCommentText:comment||null})),_context3.next=4,_createOrUpdateComment({addonId:addonId,apiState:apiState,cannedResponseId:cannedResponseId,comment:comment,commentId:commentId,fileName:fileName,line:line,versionId:versionId});case 4:response=_context3.sent,Object(_api__WEBPACK_IMPORTED_MODULE_7__.k)(response)?(dispatch(actions.abortSaveComment({versionId:versionId,commentId:commentId,fileName:fileName,line:line})),dispatch(_errors__WEBPACK_IMPORTED_MODULE_6__.a.addError({error:response.error}))):(dispatch(actions.finishComment({versionId:versionId,commentId:commentId,fileName:fileName,line:line})),dispatch(actions.setComments({versionId:versionId,comments:[response]})));case 6:case"end":return _context3.stop()}}),_callee3)})));return function(_x5,_x6){return _ref3.apply(this,arguments)}}(),stateForVersion=({state:state,versionId:versionId})=>{var reset=state.forVersionId!==versionId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},state),{},{byId:reset?{}:state.byId,byKey:reset?{}:state.byKey,forVersionId:versionId})},getKeyAndInfo=_ref4=>{var byKey=_ref4.byKey,keyParams=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_ref4,["byKey"]),key=createCommentKey(keyParams);return{key:key,info:byKey[key]||{beginNewComment:!1,pendingCommentText:null,savingComment:!1,commentIds:[],considerDiscard:!1}}},prepareStateForKeyChange=({state:state,keyParams:keyParams,versionId:versionId})=>{var newState=stateForVersion({state:state,versionId:versionId}),_getKeyAndInfo=getKeyAndInfo(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({byKey:newState.byKey},keyParams));return{key:_getKeyAndInfo.key,info:_getKeyAndInfo.info,newState:newState}},adjustComment=({state:state,id:id,props:props})=>{var comment=selectComment({comments:state,id:id});if(!comment)throw new Error("Cannot adjust comment by ID=".concat(id," because it does not exist"));return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},comment),props)},findAllSubpaths=path=>{var _step,parts=[],subpaths=[],normPath=path.endsWith("/")?path.substring(0,path.length-1):path,_iterator=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__.a)(normPath.split("/"));try{for(_iterator.s();!(_step=_iterator.n()).done;){var part=_step.value;parts.push(part);var subpath=parts.join("/");subpath&&subpaths.push(subpath)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return subpaths},findFilePathsHavingComments=byId=>{for(var map={},_i=0,_Object$keys=Object.keys(byId);_i<_Object$keys.length;_i++){var _id=_Object$keys[_i],comment=byId[parseInt(_id,10)];if(comment&&comment.filename){var _step2,_iterator2=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__.a)(findAllSubpaths(comment.filename));try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){map[_step2.value]=!0}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}return map};__webpack_exports__.d=(state=initialState,action)=>{switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_5__.getType)(actions.abortFetchVersionComments):var versionId=action.payload.versionId,newState=stateForVersion({state:state,versionId:versionId});return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},newState),{},{isLoading:!1});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_5__.getType)(actions.beginComment):var _action$payload=action.payload,_versionId=_action$payload.versionId,keyParams=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_action$payload,["versionId"]),_prepareStateForKeyCh=prepareStateForKeyChange({state:state,keyParams:keyParams,versionId:_versionId}),_key=_prepareStateForKeyCh.key,info=_prepareStateForKeyCh.info,_newState=_prepareStateForKeyCh.newState;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState),{},{byKey:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState.byKey),{},{[_key]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},info),{},{beginNewComment:!0,pendingCommentText:null,savingComment:!1})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_5__.getType)(actions.beginSaveComment):var _action$payload2=action.payload,pendingCommentText=_action$payload2.pendingCommentText,_versionId2=_action$payload2.versionId,_keyParams=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_action$payload2,["pendingCommentText","versionId"]),_prepareStateForKeyCh2=prepareStateForKeyChange({state:state,keyParams:_keyParams,versionId:_versionId2}),_key2=_prepareStateForKeyCh2.key,_info=_prepareStateForKeyCh2.info,_newState2=_prepareStateForKeyCh2.newState;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState2),{},{byKey:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState2.byKey),{},{[_key2]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_info),{},{pendingCommentText:pendingCommentText,savingComment:!0})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_5__.getType)(actions.abortSaveComment):var _action$payload3=action.payload,_versionId3=_action$payload3.versionId,_keyParams2=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_action$payload3,["versionId"]),_prepareStateForKeyCh3=prepareStateForKeyChange({state:state,keyParams:_keyParams2,versionId:_versionId3}),_key3=_prepareStateForKeyCh3.key,_info2=_prepareStateForKeyCh3.info,_newState3=_prepareStateForKeyCh3.newState;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState3),{},{byKey:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState3.byKey),{},{[_key3]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_info2),{},{savingComment:!1})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_5__.getType)(actions.considerDiscardComment):var _action$payload4=action.payload,_versionId4=_action$payload4.versionId,_keyParams3=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_action$payload4,["versionId"]),_prepareStateForKeyCh4=prepareStateForKeyChange({state:state,keyParams:_keyParams3,versionId:_versionId4}),_key4=_prepareStateForKeyCh4.key,_info3=_prepareStateForKeyCh4.info,_newState4=_prepareStateForKeyCh4.newState;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState4),{},{byKey:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState4.byKey),{},{[_key4]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_info3),{},{considerDiscard:!0})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_5__.getType)(actions.abortDiscardComment):var _action$payload5=action.payload,_versionId5=_action$payload5.versionId,_keyParams4=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_action$payload5,["versionId"]),_prepareStateForKeyCh5=prepareStateForKeyChange({state:state,keyParams:_keyParams4,versionId:_versionId5}),_key5=_prepareStateForKeyCh5.key,_info4=_prepareStateForKeyCh5.info,_newState5=_prepareStateForKeyCh5.newState;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState5),{},{byKey:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState5.byKey),{},{[_key5]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_info4),{},{considerDiscard:!1})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_5__.getType)(actions.finishComment):var _action$payload6=action.payload,_versionId6=_action$payload6.versionId,_keyParams5=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_action$payload6,["versionId"]),_prepareStateForKeyCh6=prepareStateForKeyChange({state:state,keyParams:_keyParams5,versionId:_versionId6}),_key6=_prepareStateForKeyCh6.key,_info5=_prepareStateForKeyCh6.info,_newState6=_prepareStateForKeyCh6.newState;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState6),{},{byKey:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState6.byKey),{},{[_key6]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_info5),{},{beginNewComment:!1,considerDiscard:!1,pendingCommentText:null,savingComment:!1})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_5__.getType)(actions.setComments):var _step3,_action$payload7=action.payload,comments=_action$payload7.comments,_versionId7=_action$payload7.versionId,_newState7=stateForVersion({state:state,versionId:_versionId7}),byKey=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState7.byKey),byId=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState7.byId),_iterator3=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__.a)(comments);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var comment=_step3.value;byId[comment.id]=createInternalComment(comment);var _getKeyAndInfo2=getKeyAndInfo({byKey:byKey,commentId:void 0,fileName:comment.filename||null,line:comment.lineno||null}),_key7=_getKeyAndInfo2.key,_info6=_getKeyAndInfo2.info;byKey[_key7]=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_info6),{},{commentIds:_info6.commentIds.includes(comment.id)?_info6.commentIds:_info6.commentIds.concat(comment.id)})}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState7),{},{byKey:byKey,byId:byId,filePathsHavingComments:findFilePathsHavingComments(byId),isLoading:!1});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_5__.getType)(actions.beginFetchVersionComments):var _versionId8=action.payload.versionId,_newState8=stateForVersion({state:state,versionId:_versionId8});return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_newState8),{},{isLoading:!0});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_5__.getType)(actions.abortDeleteComment):var commentId=action.payload.commentId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},state),{},{byId:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},state.byId),{},{[commentId]:adjustComment({state:state,id:commentId,props:{beginDelete:!1,considerDelete:!1}})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_5__.getType)(actions.beginDeleteComment):var _commentId=action.payload.commentId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},state),{},{byId:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},state.byId),{},{[_commentId]:adjustComment({state:state,id:_commentId,props:{beginDelete:!0,considerDelete:!1}})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_5__.getType)(actions.considerDeleteComment):var _commentId2=action.payload.commentId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},state),{},{byId:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},state.byId),{},{[_commentId2]:adjustComment({state:state,id:_commentId2,props:{beginDelete:!1,considerDelete:!0}})})});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_5__.getType)(actions.unsetComment):var _ret=function(){for(var commentId=action.payload.commentId,byId=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},state.byId),{},{[commentId]:void 0}),byKey=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},state.byKey),_i2=0,_Object$keys2=Object.keys(byKey);_i2<_Object$keys2.length;_i2++){var _key8=_Object$keys2[_i2],_info7=byKey[_key8];byKey[_key8]=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},_info7),{},{commentIds:_info7.commentIds.filter(id=>id!==commentId)})}return{v:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__.a)({},state),{},{byId:byId,byKey:byKey,filePathsHavingComments:findFilePathsHavingComments(byId)})}}();if("object"==typeof _ret)return _ret.v;default:return state}}},1898:function(module,exports,__webpack_require__){},1899:function(module,exports,__webpack_require__){},1900:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(14),_src_configureStore__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(26),_src_components_Comment__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(250),_src_reducers_comments__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(18),_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(7),_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(13),fakeComment=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.a)({comment:["The use of `eval()` is dangerous. ","It looks like you don't even need it here.","\n","Maybe you could remove it?"].join("")}),render=(_ref={})=>{var _ref$considerDelete=_ref.considerDelete,considerDelete=void 0!==_ref$considerDelete&&_ref$considerDelete,_ref$deleting=_ref.deleting,deleting=void 0!==_ref$deleting&&_ref$deleting,_ref$fileName=_ref.fileName,fileName=void 0===_ref$fileName?null:_ref$fileName,initialComment=_ref.initialComment,_ref$line=_ref.line,line=void 0===_ref$line?null:_ref$line,_ref$beginComment=_ref.beginComment,beginComment=void 0!==_ref$beginComment&&_ref$beginComment,_ref$store=_ref.store,store=void 0===_ref$store?Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_4__.a)():_ref$store,_ref$versionId=_ref.versionId,versionId=void 0===_ref$versionId?2:_ref$versionId,moreProps=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_ref,["considerDelete","deleting","fileName","initialComment","line","beginComment","store","versionId"]),key={fileName:fileName,line:line,versionId:versionId},commentId=null;initialComment&&(store.dispatch(_src_reducers_comments__WEBPACK_IMPORTED_MODULE_6__.a.setComments(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},key),{},{comments:[initialComment]}))),commentId=initialComment.id,considerDelete&&store.dispatch(_src_reducers_comments__WEBPACK_IMPORTED_MODULE_6__.a.considerDeleteComment({commentId:commentId})),deleting&&store.dispatch(_src_reducers_comments__WEBPACK_IMPORTED_MODULE_6__.a.beginDeleteComment({commentId:commentId}))),beginComment&&store.dispatch(_src_reducers_comments__WEBPACK_IMPORTED_MODULE_6__.a.beginComment({commentId:commentId||void 0,fileName:fileName,line:line,versionId:versionId}));var props=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({addonId:1,commentId:commentId},key),moreProps);return Object(_utils__WEBPACK_IMPORTED_MODULE_8__.d)(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_Comment__WEBPACK_IMPORTED_MODULE_5__.a,props),{store:store})};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("Comment",module).addWithChapters("form variants",{chapters:[{sections:[{title:"adding a new comment",sectionFn:()=>render({beginComment:!0})},{title:"editing a comment",sectionFn:()=>render({initialComment:fakeComment,beginComment:!0})},{title:"saving a comment",sectionFn:()=>{var keyParams={commentId:void 0,fileName:null,line:null,versionId:1},store=Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_4__.a)();return store.dispatch(_src_reducers_comments__WEBPACK_IMPORTED_MODULE_6__.a.beginComment(keyParams)),store.dispatch(_src_reducers_comments__WEBPACK_IMPORTED_MODULE_6__.a.beginSaveComment(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},keyParams),{},{pendingCommentText:"This call to browser.getFuzzTabs() has been deprecated."}))),render(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},keyParams),{},{store:store}))}},{title:"consider discarding a comment",sectionFn:()=>{var keyParams={commentId:void 0,fileName:null,line:null,versionId:1},store=Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_4__.a)();return store.dispatch(_src_reducers_comments__WEBPACK_IMPORTED_MODULE_6__.a.beginComment(keyParams)),store.dispatch(_src_reducers_comments__WEBPACK_IMPORTED_MODULE_6__.a.considerDiscardComment(keyParams)),render(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},keyParams),{},{initialComment:fakeComment,store:store}))}}]}]}).addWithChapters("read-only variants",{chapters:[{sections:[{title:"viewing an existing comment",sectionFn:()=>render({initialComment:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},fakeComment),{},{comment:"This is not allowed."})})},{title:"viewing a multi-line comment",sectionFn:()=>render({initialComment:fakeComment})},{title:"viewing a very long comment",sectionFn:()=>render({initialComment:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},fakeComment),{},{comment:_utils__WEBPACK_IMPORTED_MODULE_8__.b.replace(/[\n\s]+/g,"")})})},{title:"consider deleting a comment",sectionFn:()=>render({considerDelete:!0,initialComment:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},fakeComment),{},{id:321,comment:"This function call is dangerous."})})},{title:"deleting a comment",sectionFn:()=>render({deleting:!0,initialComment:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},fakeComment),{},{id:321,comment:"This function call is dangerous."})})}]}]})}.call(this,__webpack_require__(30)(module))},1901:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(31),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(27),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(14),_src_configureStore__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(26),_src_components_CommentList__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(150),_src_reducers_comments__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(18),_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7),_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(13),render=(_ref={})=>{var _ref$addonId=_ref.addonId,addonId=void 0===_ref$addonId?1:_ref$addonId,_ref$beginComment=_ref.beginComment,beginComment=void 0!==_ref$beginComment&&_ref$beginComment,_ref$comments=_ref.comments,comments=void 0===_ref$comments?[]:_ref$comments,_ref$fileName=_ref.fileName,fileName=void 0===_ref$fileName?null:_ref$fileName,_ref$line=_ref.line,line=void 0===_ref$line?null:_ref$line,_ref$store=_ref.store,store=void 0===_ref$store?Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_5__.a)():_ref$store,_ref$versionId=_ref.versionId,versionId=void 0===_ref$versionId?2:_ref$versionId,moreProps=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.a)(_ref,["addonId","beginComment","comments","fileName","line","store","versionId"]);beginComment&&store.dispatch(_src_reducers_comments__WEBPACK_IMPORTED_MODULE_7__.a.beginComment({commentId:void 0,fileName:fileName,line:line,versionId:versionId}));var _step,_iterator=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(comments);try{for(_iterator.s();!(_step=_iterator.n()).done;){var comment=_step.value;store.dispatch(_src_reducers_comments__WEBPACK_IMPORTED_MODULE_7__.a.setComments({versionId:versionId,comments:[comment]}))}}catch(err){_iterator.e(err)}finally{_iterator.f()}var indent=react__WEBPACK_IMPORTED_MODULE_3__.createElement(react__WEBPACK_IMPORTED_MODULE_3__.Fragment,null,""),codeLine=(...content)=>react__WEBPACK_IMPORTED_MODULE_3__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_3__.createElement("code",null,content)),props=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({addonId:addonId,fileName:fileName,line:line,versionId:versionId},moreProps);return Object(_utils__WEBPACK_IMPORTED_MODULE_9__.d)(react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:"CommentListStory"},codeLine("body {"),codeLine(indent,"margin: 0;"),codeLine(indent,"padding: 0;"),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_src_components_CommentList__WEBPACK_IMPORTED_MODULE_6__.a,props,content=>content),codeLine(indent,'background-color: "fuschia";'),codeLine(indent,"box-sizing: border-box;"),codeLine("}"),codeLine(indent),codeLine("button {"),codeLine(indent,'color: "blue";'),codeLine("}")),{store:store})};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_4__.storiesOf)("CommentList",module).add("One comment",()=>render({comments:[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.a)({id:1,comment:"This is unnecessary due to the reset library up above"})]})).add("Multiple comments",()=>render({comments:[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.a)({id:1,comment:"This is unnecessary due to the reset library up above"}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.a)({id:2,comment:"Thanks for promptly addressing our other change requests"})]})).add("Comment entry form",()=>render({beginComment:!0})).add("Comment entry form with saved comments",()=>render({beginComment:!0,comments:[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.a)({id:1,comment:"This is unnecessary due to the reset library up above"}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.a)({id:2,comment:"Thanks for promptly addressing our other change requests"})]}))}.call(this,__webpack_require__(30)(module))},1902:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14),_src_reducers_popover__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(66),_src_components_CommentSummaryButton__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(342),_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13),_CommentSummary_stories__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(340),setUpStore=({comments:comments=[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)()]}={})=>{var store=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.e)({comments:comments});return store.dispatch(_src_reducers_popover__WEBPACK_IMPORTED_MODULE_2__.a.show("COMMENTS_SUMMARY")),store},render=({store:store=setUpStore()}={})=>Object(_utils__WEBPACK_IMPORTED_MODULE_5__.d)(react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src_components_CommentSummaryButton__WEBPACK_IMPORTED_MODULE_3__.a,null)),{store:store});Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("CommentSummaryButton",module).add("one line comment",()=>render({store:setUpStore({comments:Object(_CommentSummary_stories__WEBPACK_IMPORTED_MODULE_6__.createOneLineComment)()})})).add("very long comments",()=>render({store:setUpStore({comments:Object(_CommentSummary_stories__WEBPACK_IMPORTED_MODULE_6__.createVeryLongComments)()})}))}.call(this,__webpack_require__(30)(module))},1903:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14),_src_components_Commentable__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(152),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13),renderRow=({content:content,line:line})=>Object(_utils__WEBPACK_IMPORTED_MODULE_3__.d)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src_components_Commentable__WEBPACK_IMPORTED_MODULE_2__.a,{addCommentClassName:"CommentableStory-addComment",as:"div",className:"CommentableStory-row",fileName:"manifest.json",line:line,versionId:1},addCommentButton=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,addCommentButton,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"CommentableStory-content"},content))));Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Commentable",module).add("default",()=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,renderRow({line:1,content:"This is line 1"}),renderRow({line:2,content:"This is line 2"}),renderRow({line:3,content:"This is line 3"})))}.call(this,__webpack_require__(30)(module))},1904:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27),query_string__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(56),query_string__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_2__),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),_storybook_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(14),react_diff_view__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(54),_src_configureStore__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(26),_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(85),_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(90),_src_components_DiffView__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(753),_src_components_DiffView_fixtures_basicDiff__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(477),_src_components_DiffView_fixtures_minifiedDiff__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(478),_src_components_DiffView_fixtures_diffWithDeletions__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(479),_src_components_DiffView_fixtures_largeDiff__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(480),_src_reducers_linter__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(40),_src_reducers_versions__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(10),_src_test_helpers__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(7),_src_utils__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(6),_fixtures_long_unbroken_minified_diff__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(339),_utils__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(13),getParams=()=>Object(_utils__WEBPACK_IMPORTED_MODULE_19__.e)({fullscreen:!0}),render=(moreProps={},store=Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_6__.a)())=>{var location=moreProps.location,remainingProps=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(moreProps,["location"]),props=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({diff:Object(react_diff_view__WEBPACK_IMPORTED_MODULE_5__.e)(_src_components_DiffView_fixtures_basicDiff__WEBPACK_IMPORTED_MODULE_10__.a)[0],isMinified:!1,mimeType:"application/javascript",version:Object(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_15__.e)(_src_test_helpers__WEBPACK_IMPORTED_MODULE_16__.m)},remainingProps);return Object(_utils__WEBPACK_IMPORTED_MODULE_19__.d)(react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_7__.b,null,react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_7__.a,null),react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_8__.a,null,react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_src_components_DiffView__WEBPACK_IMPORTED_MODULE_9__.a,props))),{store:store,location:location})},renderWithMessages=(messages,_ref={})=>{var _ref$diff=_ref.diff,diff=void 0===_ref$diff?Object(react_diff_view__WEBPACK_IMPORTED_MODULE_5__.e)(_src_components_DiffView_fixtures_basicDiff__WEBPACK_IMPORTED_MODULE_10__.a)[0]:_ref$diff,moreProps=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_ref,["diff"]),path="lib/some-file.js",result=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_16__.b)({messages:messages.map(msg=>Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({uid:Object(_utils__WEBPACK_IMPORTED_MODULE_19__.c)()},msg),{},{file:path}))}),store=Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_6__.a)(),version=Object(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_15__.e)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_16__.m),{},{file:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_16__.l),{},{selected_file:path}),file_entries:{[path]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_16__.k),{},{path:path})}}));store.dispatch(_src_reducers_linter__WEBPACK_IMPORTED_MODULE_14__.a.loadLinterResult({versionId:version.id,result:result}));var props=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({diff:diff,isMinified:!1,mimeType:"application/javascript",version:version},moreProps);return render(props,store)};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_4__.storiesOf)("DiffView",module).add("diff with additions and deletions",()=>render({diff:Object(react_diff_view__WEBPACK_IMPORTED_MODULE_5__.e)(_src_components_DiffView_fixtures_diffWithDeletions__WEBPACK_IMPORTED_MODULE_12__.a)[0]}),getParams()).add("no differences",()=>render({diff:null}),getParams()).add("one global linter message",()=>renderWithMessages([{line:null,message:"The &#34;update_url&#34; property is not used by Firefox.",description:["The &#34;update_url&#34; is not used by Firefox in the root of a manifest; your add-on will be updated via the Add-ons site and not your &#34;update_url&#34;."],type:"warning"}]),getParams()).add("multiple global linter messages",()=>renderWithMessages([{line:null,message:"The &#34;update_url&#34; property is not used by Firefox.",description:["The &#34;update_url&#34; is not used by Firefox in the root of a manifest; your add-on will be updated via the Add-ons site and not your &#34;update_url&#34;."],type:"warning"},{line:null,message:"/permissions: Unknown permissions &#34;unlimitedStorage&#34; at 8.",description:["See ... for more information."],type:"notice"}]),getParams()).add("one linter message on one line",()=>renderWithMessages([{line:39,message:"expect().toHaveProp() detected",description:["Calls to expect().toHaveProp() might lead to your add-on getting approved."],type:"warning"}]),getParams()).add("multiple linter messages on one line",()=>renderWithMessages([{line:39,message:"expect().toHaveProp() detected",description:["Calls to expect().toHaveProp() might lead to your add-on getting approved."],type:"warning"},{line:39,message:"Unsafe call to expect()",description:["Calling expect() like this is unsafe but not really."],type:"error"}]),getParams()).add("multiple linter messages on multiple lines",()=>renderWithMessages([{line:9,message:"Third party library detected",description:["This add-on may require additional review."],type:"warning"},{line:24,message:"Unsafe call to console.log()",description:["Calling console.log() like this is unsafe but not really."],type:"error"}],{diff:Object(react_diff_view__WEBPACK_IMPORTED_MODULE_5__.e)(_src_components_DiffView_fixtures_diffWithDeletions__WEBPACK_IMPORTED_MODULE_12__.a)[0]}),getParams()).add("slow syntax highlighting warning",()=>render({diff:Object(react_diff_view__WEBPACK_IMPORTED_MODULE_5__.e)(_src_components_DiffView_fixtures_minifiedDiff__WEBPACK_IMPORTED_MODULE_11__.a)[0]}),getParams()).add("slow syntax highlighting warning w/ linter message",()=>renderWithMessages([{line:null,message:"There is a problem with this file.",description:["This file has a problem"],type:"warning"}],{diff:Object(react_diff_view__WEBPACK_IMPORTED_MODULE_5__.e)(_src_components_DiffView_fixtures_minifiedDiff__WEBPACK_IMPORTED_MODULE_11__.a)[0]}),getParams()).add("slow diff warning",()=>render({diff:Object(react_diff_view__WEBPACK_IMPORTED_MODULE_5__.e)(_src_components_DiffView_fixtures_largeDiff__WEBPACK_IMPORTED_MODULE_13__.a)[0],location:Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_16__.c)({search:query_string__WEBPACK_IMPORTED_MODULE_2___default.a.stringify({[_src_utils__WEBPACK_IMPORTED_MODULE_17__.c]:!1})})}),getParams()).add("slow diff warning (overridden)",()=>render({diff:Object(react_diff_view__WEBPACK_IMPORTED_MODULE_5__.e)(_src_components_DiffView_fixtures_largeDiff__WEBPACK_IMPORTED_MODULE_13__.a)[0],location:Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_16__.c)({search:query_string__WEBPACK_IMPORTED_MODULE_2___default.a.stringify({[_src_utils__WEBPACK_IMPORTED_MODULE_17__.c]:!0})})}),getParams()).add("long unbroken minified diff",()=>renderWithMessages([{line:1,message:"Minified diff detected",description:["You do not need to minify add-on code."],type:"warning"}],{diff:Object(react_diff_view__WEBPACK_IMPORTED_MODULE_5__.e)("diff --git a/src/components/DiffView.test.tsx b/src/components/DiffView.test.tsx\nindex 5ca1a30..4e2c90f 100644\n--- a/src/components/DiffView.test.tsx\n+++ b/src/components/DiffView.test.tsx\n@@ -1,1 +1,1 @@\n-\n+".concat(_fixtures_long_unbroken_minified_diff__WEBPACK_IMPORTED_MODULE_18__.a))[0]}),getParams())}.call(this,__webpack_require__(30)(module))},1906:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14),_src_components_ErrorBoundary__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(754),render=children=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_ErrorBoundary__WEBPACK_IMPORTED_MODULE_2__.a,null,children);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("ErrorBoundary",module).add("with error",()=>render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,new Error("Test Error")))).add("without error",()=>render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"This is error-less content")))}.call(this,__webpack_require__(30)(module))},1907:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14),_src_configureStore__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(26),_src_components_CodeView__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(195),_src_components_FadableContent__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(196),_src_reducers_versions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10),_src_test_helpers__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7),_CodeView_stories__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(198),_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(13),renderWithContent=content=>Object(_utils__WEBPACK_IMPORTED_MODULE_8__.d)(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"FadableContent-shell"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_FadableContent__WEBPACK_IMPORTED_MODULE_4__.a,{fade:!0},content)),{store:Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_2__.a)()});Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("FadableContent",module).add("fading out code",()=>renderWithContent(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_CodeView__WEBPACK_IMPORTED_MODULE_3__.a,{content:_CodeView_stories__WEBPACK_IMPORTED_MODULE_7__.JS_SAMPLE,isMinified:!1,mimeType:"application/javascript",version:Object(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_5__.e)(_src_test_helpers__WEBPACK_IMPORTED_MODULE_6__.m)}))).add("fading out text",()=>renderWithContent(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,Object(_utils__WEBPACK_IMPORTED_MODULE_8__.a)(6))))}.call(this,__webpack_require__(30)(module))},1908:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_storybook_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(14),_src_components_FileMetadata__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(481),_src_reducers_versions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_src_test_helpers__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),loadVersionFile=(version=_src_test_helpers__WEBPACK_IMPORTED_MODULE_5__.m)=>{var store=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_5__.d)({version:version});return store.dispatch(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_4__.b.loadVersionFile({path:version.file.selected_file,version:version})),Object(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_4__.m)(store.getState().versions,version.id,version.file.selected_file)};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("FileMetadata",module).addWithChapters("all variants",{chapters:[{sections:[{title:"with lists of versions loaded",sectionFn:()=>{var versionFile=loadVersionFile();return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_components_FileMetadata__WEBPACK_IMPORTED_MODULE_3__.a,{file:versionFile,versionString:"1.2"})}},{title:"with a constrained width",sectionFn:()=>{var path="very-long-file-name.json",version=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_5__.m),{},{file:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_5__.m.file),{},{entries:{[path]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_5__.k),{},{filename:path,path:path,sha256:"521fce5b388cd8f06d7fbf35bf4988b16a3a465fd3f1af92727eeaf5b6ab8ca6"})},selected_file:path})}),versionFile=loadVersionFile(version);return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{style:{width:"200px"}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_components_FileMetadata__WEBPACK_IMPORTED_MODULE_3__.a,{file:versionFile,versionString:"1.2"}))}}]}]})}.call(this,__webpack_require__(30)(module))},1909:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(27),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(14),_src_components_FileTree__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(755),_src_reducers_versions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10),_src_reducers_linter__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(40),_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(7),_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(13),fakeDirectoryEntry=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.k),{},{mime_category:"directory"}),defaultVersion=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.m),{},{id:456,file:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.m.file),{},{entries:{"manifest.json":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.k),{},{filename:"manifest.json",path:"manifest.json"}),"background-scripts":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},fakeDirectoryEntry),{},{filename:"background-scripts",path:"background-scripts"}),"background-scripts/index.js":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.k),{},{depth:1,filename:"index.js",path:"background-scripts/index.js"}),"background-scripts/libs":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},fakeDirectoryEntry),{},{depth:1,filename:"libs",path:"background-scripts/libs"}),"background-scripts/libs/jquery.min.js":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.k),{},{depth:2,filename:"jquery.min.js",path:"background-scripts/libs/jquery.min.js"}),"background-scripts/extra":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},fakeDirectoryEntry),{},{depth:1,filename:"extra",path:"background-scripts/extra"}),"styles.css":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.k),{},{filename:"styles.css",path:"styles.css"}),"jquery-ui":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},fakeDirectoryEntry),{},{depth:0,filename:"jquery-ui",path:"jquery-ui"}),"jquery-ui/css":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},fakeDirectoryEntry),{},{depth:1,filename:"css",path:"jquery-ui/css"}),"jquery-ui/js":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},fakeDirectoryEntry),{},{depth:1,filename:"js",path:"jquery-ui/js"}),"jquery-ui/js/jquery-1.7.1.min.js":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.k),{},{depth:2,filename:"jquery-1.7.1.min.js",path:"jquery-ui/js/jquery-1.7.1.min.js"}),"jquery-ui/js/jquery-ui-1.8.16.custom.min.js":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.k),{},{depth:2,filename:"jquery-ui-1.8.16.custom.min.js",path:"jquery-ui/js/jquery-ui-1.8.16.custom.min.js"}),lib:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},fakeDirectoryEntry),{},{depth:0,filename:"lib",path:"lib"}),"lib/adblockplus.js":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.k),{},{depth:1,filename:"adblockplus.js",path:"lib/adblockplus.js"}),"lib/compat.js":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.k),{},{depth:1,filename:"compat.js",path:"lib/compat.js"}),"lib/info.js":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.k),{},{depth:1,filename:"info.js",path:"lib/info.js"}),"lib/publicSuffixList.js":Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.k),{},{depth:1,filename:"publicSuffixList.js",path:"lib/publicSuffixList.js"})}})}),messages=[Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.h),{},{type:"error",file:"jquery-ui/js/jquery-1.7.1.min.js"}),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.h),{},{type:"warning",file:"lib/compat.js"}),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.h),{},{type:"notice",file:"lib/info.js"})],onSelectFile=path=>{alert("Selected file: ".concat(path))},render=(_ref={})=>{var _ref$version=_ref.version,version=void 0===_ref$version?defaultVersion:_ref$version,_ref$store=_ref.store,store=void 0===_ref$store?Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.d)({version:version}):_ref$store,moreProps=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__.a)(_ref,["version","store"]);store.dispatch(_src_reducers_linter__WEBPACK_IMPORTED_MODULE_6__.a.loadLinterResult({versionId:version.id,result:Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.b)({messages:messages})}));var props=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({onSelect:onSelectFile,versionId:version.id,comparedToVersionId:null},moreProps);return Object(_utils__WEBPACK_IMPORTED_MODULE_8__.d)(react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src_components_FileTree__WEBPACK_IMPORTED_MODULE_4__.a,props),{store:store})};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("FileTree",module).add("fluid width",()=>render()).add("small width",()=>react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"FileTreeStory-smallWidth"}," ",render())).add("files with comments",()=>{var version=defaultVersion,store=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.d)({version:version});return store.dispatch(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_5__.b.expandTree({versionId:version.id})),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.f)({store:store,versionId:version.id,comments:[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.a)({filename:version.file.entries["manifest.json"].path}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.a)({filename:version.file.entries["jquery-ui/js/jquery-1.7.1.min.js"].path}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.a)({filename:version.file.entries["background-scripts/libs/jquery.min.js"].path}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.a)({filename:version.file.entries["lib/compat.js"].path})]}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"FileTreeStory-halfWidth"},render({store:store}))})}.call(this,__webpack_require__(30)(module))},1910:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(14),_src_components_FileTreeNode__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(253),_src_test_helpers__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(13),getProps=({hasChildNodes:hasChildNodes=!1,isExpanded:isExpanded=!1,isFolder:isFolder=!1,level:level=0,nodeName:nodeName="node name",nodeId:nodeId="node-id",renderChildNodes:renderChildNodes=(()=>({})),versionId:versionId=_src_test_helpers__WEBPACK_IMPORTED_MODULE_5__.m.id}={})=>({getToggleProps:()=>({onClick:()=>{},onKeyDown:()=>{},role:"button",tabIndex:0}),hasChildNodes:hasChildNodes,isExpanded:isExpanded,isFolder:isFolder,level:level,node:{id:nodeId,name:nodeName},renderChildNodes:renderChildNodes,onSelect:()=>{},versionId:versionId,comparedToVersionId:null}),render=(_ref={})=>{var _ref$versionId=_ref.versionId,versionId=void 0===_ref$versionId?543219:_ref$versionId,_ref$store=_ref.store,store=void 0===_ref$store?Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_5__.d)({version:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_5__.m),{},{id:versionId})}):_ref$store,props=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_ref,["versionId","store"]);return Object(_utils__WEBPACK_IMPORTED_MODULE_6__.d)(react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"FileTreeNodeStory-shell"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src_components_FileTreeNode__WEBPACK_IMPORTED_MODULE_4__.a,getProps(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({versionId:versionId},props)))),{store:store})};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("FileTreeNode",module).addWithChapters("all variants",{chapters:[{sections:[{title:"file node",sectionFn:()=>render({nodeName:"manifest.json"})},{title:"directory node",sectionFn:()=>render({isFolder:!0,nodeName:"background-scripts"})},{title:"directory, expanded, without children",sectionFn:()=>render({isFolder:!0,isExpanded:!0,nodeName:"background-scripts"})},{title:"directory, expanded, with a child",sectionFn:()=>{var store=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_5__.d)({version:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_5__.m),{},{id:921})});return render({versionId:921,hasChildNodes:!0,isExpanded:!0,isFolder:!0,nodeName:"background-scripts",renderChildNodes:()=>react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src_components_FileTreeNode__WEBPACK_IMPORTED_MODULE_4__.a,getProps({versionId:921,level:1,nodeName:"background.js"})),store:store})}},{title:"selected node",sectionFn:()=>{var externalVersion=_src_test_helpers__WEBPACK_IMPORTED_MODULE_5__.m,store=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_5__.d)({version:externalVersion});return render({store:store,versionId:externalVersion.id,nodeId:externalVersion.file.selected_file})}}]}]})}.call(this,__webpack_require__(30)(module))},1911:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_storybook_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(14),_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(90),_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(85),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13),getParams=()=>Object(_utils__WEBPACK_IMPORTED_MODULE_5__.e)({fullscreen:!0}),renderInGrid=content=>Object(_utils__WEBPACK_IMPORTED_MODULE_5__.d)(react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_4__.b,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_4__.a,{className:"FullscreenGridStory-Header"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"FullscreenGridStory-placeholder"},"Header")),content));Object(_storybook_react__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("FullscreenGrid",module).add("default",()=>renderInGrid(react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_3__.a,{altSidePanel:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"FullscreenGridStory-placeholder"},"altSidePanel"),altSidePanelClass:"FullscreenGridStory-altSidePanel",className:"FullscreenGridStory-content",mainSidePanel:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"FullscreenGridStory-placeholder"},"mainSidePanel"),mainSidePanelClass:"FullscreenGridStory-mainSidePanel"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"FullscreenGridStory-placeholder"},"Content"))),getParams()).add("long content",()=>{var someText=Object(_utils__WEBPACK_IMPORTED_MODULE_5__.a)(10);return renderInGrid(react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_3__.a,{altSidePanel:someText,mainSidePanel:someText},someText))},getParams()).add("top content",()=>renderInGrid(react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_3__.a,{topContent:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("FullscreenGridStory-placeholder","FullscreenGridStory-topContent")},"Example of top content")})),getParams())}.call(this,__webpack_require__(30)(module))},1912:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),query_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(56),query_string__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(14),_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(46),_src_reducers_linter__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(40),_src_test_helpers__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7),_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(13),createMessage=(attributes={})=>Object(_src_reducers_linter__WEBPACK_IMPORTED_MODULE_5__.b)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_6__.h),attributes)),render=children=>Object(_utils__WEBPACK_IMPORTED_MODULE_7__.d)(children),renderWithMessageUid=(children,messageUid)=>Object(_utils__WEBPACK_IMPORTED_MODULE_7__.d)(children,{location:Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_6__.c)({search:query_string__WEBPACK_IMPORTED_MODULE_1___default.a.stringify({messageUid:messageUid})})});Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("LinterMessage",module).addWithChapters("all variants",{chapters:[{sections:[{title:"Error",sectionFn:()=>render(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{message:createMessage({type:"error",message:"The value of &lt;em:id&gt; is invalid",description:["The values supplied for &lt;em:id&gt; in the install.rdf file is not a valid UUID string."]})}))},{title:"Error highlighted",sectionFn:()=>renderWithMessageUid(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{message:createMessage({type:"error",message:"The value of &lt;em:id&gt; is invalid",description:["The values supplied for &lt;em:id&gt; in the install.rdf file is not a valid UUID string."],uid:"some-uid"})}),"some-uid")},{title:"Warning",sectionFn:()=>render(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{message:createMessage({type:"warning",message:"The manifest contains a dictionary but no id property.",description:["A dictionary was found in the manifest, but there was no id set."]})}))},{title:"Warning highlighted",sectionFn:()=>renderWithMessageUid(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{message:createMessage({type:"warning",message:"The manifest contains a dictionary but no id property.",description:["A dictionary was found in the manifest, but there was no id set."],uid:"some-uid"})}),"some-uid")},{title:"Notice",sectionFn:()=>render(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{message:createMessage({type:"notice",message:"Known JS library detected",description:["JavaScript libraries are discouraged for\n                simple add-ons, but are generally accepted."]})}))},{title:"Notice highlighted",sectionFn:()=>renderWithMessageUid(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{message:createMessage({type:"notice",message:"Known JS library detected",description:["JavaScript libraries are discouraged for\n                simple add-ons, but are generally accepted."],uid:"some-uid"})}),"some-uid")},{title:"Multi-line description",sectionFn:()=>render(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{message:createMessage({type:"error",message:"Markup parsing error",description:["There was an error parsing the markup document.","malformed start tag, at line 1, column 26"]})}))},{title:"Message with a link",sectionFn:()=>render(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{message:createMessage({type:"error",message:"Banned 3rd-party JS library",description:['Your add-on uses a JavaScript library we\n                  consider unsafe. Read more:\n                  <a href="https://bit.ly/1TRIyZY">https://bit.ly/1TRIyZY</a>']})}))},{title:"Inlined error",sectionFn:()=>render(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{inline:!0,message:createMessage({type:"error",message:"The value of &lt;em:id&gt; is invalid",description:["The values supplied for &lt;em:id&gt; in the install.rdf file is not a valid UUID string."]})}))},{title:"Inlined error highlighted",sectionFn:()=>renderWithMessageUid(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{inline:!0,message:createMessage({type:"error",message:"The value of &lt;em:id&gt; is invalid",description:["The values supplied for &lt;em:id&gt; in the install.rdf file is not a valid UUID string."],uid:"some-uid"})}),"some-uid")},{title:"Inlined warning",sectionFn:()=>render(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{inline:!0,message:createMessage({type:"warning",message:"The manifest contains a dictionary but no id property.",description:["A dictionary was found in the manifest, but there was no id set."]})}))},{title:"Inlined notice",sectionFn:()=>render(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{inline:!0,message:createMessage({type:"notice",message:"Known JS library detected",description:["JavaScript libraries are discouraged for\n                simple add-ons, but are generally accepted."]})}))},{title:"Two inline messages stacked",sectionFn:()=>render(react__WEBPACK_IMPORTED_MODULE_2__.createElement(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{inline:!0,message:createMessage({type:"notice",message:"Known JS library detected",description:["JavaScript libraries are discouraged for\n                simple add-ons, but are generally accepted."]})}),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{inline:!0,message:createMessage({type:"error",message:"Markup parsing error",description:["There was an error parsing the markup document.","malformed start tag, at line 1, column 26"]})})))},{title:"Two inline messages stacked with one highlighted",sectionFn:()=>renderWithMessageUid(react__WEBPACK_IMPORTED_MODULE_2__.createElement(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{inline:!0,message:createMessage({type:"notice",message:"Known JS library detected",description:["JavaScript libraries are discouraged for\n                simple add-ons, but are generally accepted."]})}),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_LinterMessage__WEBPACK_IMPORTED_MODULE_4__.a,{inline:!0,message:createMessage({type:"error",message:"Markup parsing error",description:["There was an error parsing the markup document.","malformed start tag, at line 1, column 26"],uid:"some-uid"})})),"some-uid")}]}]})}.call(this,__webpack_require__(30)(module))},1913:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14),_src_components_Loading__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(254);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Loading",module).add("default",()=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_Loading__WEBPACK_IMPORTED_MODULE_2__.a,{message:"Loading content..."}))}.call(this,__webpack_require__(30)(module))},1914:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14),_src_components_LoginButton__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(343),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("LoginButton",module).add("default",()=>Object(_utils__WEBPACK_IMPORTED_MODULE_3__.d)(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_LoginButton__WEBPACK_IMPORTED_MODULE_2__.a,null)))}.call(this,__webpack_require__(30)(module))},1915:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(14),_src_components_Navbar__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(759),_src_configureStore__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(26),_src_reducers_users__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(133),_src_reducers_versions__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(10),_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7),_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(13),render=(_ref={})=>{var afterMount=_ref.afterMount,_ref$store=_ref.store,store=void 0===_ref$store?Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_5__.a)():_ref$store,props=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_ref,["afterMount","store"]),Shell=()=>(Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{afterMount&&afterMount()},[afterMount]),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src_components_Navbar__WEBPACK_IMPORTED_MODULE_4__.a,props));return Object(_utils__WEBPACK_IMPORTED_MODULE_9__.d)(react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Shell,null),{store:store})},dispatchBaseVersion=({id:id=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.o)(),store:store,versionString:versionString="1.0"})=>{var baseVersion=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.m),{},{id:id,version:versionString});Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.g)({store:store,version:baseVersion}),store.dispatch(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_7__.b.setCurrentBaseVersionId({versionId:baseVersion.id}))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("Navbar",module).add("user is not signed in",()=>render()).add("user is signed in",()=>{var store=Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_5__.a)();return store.dispatch(_src_reducers_users__WEBPACK_IMPORTED_MODULE_6__.a.loadCurrentUser({user:_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.i})),render({store:store})}).add("with current version",()=>{var version=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.m),{},{addon:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.j),{},{name:{"en-US":"uBlock Origin"}})}),store=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.d)({version:version,makeCurrent:!0});return render({store:store})}).add("with base version, current version",()=>{var version=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.m),{},{id:Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.o)(),version:"2.0",addon:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.j),{},{name:{"en-US":"uBlock Origin"}})}),store=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.d)({version:version,makeCurrent:!0});return dispatchBaseVersion({store:store,versionString:"1.0"}),render({store:store})}).add("with new base version loading",()=>{var version=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.m),{},{version:"2.0",addon:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.j),{},{name:{"en-US":"uBlock Origin"}})}),store=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.d)({version:version,makeCurrent:!0});return dispatchBaseVersion({store:store,versionString:"1.0"}),render({afterMount:()=>{store.dispatch(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_7__.b.setCurrentBaseVersionId({versionId:Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.o)()}))},store:store})}).add("user has entered comments",()=>{var store=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.e)({comments:[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.a)({filename:"manifest.json",lineno:23,comment:"This permission does not seem to be used anywhere. Is it?"}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_8__.a)({filename:"background.js",lineno:344,comment:"This call to eval() is forbidden."})]});return render({store:store})})}.call(this,__webpack_require__(30)(module))},1916:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(14),_src_reducers_popover__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(66),_src_components_PopoverButton__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(151),_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(13),_src_configureStore__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(26);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("PopoverButton",module).add("example",()=>((_ref={})=>{var _ref$id=_ref.id,id=void 0===_ref$id?"COMMENTS_SUMMARY":_ref$id,_ref$store=_ref.store,store=void 0===_ref$store?Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_7__.a)():_ref$store,moreProps=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_ref,["id","store"]);store.dispatch(_src_reducers_popover__WEBPACK_IMPORTED_MODULE_4__.a.show(id));var props=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({content:react__WEBPACK_IMPORTED_MODULE_2__.createElement("div",{className:"PopoverButton-content"},_utils__WEBPACK_IMPORTED_MODULE_6__.b),id:id,prompt:"Open"},moreProps);return Object(_utils__WEBPACK_IMPORTED_MODULE_6__.d)(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_PopoverButton__WEBPACK_IMPORTED_MODULE_5__.a,props),{store:store})})())}.call(this,__webpack_require__(30)(module))},1917:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14),_src_components_Skeleton__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(344);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Skeleton",module).addWithChapters("all variants",{chapters:[{sections:[{title:"in a paragraph",sectionFn:()=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_Skeleton__WEBPACK_IMPORTED_MODULE_2__.a,null))}]}]})}.call(this,__webpack_require__(30)(module))},1918:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(14),_src_components_SlowPageAlert__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(197),_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("SlowPageAlert",module).add("default",()=>((otherProps={})=>{var props=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({getMessage:()=>"This file has been shortened for performance.",getLinkText:()=>"Show the original file."},otherProps);return Object(_utils__WEBPACK_IMPORTED_MODULE_4__.d)(react__WEBPACK_IMPORTED_MODULE_1__.createElement(_src_components_SlowPageAlert__WEBPACK_IMPORTED_MODULE_3__.a,props))})())}.call(this,__webpack_require__(30)(module))},1919:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14),_src_components_ToggleButton__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(334),renderToggleButton=(props={})=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_ToggleButton__WEBPACK_IMPORTED_MODULE_2__.a,Object.assign({onClick:()=>{}},props));Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("ToggleButton",module).addWithChapters("all variants",{chapters:[{sections:[{title:"default button",sectionFn:()=>renderToggleButton()},{title:"with a label",sectionFn:()=>renderToggleButton({label:"toggle me"})},{title:'toggleLeft = "true"',sectionFn:()=>renderToggleButton({toggleLeft:!0})},{title:'toggleLeft = "true" with a label',sectionFn:()=>renderToggleButton({toggleLeft:!0,label:"toggle me"})}]}]})}.call(this,__webpack_require__(30)(module))},192:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(91),_styles_module_scss__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(742),_styles_module_scss__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_3__);__webpack_exports__.a=({className:className,children:children,onClick:onClick,title:title,ariaControls:ariaControls})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_2__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_3___default.a.button,className),onClick:onClick,title:title,"aria-controls":ariaControls},children)},1920:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(14),_src_configureStore__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(26),_src_reducers_popover__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(66),_src_components_VersionChooser__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(348),_src_reducers_versions__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(10),_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(7),_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(13),render=({addonId:addonId=124,baseVersionId:baseVersionId=1,headVersionId:headVersionId=1,store:store=Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_3__.a)()}={})=>(store.dispatch(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_6__.b.setCurrentBaseVersionId({versionId:baseVersionId})),store.dispatch(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_6__.b.setCurrentVersionId({versionId:headVersionId})),store.dispatch(_src_reducers_popover__WEBPACK_IMPORTED_MODULE_4__.a.show("COMPARE_VERSIONS")),Object(_utils__WEBPACK_IMPORTED_MODULE_8__.d)(react__WEBPACK_IMPORTED_MODULE_1__.createElement(_src_components_VersionChooser__WEBPACK_IMPORTED_MODULE_5__.a,{addonId:addonId}),{store:store})),listedVersions=[Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.n),{},{id:100,channel:"listed",version:"1.0.0"}),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.n),{},{id:110,channel:"listed",version:"1.1.0"}),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.n),{},{id:120,channel:"listed",version:"1.2.0"})];Object(_storybook_react__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("VersionChooser",module).add("loading state",()=>render()).add("with listed and unlisted versions",()=>{var versions=[...listedVersions,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_7__.n),{},{id:130,channel:"unlisted",version:"1.3.0"})],store=Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_3__.a)();return store.dispatch(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_6__.b.loadVersionsList({addonId:124,versions:versions})),render({addonId:124,baseVersionId:versions[0].id,headVersionId:versions[2].id,store:store})}).add("with some new versions disabled",()=>{var versions=listedVersions,store=Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_3__.a)();return store.dispatch(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_6__.b.loadVersionsList({addonId:124,versions:versions})),render({addonId:124,baseVersionId:versions[1].id,headVersionId:versions[2].id,store:store})})}.call(this,__webpack_require__(30)(module))},194:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Token})),__webpack_require__.d(__webpack_exports__,"b",(function(){return generateLineShapes}));var Token;!function(Token){Token.code="code",Token.whitespace="whitespace"}(Token||(Token={}));var generateLineShapes=(fileLines,{maxLineLength:maxLineLength=40}={})=>{var allLineShapes=[];return fileLines.forEach((code,lineIndex)=>{for(var lastShape,line=lineIndex+1,characters=code.replace("\t"," ".repeat(2)).split(""),lineShapes={line:line,tokens:[]},getLastShape=()=>lineShapes.tokens[lineShapes.tokens.length-1],i=0;i<maxLineLength;i++){var token=" "===(characters[i]||" ")?Token.whitespace:Token.code;lastShape=void 0,((lastShape=getLastShape())?lastShape.token:null)!==token&&lineShapes.tokens.push({token:token,count:0,percentOfWidth:0}),getLastShape().count+=1}lineShapes.tokens.forEach(shape=>{shape.percentOfWidth=shape.count/maxLineLength*100}),allLineShapes.push(lineShapes)}),allLineShapes}},195:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react_router_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(765),react_router_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(206),classnames__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__),_styles_module_scss__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(95),_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_5__),_Commentable__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(152),_CommentList__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(150),_FadableContent__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(196),_LinterMessage__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(46),_utils__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(75),_refractor__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(347),_utils__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(6),_LinterProvider__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(116),_GlobalLinterMessages__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(338),_SlowPageAlert__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(197),isLineSelected=(id,location)=>"#".concat(id)===location.hash;class CodeViewBase extends react__WEBPACK_IMPORTED_MODULE_1__.Component{constructor(...args){super(...args),this.onRenderProfiler=(id,phase,actualDuration)=>{this.props._sendPerfTiming({actualDuration:actualDuration,id:id})},this.renderWithLinterInfo=({selectedMessageMap:selectedMessageMap})=>{var slowAlert,_this$props=this.props,_codeShouldBeTrimmed=_this$props._codeShouldBeTrimmed,_trimCode=_this$props._trimCode,_trimmedCharCount=_this$props._trimmedCharCount,_scrollToSelectedLine=_this$props._scrollToSelectedLine,_slowLoadingLineCount=_this$props._slowLoadingLineCount,content=_this$props.content,enableCommenting=_this$props.enableCommenting,isMinified=_this$props.isMinified,location=_this$props.location,mimeType=_this$props.mimeType,version=_this$props.version,language=Object(_utils__WEBPACK_IMPORTED_MODULE_12__.k)(mimeType),codeLines=Object(_utils__WEBPACK_IMPORTED_MODULE_10__.d)(content),codeWasTrimmed=!1;return _codeShouldBeTrimmed({codeCharLength:content.length,codeLineLength:codeLines.length,isMinified:isMinified,trimmedCharCount:_trimmedCharCount,slowLoadingLineCount:_slowLoadingLineCount})&&(Object(_utils__WEBPACK_IMPORTED_MODULE_12__.s)({location:location})||(codeLines=Object(_utils__WEBPACK_IMPORTED_MODULE_10__.d)(_trimCode(content)),codeWasTrimmed=!0),slowAlert=react__WEBPACK_IMPORTED_MODULE_1__.createElement(_SlowPageAlert__WEBPACK_IMPORTED_MODULE_15__.a,{getMessage:allowSlowPages=>allowSlowPages?Object(_utils__WEBPACK_IMPORTED_MODULE_12__.m)("This file may be loading slowly."):Object(_utils__WEBPACK_IMPORTED_MODULE_12__.m)("This file has been shortened to load faster."),getLinkText:allowSlowPages=>allowSlowPages?Object(_utils__WEBPACK_IMPORTED_MODULE_12__.m)("View a shortened file."):Object(_utils__WEBPACK_IMPORTED_MODULE_12__.m)("View the original file.")})),react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement(_GlobalLinterMessages__WEBPACK_IMPORTED_MODULE_14__.a,{containerRef:isLineSelected(Object(_utils__WEBPACK_IMPORTED_MODULE_10__.c)(_utils__WEBPACK_IMPORTED_MODULE_10__.a),location)?_scrollToSelectedLine:void 0,key:location.key,messages:selectedMessageMap&&selectedMessageMap.global}),slowAlert,react__WEBPACK_IMPORTED_MODULE_1__.createElement(_FadableContent__WEBPACK_IMPORTED_MODULE_8__.a,{fade:codeWasTrimmed},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.CodeView},react__WEBPACK_IMPORTED_MODULE_1__.createElement("table",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.table},react__WEBPACK_IMPORTED_MODULE_1__.createElement("colgroup",null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("col",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.lineNumberCol}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("col",null)),react__WEBPACK_IMPORTED_MODULE_1__.createElement("tbody",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.tableBody},codeLines.map((code,i)=>{var shellRef,line=i+1,id=Object(_utils__WEBPACK_IMPORTED_MODULE_10__.c)(line),className=_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.line;return isLineSelected(id,location)&&(className=classnames__WEBPACK_IMPORTED_MODULE_4___default()(className,_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.selectedLine),shellRef=_scrollToSelectedLine),react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,{key:"fragment-".concat(line)},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_Commentable__WEBPACK_IMPORTED_MODULE_6__.a,{as:"tr",id:id,className:className,line:line,fileName:version.selectedPath,shellRef:shellRef,versionId:version.id},addCommentButton=>react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("td",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.lineNumber},react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.a,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.lineNumberLink,to:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},location),{},{hash:Object(_utils__WEBPACK_IMPORTED_MODULE_10__.b)(line)})},"".concat(line)),enableCommenting&&addCommentButton),react__WEBPACK_IMPORTED_MODULE_1__.createElement("td",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.code},(({code:code,language:language})=>{var ast=_refractor__WEBPACK_IMPORTED_MODULE_11__.a.highlight(code,language),value=0===ast.length?code:ast.map(Object(_utils__WEBPACK_IMPORTED_MODULE_10__.e)(0));return react__WEBPACK_IMPORTED_MODULE_1__.createElement("pre",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.highlightedCode},react__WEBPACK_IMPORTED_MODULE_1__.createElement("code",{className:classnames__WEBPACK_IMPORTED_MODULE_4___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.innerHighlightedCode,"language-".concat(language))},value))})({code:code,language:language})))),selectedMessageMap&&selectedMessageMap.byLine[line]&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("td",{id:"line-".concat(line,"-messages"),className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.linterMessages,colSpan:2},selectedMessageMap.byLine[line].map(msg=>react__WEBPACK_IMPORTED_MODULE_1__.createElement(_LinterMessage__WEBPACK_IMPORTED_MODULE_9__.a,{inline:!0,key:msg.uid,message:msg})))),enableCommenting&&react__WEBPACK_IMPORTED_MODULE_1__.createElement(_CommentList__WEBPACK_IMPORTED_MODULE_7__.a,{addonId:version.addon.id,fileName:version.selectedPath,line:line,versionId:version.id},commentList=>react__WEBPACK_IMPORTED_MODULE_1__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("td",{colSpan:2},commentList))))}))))),codeWasTrimmed&&slowAlert)}}render(){var version=this.props.version;return react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Profiler,{id:"CodeView-Render",onRender:this.onRenderProfiler},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_LinterProvider__WEBPACK_IMPORTED_MODULE_13__.a,{version:version,selectedPath:version.selectedPath},info=>this.renderWithLinterInfo(info)))}}CodeViewBase.defaultProps={_codeShouldBeTrimmed:_utils__WEBPACK_IMPORTED_MODULE_12__.e,_trimCode:content=>"".concat(content.substring(0,_utils__WEBPACK_IMPORTED_MODULE_12__.b)," ").concat(_utils__WEBPACK_IMPORTED_MODULE_12__.f),_trimmedCharCount:_utils__WEBPACK_IMPORTED_MODULE_12__.b,_scrollToSelectedLine:element=>{element&&element.scrollIntoView()},_sendPerfTiming:_utils__WEBPACK_IMPORTED_MODULE_12__.r,_slowLoadingLineCount:_utils__WEBPACK_IMPORTED_MODULE_12__.a,enableCommenting:!0},__webpack_exports__.a=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_3__.a)(CodeViewBase)},196:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_styles_module_scss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(752),_styles_module_scss__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_1__);__webpack_exports__.a=({children:children,fade:fade})=>fade?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_1___default.a.shell},children):children},197:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),query_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(56),query_string__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react_bootstrap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(207),react_router_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(206),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6);__webpack_exports__.a=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_4__.a)(({_shouldAllowSlowPages:_shouldAllowSlowPages=_utils__WEBPACK_IMPORTED_MODULE_5__.s,allowSlowPagesByDefault:allowSlowPagesByDefault,getLinkText:getLinkText,getMessage:getMessage,history:history,location:location})=>{var allowSlowPages=_shouldAllowSlowPages({allowByDefault:allowSlowPagesByDefault,location:location});return react__WEBPACK_IMPORTED_MODULE_2__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__.a,{variant:"danger"},getMessage(allowSlowPages)," ",react__WEBPACK_IMPORTED_MODULE_2__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__.a.Link,{onClick:()=>{var newLocation=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},location),{},{search:query_string__WEBPACK_IMPORTED_MODULE_1___default.a.stringify(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},query_string__WEBPACK_IMPORTED_MODULE_1___default.a.parse(location.search)),{},{[_utils__WEBPACK_IMPORTED_MODULE_5__.c]:!allowSlowPages}))});history.push(newLocation)}},getLinkText(allowSlowPages)))})},198:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"JS_SAMPLE",(function(){return JS_SAMPLE}));var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(14),_src_configureStore__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(26),_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(90),_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(85),_src_components_CodeView__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(195),_src_reducers_linter__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(40),_src_reducers_versions__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(10),_fixtures_long_unbroken_minified_diff__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(339),_utils__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(13),_src_test_helpers__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(7),getParams=()=>Object(_utils__WEBPACK_IMPORTED_MODULE_11__.e)({fullscreen:!0}),JS_SAMPLE='/**\n * There was an error executing the script.\n * Display the popup\'s error message, and hide the normal UI.\n */\nfunction reportExecuteScriptError(error) {\n  document.querySelector("#popup-content").classList.add("hidden");\n  document.querySelector("#error-content").classList.remove("hidden");\n  console.error(`Failed to execute beastify content script: ${\n    error.message\n  }`);\n}\n\n/**\n * When the popup loads, inject a content script into the active tab,\n * and add a click handler.\n * If we couldn\'t inject the script, handle the error.\n */\nbrowser.tabs.executeScript({file: "/content_scripts/beastify.js"})\n  .then(listenForClicks)\n  .catch(reportExecuteScriptError);\n',render=(_ref={})=>{var _ref$content=_ref.content,content=void 0===_ref$content?JS_SAMPLE:_ref$content,_ref$store=_ref.store,store=void 0===_ref$store?Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_4__.a)():_ref$store,moreProps=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_ref,["content","store"]),props=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({content:content,isMinified:!1,mimeType:"application/javascript",version:Object(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_9__.e)(_src_test_helpers__WEBPACK_IMPORTED_MODULE_12__.m)},moreProps);return Object(_utils__WEBPACK_IMPORTED_MODULE_11__.d)(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_6__.b,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_FullscreenGrid__WEBPACK_IMPORTED_MODULE_6__.a,null),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_FullscreenGrid_ContentShell__WEBPACK_IMPORTED_MODULE_5__.a,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_components_CodeView__WEBPACK_IMPORTED_MODULE_7__.a,props))),{store:store})},renderJSWithMessages=(messages,_ref2={})=>{var _ref2$content=_ref2.content,content=void 0===_ref2$content?JS_SAMPLE:_ref2$content,_ref2$store=_ref2.store,store=void 0===_ref2$store?Object(_src_configureStore__WEBPACK_IMPORTED_MODULE_4__.a)():_ref2$store,moreProps=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_ref2,["content","store"]),path="lib/some-file.js",version=Object(_src_reducers_versions__WEBPACK_IMPORTED_MODULE_9__.e)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_12__.m),{},{file:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_12__.l),{},{selected_file:path}),file_entries:{[path]:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_src_test_helpers__WEBPACK_IMPORTED_MODULE_12__.k),{},{path:path})}})),result=Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_12__.b)({messages:messages.map(msg=>Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({uid:Object(_utils__WEBPACK_IMPORTED_MODULE_11__.c)()},msg),{},{file:path}))});return store.dispatch(_src_reducers_linter__WEBPACK_IMPORTED_MODULE_8__.a.loadLinterResult({versionId:version.id,result:result})),render(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({store:store,content:content,mimeType:"application/javascript",version:version},moreProps))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("CodeView",module).add("Mime type: (unsupported)",()=>render({mimeType:"",content:JS_SAMPLE}),getParams()).add("Mime type: application/javascript",()=>render({mimeType:"application/javascript",content:JS_SAMPLE}),getParams()).add("Mime type: text/css",()=>render({mimeType:"text/css",content:"html, body {\n  width: 100px;\n}\n\n.hidden {\n  display: none;\n}"}),getParams()).add("One global linter message",()=>renderJSWithMessages([{line:null,message:"The &#34;update_url&#34; property is not used by Firefox.",description:["The &#34;update_url&#34; is not used by Firefox in the root of a manifest; your add-on will be updated via the Add-ons site and not your &#34;update_url&#34;."],type:"warning"}]),getParams()).add("Multiple global linter messages",()=>renderJSWithMessages([{line:null,message:"The &#34;update_url&#34; property is not used by Firefox.",description:["The &#34;update_url&#34; is not used by Firefox in the root of a manifest; your add-on will be updated via the Add-ons site and not your &#34;update_url&#34;."],type:"warning"},{line:null,message:"/permissions: Unknown permissions &#34;unlimitedStorage&#34; at 8.",description:["See ... for more information."],type:"notice"}]),getParams()).add("One linter message on one line",()=>renderJSWithMessages([{line:7,message:"document.querySelector() detected",description:["Pretty sweet call to document.querySelector(). Nice."],type:"notice"}]),getParams()).add("Multiple linter messages on one line",()=>renderJSWithMessages([{line:7,message:"document.querySelector() detected",description:["Pretty sweet call to document.querySelector(). Nice."],type:"notice"},{line:7,message:"classList.remove() considered harmful",description:["Calling element.classList.remove() is harmful but not really."],type:"error"}]),getParams()).add("Multiple linter messages on multiple lines",()=>renderJSWithMessages([{line:7,message:"document.querySelector() detected",description:["Pretty sweet call to document.querySelector(). Nice."],type:"notice"},{line:18,message:"browser.tabs.executeScript() is deprecated",description:["browser.tabs.executeScript() will not be supported in the near future. Just kidding."],type:"warning"}]),getParams()).add("Long line with a linter message",()=>renderJSWithMessages([{line:1,message:"Long line detected",description:["This is a long line of code."],type:"notice"}],{content:'const message = "'.concat(_utils__WEBPACK_IMPORTED_MODULE_11__.b.trim().replace(/\n/g," "),'";')}),getParams()).add("Code with tab characters",()=>render({mimeType:"application/javascript",content:"\n          \t// This should be indented for each code level.\n          \tfunction log(msg, debug = false) {\n          \t\tif (debug) {\n          \t\t\tconsole.log(msg);\n          \t\t}\n          \t}"}),getParams()).add("Long line without any line breaks + linter message",()=>renderJSWithMessages([{line:1,message:"Minified code detected",description:["You do not need to minify add-on code."],type:"notice"}],{content:_fixtures_long_unbroken_minified_diff__WEBPACK_IMPORTED_MODULE_10__.a}),getParams())}.call(this,__webpack_require__(30)(module))},202:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return actions})),__webpack_require__.d(__webpack_exports__,"c",(function(){return isExpanded}));var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),typesafe_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),actions={toggleItem:(0,typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.deprecated.createAction)("TOGGLE_ACCORDION_ITEM",resolve=>payload=>resolve(payload))},initialState={expanded:null},isExpanded=(state,itemId)=>state.expanded===itemId;__webpack_exports__.b=(state=initialState,action)=>{switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.getType)(actions.toggleItem):var itemId=action.payload.itemId;return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{expanded:isExpanded(state,itemId)?null:itemId});default:return state}}},204:function(module,exports,__webpack_require__){module.exports={SidePanel:"styles_SidePanel__2Typq",ToggleButton:"styles_ToggleButton__38ByA",content:"styles_content__3Kwve",borderlessContent:"styles_borderlessContent__3SUfB",isCollapsed:"styles_isCollapsed__Ixuzb"}},205:function(module,exports,__webpack_require__){module.exports={shell:"styles_shell__1qB8L",treeShell:"styles_treeShell__1jDdP",controlButtons:"styles_controlButtons__37Xip",button:"styles_button__Jy79_"}},249:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return actions}));var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),typesafe_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),createAction=typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.deprecated.createAction,actions={toggleAltSidePanel:createAction("TOGGLE_ALT_SIDE_PANEL"),toggleMainSidePanel:createAction("TOGGLE_MAIN_SIDE_PANEL")},initialState={altSidePanelIsExpanded:!0,mainSidePanelIsExpanded:!0};__webpack_exports__.b=(state=initialState,action)=>{switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.getType)(actions.toggleAltSidePanel):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{altSidePanelIsExpanded:!state.altSidePanelIsExpanded});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.getType)(actions.toggleMainSidePanel):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{mainSidePanelIsExpanded:!state.mainSidePanelIsExpanded});default:return state}}},250:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(28),react_textarea_autosize__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(461),react_bootstrap__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(91),react_bootstrap__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1928),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(84),_reducers_comments__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(18),_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(6),_styles_module_scss__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(59),_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_9__);class CommentBase extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.textareaRef=this.props.createTextareaRef?this.props.createTextareaRef():react__WEBPACK_IMPORTED_MODULE_0__.createRef(),this.keydownListener=event=>{event.stopPropagation()},this.onCommentChange=event=>{event.preventDefault(),this.setState({commentText:event.target.value})},this.onAbortDelete=()=>{var dispatch=this.props.dispatch,initialComment=this.getInitialCommentOrThrow();dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_7__.a.abortDeleteComment({commentId:initialComment.id}))},this.onConsiderDelete=()=>{var dispatch=this.props.dispatch,initialComment=this.getInitialCommentOrThrow();dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_7__.a.considerDeleteComment({commentId:initialComment.id}))},this.onDelete=()=>{var _this$props=this.props,_deleteComment=_this$props._deleteComment,addonId=_this$props.addonId,dispatch=_this$props.dispatch,versionId=_this$props.versionId;dispatch(_deleteComment({addonId:addonId,commentId:this.getInitialCommentOrThrow().id,versionId:versionId}))},this.onSubmit=event=>{var _this$props2=this.props,_manageComment=_this$props2._manageComment,addonId=_this$props2.addonId,dispatch=_this$props2.dispatch,fileName=_this$props2.fileName,initialComment=_this$props2.initialComment,line=_this$props2.line,versionId=_this$props2.versionId;event.preventDefault(),dispatch(_manageComment({addonId:addonId,cannedResponseId:void 0,comment:this.state.commentText||"",commentId:initialComment?initialComment.id:void 0,fileName:fileName,line:line,versionId:versionId}))},this.onEdit=()=>{var _this$props3=this.props,dispatch=_this$props3.dispatch,fileName=_this$props3.fileName,line=_this$props3.line,versionId=_this$props3.versionId,initialComment=this.getInitialCommentOrThrow();dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_7__.a.beginComment({commentId:initialComment.id,fileName:fileName,line:line,versionId:versionId}))},this.onConsiderDiscard=()=>{var _this$props4=this.props,commentId=_this$props4.commentId,dispatch=_this$props4.dispatch,fileName=_this$props4.fileName,line=_this$props4.line,versionId=_this$props4.versionId;dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_7__.a.considerDiscardComment({commentId:commentId||void 0,fileName:fileName,line:line,versionId:versionId}))},this.onAbortDiscard=()=>{var _this$props5=this.props,commentId=_this$props5.commentId,dispatch=_this$props5.dispatch,fileName=_this$props5.fileName,line=_this$props5.line,versionId=_this$props5.versionId;dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_7__.a.abortDiscardComment({commentId:commentId||void 0,fileName:fileName,line:line,versionId:versionId}))},this.onDiscard=()=>{var _this$props6=this.props,commentId=_this$props6.commentId,dispatch=_this$props6.dispatch,fileName=_this$props6.fileName,line=_this$props6.line,versionId=_this$props6.versionId;dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_7__.a.finishComment({commentId:commentId||void 0,fileName:fileName,line:line,versionId:versionId}))};var _initialComment=props.initialComment,initialCommentText=props.initialCommentText,commentText=_initialComment?_initialComment.content:void 0;commentText||(commentText=initialCommentText||void 0),this.state={commentText:commentText}}setupTextarea(){this.textareaRef&&this.textareaRef.current&&(this.textareaRef.current.focus(),this.textareaRef.current.removeEventListener("keydown",this.keydownListener),this.textareaRef.current.addEventListener("keydown",this.keydownListener))}componentDidMount(){this.setupTextarea()}componentDidUpdate(){this.setupTextarea()}componentWillUnmount(){this.textareaRef&&this.textareaRef.current&&this.textareaRef.current.removeEventListener("keydown",this.keydownListener)}getInitialCommentOrThrow(){var initialComment=this.props.initialComment;if(!initialComment)throw new Error("Cannot get initialComment because it is empty");return initialComment}renderComment(){var initialComment=this.getInitialCommentOrThrow(),showCancel=!1,deleteIsDisabled=!1,deletePrompt=Object(_utils__WEBPACK_IMPORTED_MODULE_8__.m)("Delete"),onDeleteClick=this.onConsiderDelete;return initialComment.considerDelete?(deletePrompt=Object(_utils__WEBPACK_IMPORTED_MODULE_8__.m)("Confirm delete"),onDeleteClick=this.onDelete,showCancel=!0):initialComment.beginDelete&&(deletePrompt=Object(_utils__WEBPACK_IMPORTED_MODULE_8__.m)("Deleting"),deleteIsDisabled=!0),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.comment},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.commentBody},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_6__.a,{flip:"horizontal",icon:["far","comment-alt"],pull:"left",size:"2x"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{dangerouslySetInnerHTML:Object(_utils__WEBPACK_IMPORTED_MODULE_8__.q)(Object(_utils__WEBPACK_IMPORTED_MODULE_8__.o)(initialComment.content),["br"])})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.commentControls},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.controlButton,_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.editButton),disabled:showCancel,onClick:this.onEdit,size:"sm",type:"button"},Object(_utils__WEBPACK_IMPORTED_MODULE_8__.m)("Edit")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.controlButton,_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.deleteButton),disabled:deleteIsDisabled,onClick:onDeleteClick,size:"sm",type:"button",variant:"danger"},deletePrompt),showCancel&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.controlButton,_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.cancelButton),onClick:this.onAbortDelete,size:"sm",type:"button",variant:"light"},Object(_utils__WEBPACK_IMPORTED_MODULE_8__.m)("Cancel"))))}renderForm(){var _this$props7=this.props,considerDiscard=_this$props7.considerDiscard,savingComment=_this$props7.savingComment,commentText=this.state.commentText,onDiscard=this.onConsiderDiscard,showAbortDiscard=!1,discardPrompt=Object(_utils__WEBPACK_IMPORTED_MODULE_8__.m)("Discard");return considerDiscard&&(showAbortDiscard=!0,onDiscard=this.onDiscard,discardPrompt=Object(_utils__WEBPACK_IMPORTED_MODULE_8__.m)("Confirm discard")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_5__.a,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.form,onSubmit:this.onSubmit},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_textarea_autosize__WEBPACK_IMPORTED_MODULE_3__.default,{disabled:savingComment||considerDiscard,onChange:this.onCommentChange,inputRef:this.textareaRef,className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.textarea,minRows:3,value:commentText}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.controlButton,_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.saveButton),disabled:savingComment||considerDiscard,type:"submit"},savingComment?Object(_utils__WEBPACK_IMPORTED_MODULE_8__.m)("Saving"):Object(_utils__WEBPACK_IMPORTED_MODULE_8__.m)("Save")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.controlButton,_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.discardButton),disabled:savingComment,onClick:onDiscard,type:"button",variant:"danger"},discardPrompt),showAbortDiscard&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.controlButton,_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.abortDiscardButton),onClick:this.onAbortDiscard,type:"button",variant:"light"},Object(_utils__WEBPACK_IMPORTED_MODULE_8__.m)("Cancel")))}render(){var _this$props8=this.props,className=_this$props8.className,showForm=_this$props8.showForm;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.container,className)},showForm?this.renderForm():this.renderComment())}}CommentBase.defaultProps={_deleteComment:_reducers_comments__WEBPACK_IMPORTED_MODULE_7__.e,_manageComment:_reducers_comments__WEBPACK_IMPORTED_MODULE_7__.g};__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_2__.connect)((state,{commentId:commentId,fileName:fileName,line:line,versionId:versionId})=>{var initialComment;if(commentId&&!(initialComment=Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_7__.h)({comments:state.comments,id:commentId})))throw new Error("No comment was mapped for commentId=".concat(commentId));var info=Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_7__.i)({commentId:commentId||void 0,comments:state.comments,fileName:fileName,line:line,versionId:versionId});return{showForm:!!info&&info.beginNewComment,considerDiscard:!!info&&info.considerDiscard,initialComment:initialComment||null,initialCommentText:info?info.pendingCommentText:null,savingComment:!!info&&info.savingComment}})(CommentBase)},252:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(194),_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(352),_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__);__webpack_exports__.a=({isChange:isChange,lineShapes:lineShapes})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,lineShapes.tokens.map((shape,shapeIndex)=>{var className;return className=shape.token===_utils__WEBPACK_IMPORTED_MODULE_1__.a.whitespace?_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default.a.whitespace:isChange?_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default.a.change:_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default.a.code,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{key:[String(lineShapes.line),String(shapeIndex),String(shape.percentOfWidth),className].join(":"),className:className,style:{width:"".concat(shape.percentOfWidth,"%")}})}))},253:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),loglevel__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25),loglevel__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(28),react_bootstrap__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(766),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(84),classnames__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__),_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6),_LinterProvider__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(116),_reducers_comments__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(18),_reducers_versions__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(10),_reducers_linter__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(40),_styles_module_scss__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(68),_styles_module_scss__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_12__),getIconForType=type=>{switch(type){case"error":return"times-circle";case"warning":return"exclamation-triangle";case"known-library":return"check-circle";default:return"info-circle"}};class FileTreeNodeBase extends react__WEBPACK_IMPORTED_MODULE_2__.Component{constructor(_props){super(_props),this.scrollIntoViewIfNeeded=void 0,this.nodeRef=this.props.createNodeRef?this.props.createNodeRef():react__WEBPACK_IMPORTED_MODULE_2__.createRef(),this._scrollIntoViewIfNeeded=()=>{var _this$props=this.props,dispatch=_this$props.dispatch,node=_this$props.node,version=_this$props.version;this.isSelected()&&version.visibleSelectedPath!==node.id&&(this.nodeRef&&this.nodeRef.current?(this.nodeRef.current.scrollIntoView({behavior:"smooth",block:"nearest"}),dispatch(_reducers_versions__WEBPACK_IMPORTED_MODULE_10__.b.setVisibleSelectedPath({path:node.id,versionId:version.id}))):loglevel__WEBPACK_IMPORTED_MODULE_1___default.a.warn("nodeRef.current was unexpectedly empty: ".concat(this.nodeRef)))},this.renderWithLinterInfo=({messageMap:messageMap})=>{var title,_this$props2=this.props,hasComments=_this$props2.hasComments,getToggleProps=_this$props2.getToggleProps,hasChildNodes=_this$props2.hasChildNodes,isExpanded=_this$props2.isExpanded,isFolder=_this$props2.isFolder,level=_this$props2.level,node=_this$props2.node,onSelect=_this$props2.onSelect,renderChildNodes=_this$props2.renderChildNodes,version=_this$props2.version,entryStatusMap=_this$props2.entryStatusMap,hasLinterMessages=messageMap&&Object.keys(messageMap.byPath).some(path=>path.startsWith(node.id)),nodeIcons=[],linterType=null;messageMap&&hasLinterMessages&&(((linterMessageMap,path,_getMessagesForPath=_reducers_linter__WEBPACK_IMPORTED_MODULE_11__.g)=>{var m=linterMessageMap.byPath[path];if(!m)return!1;var messages=_getMessagesForPath(m);return!(messages.length>1||null!==messages[0].line)&&m.global[0].code.includes("KNOWN_LIBRARY")})(messageMap,node.id)?(linterType="known-library",title=Object(_utils__WEBPACK_IMPORTED_MODULE_7__.m)("This is a known library")):title=((type,isFolder)=>{switch(type){case"error":return isFolder?Object(_utils__WEBPACK_IMPORTED_MODULE_7__.m)("This folder contains files with linter errors"):Object(_utils__WEBPACK_IMPORTED_MODULE_7__.m)("This file contains linter errors");case"warning":return isFolder?Object(_utils__WEBPACK_IMPORTED_MODULE_7__.m)("This folder contains files with linter warnings"):Object(_utils__WEBPACK_IMPORTED_MODULE_7__.m)("This file contains linter warnings");default:return isFolder?Object(_utils__WEBPACK_IMPORTED_MODULE_7__.m)("This folder contains files with linter notices"):Object(_utils__WEBPACK_IMPORTED_MODULE_7__.m)("This file contains linter notices")}})(linterType=((linterMessageMap,targetPath,{_findMostSevereType:_findMostSevereType=_reducers_linter__WEBPACK_IMPORTED_MODULE_11__.e}={})=>{var allMessages=Object.keys(linterMessageMap.byPath).reduce((messages,path)=>{if(!path.startsWith(targetPath))return messages;var map=linterMessageMap.byPath[path];return messages.push(...map.global),Object.keys(map.byLine).forEach(key=>{messages.push(...map.byLine[parseInt(key,10)])}),messages},[]);return allMessages.length?_findMostSevereType(allMessages):null})(messageMap,node.id),isFolder),nodeIcons.push(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_5__.a,{fixedWidth:!0,key:"linter-icon",icon:getIconForType(linterType),title:title})));hasComments&&nodeIcons.push(react__WEBPACK_IMPORTED_MODULE_2__.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_5__.a,{fixedWidth:!0,key:"comments-icon",flip:"horizontal",icon:["fas","comment-alt"],size:"1x",title:isFolder?Object(_utils__WEBPACK_IMPORTED_MODULE_7__.m)("This directory contains files with comments"):Object(_utils__WEBPACK_IMPORTED_MODULE_7__.m)("This file has comments")}));var listGroupItemProps={className:classnames__WEBPACK_IMPORTED_MODULE_6___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_12___default.a.node,{[_styles_module_scss__WEBPACK_IMPORTED_MODULE_12___default.a.directoryNode]:isFolder,[_styles_module_scss__WEBPACK_IMPORTED_MODULE_12___default.a.selected]:this.isSelected(),[_styles_module_scss__WEBPACK_IMPORTED_MODULE_12___default.a.hasLinterMessages]:hasLinterMessages,[_styles_module_scss__WEBPACK_IMPORTED_MODULE_12___default.a.hasLinterErrors]:"error"===linterType,[_styles_module_scss__WEBPACK_IMPORTED_MODULE_12___default.a.hasLinterWarnings]:"warning"===linterType,[_styles_module_scss__WEBPACK_IMPORTED_MODULE_12___default.a.isKnownLibrary]:"known-library"===linterType}),onClick:()=>onSelect(node.id)};isFolder&&(listGroupItemProps=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},listGroupItemProps),getToggleProps()));var adjustedLevel=level+1,entryStatus=Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_10__.k)({entryStatusMap:entryStatusMap,version:version,path:node.id}),entryWasDeleted=entryStatus&&"D"===entryStatus,entryWasModified=entryStatus&&"M"===entryStatus,entryWasAdded=entryStatus&&"A"===entryStatus,nodeTitle=Object(_utils__WEBPACK_IMPORTED_MODULE_7__.m)("View ".concat(node.name));return entryWasDeleted?nodeTitle=Object(_utils__WEBPACK_IMPORTED_MODULE_7__.m)("".concat(nodeTitle," (deleted)")):entryWasModified?nodeTitle=Object(_utils__WEBPACK_IMPORTED_MODULE_7__.m)("".concat(nodeTitle," (modified)")):entryWasAdded&&(nodeTitle=Object(_utils__WEBPACK_IMPORTED_MODULE_7__.m)("".concat(nodeTitle," (added)"))),react__WEBPACK_IMPORTED_MODULE_2__.createElement(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a.Item,Object.assign({as:(props={})=>react__WEBPACK_IMPORTED_MODULE_2__.createElement("div",Object.assign({ref:this.nodeRef},props))},listGroupItemProps),react__WEBPACK_IMPORTED_MODULE_2__.createElement("span",{className:classnames__WEBPACK_IMPORTED_MODULE_6___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_12___default.a.nodeItem,{[_styles_module_scss__WEBPACK_IMPORTED_MODULE_12___default.a.wasDeleted]:entryWasDeleted,[_styles_module_scss__WEBPACK_IMPORTED_MODULE_12___default.a.wasModified]:entryWasModified,[_styles_module_scss__WEBPACK_IMPORTED_MODULE_12___default.a.wasAdded]:entryWasAdded}),style:{paddingLeft:"".concat(10*adjustedLevel,"px")}},react__WEBPACK_IMPORTED_MODULE_2__.createElement("span",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_12___default.a.folderAndFileIcons},isFolder?react__WEBPACK_IMPORTED_MODULE_2__.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_5__.a,{fixedWidth:!0,icon:isExpanded?"folder-open":"folder"}):react__WEBPACK_IMPORTED_MODULE_2__.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_5__.a,{fixedWidth:!0,icon:"file"})),react__WEBPACK_IMPORTED_MODULE_2__.createElement("span",{title:nodeTitle,className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_12___default.a.nodeName},node.name),nodeIcons.length>0?react__WEBPACK_IMPORTED_MODULE_2__.createElement("span",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_12___default.a.nodeIcons},nodeIcons):null)),isExpanded&&(hasChildNodes?renderChildNodes():react__WEBPACK_IMPORTED_MODULE_2__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a.Item,{className:classnames__WEBPACK_IMPORTED_MODULE_6___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_12___default.a.node,_styles_module_scss__WEBPACK_IMPORTED_MODULE_12___default.a.emptyNodeDirectory),style:{paddingLeft:"".concat(20*(adjustedLevel+2),"px")}},Object(_utils__WEBPACK_IMPORTED_MODULE_7__.m)("This folder is empty"))))},this.scrollIntoViewIfNeeded=this.props._scrollIntoViewIfNeeded||this._scrollIntoViewIfNeeded}componentDidMount(){this.scrollIntoViewIfNeeded()}componentDidUpdate(){this.scrollIntoViewIfNeeded()}isSelected(){var _this$props3=this.props,node=_this$props3.node;return _this$props3.version.selectedPath===node.id}render(){var version=this.props.version;return react__WEBPACK_IMPORTED_MODULE_2__.createElement(_LinterProvider__WEBPACK_IMPORTED_MODULE_8__.a,{version:version,selectedPath:version.selectedPath},info=>this.renderWithLinterInfo(info))}}__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_3__.connect)((state,ownProps)=>{var node=ownProps.node,versionId=ownProps.versionId,comparedToVersionId=ownProps.comparedToVersionId,versions=state.versions,version=Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_10__.n)(versions,versionId),entryStatusMap=Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_10__.j)({versions:versions,versionId:versionId,comparedToVersionId:comparedToVersionId})||{};if(!version)throw new Error("No version exists in state for version ID ".concat(versionId));return{entryStatusMap:entryStatusMap,hasComments:Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_9__.j)({comments:state.comments,path:node.id,versionId:versionId}),version:version}})(FileTreeNodeBase)},254:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(84);__webpack_exports__.a=({message:message})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_1__.a,{icon:"spinner",spin:!0})," ",message)},256:function(module,exports,__webpack_require__){module.exports={inline:"styles_inline__2x2p0",danger:"styles_danger__2tsgX",secondary:"styles_secondary__2uKhc",warning:"styles_warning__77Efr",description:"styles_description__19HkI",highlight:"styles_highlight__KzgCN"}},257:function(module,exports,__webpack_require__){module.exports={container:"styles_container__1YrL2",errorDetails:"styles_errorDetails__pAwbi"}},26:function(module,__webpack_exports__,__webpack_require__){"use strict";var objectSpread2=__webpack_require__(1),redux=__webpack_require__(149),es=(__webpack_require__(735),__webpack_require__(736),__webpack_require__(737)),lib=__webpack_require__(132),esm_history=__webpack_require__(86),esm=__webpack_require__(346),index_umd=__webpack_require__(739),index_umd_default=__webpack_require__.n(index_umd),accordionMenu=__webpack_require__(202),typesafe_actions_umd_production=__webpack_require__(9),actions={setAuthToken:(0,typesafe_actions_umd_production.deprecated.createAction)("SET_AUTH_TOKEN",resolve=>payload=>resolve(payload))},initialState={authToken:null},api=(state=initialState,action)=>{switch(action.type){case Object(typesafe_actions_umd_production.getType)(actions.setAuthToken):return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{authToken:action.payload.authToken});default:return state}},comments=__webpack_require__(18),errors=__webpack_require__(73),fileTree=__webpack_require__(76),fullscreenGrid=__webpack_require__(249),linter=__webpack_require__(40),popover=__webpack_require__(66),users=__webpack_require__(133),versions=__webpack_require__(10),reducers=history=>Object(redux.combineReducers)({accordionMenu:accordionMenu.b,api:api,comments:comments.d,errors:errors.b,fileTree:fileTree.d,fullscreenGrid:fullscreenGrid.b,linter:linter.c,popover:popover.b,router:Object(lib.connectRouter)(history),users:users.c,versions:versions.f}),flattenObject=object=>Object.keys(object).reduce((newObject,k)=>{var newValue,value=object[k];return newValue=null===value||["string","number","boolean","undefined"].includes(typeof value)?value:"[type: ".concat(typeof value,"]"),newObject[k]=newValue,newObject},{}),actionToSentryBreadcrumb=action=>Object(objectSpread2.a)(Object(objectSpread2.a)({},flattenObject(action)),{},{payload:action.payload?flattenObject(action.payload):void 0}),redactStateForSentry=state=>({accordionMenu:state.accordionMenu,api:{authToken:"[redacted]"},comments:state.comments,errors:state.errors,fileTree:state.fileTree,fullscreenGrid:state.fullscreenGrid,linter:state.linter,popover:state.popover,router:state.router,users:state.users,versions:state.versions});__webpack_exports__.a=({history:history=Object(esm_history.a)(),preloadedState:preloadedState}={})=>{var allMiddleware=[Object(lib.routerMiddleware)(history),es.a];Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"https://addons-code-manager.cdn.mozilla.net",REACT_APP_API_HOST:"https://addons.mozilla.org",REACT_APP_REVIEWERS_HOST:"https://reviewers.addons.mozilla.org",REACT_APP_AUTH_TOKEN_PLACEHOLDER:"__AUTH_TOKEN__",REACT_APP_AUTHENTICATION_COOKIE:"frontend_auth_token",REACT_APP_DEFAULT_API_LANG:"en-US",REACT_APP_DEFAULT_API_VERSION:"v5",REACT_APP_FXA_CONFIG:"code-manager",INLINE_RUNTIME_CHUNK:"false",REACT_APP_UNSAFE_ERROR_SIMULATION:"false",REACT_APP_ENABLE_COMMENTING:"true",REACT_APP_ANALYTICS_HOST:"https://www.google-analytics.com",REACT_APP_TRACKING_ENABLED:"true",REACT_APP_TRACKING_ID:"UA-77033033-29",REACT_APP_GA_DEBUG_MODE:"false"}).REACT_APP_SENTRY_DSN&&allMiddleware.push(index_umd_default()(esm,{breadcrumbDataFromAction:actionToSentryBreadcrumb,stateTransformer:redactStateForSentry}));var middleware=Object(redux.applyMiddleware)(...allMiddleware);return Object(redux.createStore)(reducers(history),preloadedState,middleware)}},33:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"m",(function(){return makeApiURL})),__webpack_require__.d(__webpack_exports__,"k",(function(){return isErrorResponse})),__webpack_require__.d(__webpack_exports__,"h",(function(){return getVersion})),__webpack_require__.d(__webpack_exports__,"i",(function(){return getVersionFileOnly})),__webpack_require__.d(__webpack_exports__,"j",(function(){return getVersionsList})),__webpack_require__.d(__webpack_exports__,"l",(function(){return logOutFromServer})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getCurrentUser})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getDiff})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getDiffFileOnly})),__webpack_require__.d(__webpack_exports__,"a",(function(){return createOrUpdateComment})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getAllComments})),__webpack_require__.d(__webpack_exports__,"b",(function(){return deleteComment})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getValidation}));var HttpMethod,_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(27),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),url__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(330),url__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_4__),loglevel__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(25),loglevel__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_5__),makeApiURL=({apiHost:apiHost="https://addons.mozilla.org",path:path,prefix:prefix="api",url:url,useInsecureProxy:useInsecureProxy="true"===Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"https://addons-code-manager.cdn.mozilla.net",REACT_APP_API_HOST:"https://addons.mozilla.org",REACT_APP_REVIEWERS_HOST:"https://reviewers.addons.mozilla.org",REACT_APP_AUTH_TOKEN_PLACEHOLDER:"__AUTH_TOKEN__",REACT_APP_AUTHENTICATION_COOKIE:"frontend_auth_token",REACT_APP_DEFAULT_API_LANG:"en-US",REACT_APP_DEFAULT_API_VERSION:"v5",REACT_APP_FXA_CONFIG:"code-manager",INLINE_RUNTIME_CHUNK:"false",REACT_APP_UNSAFE_ERROR_SIMULATION:"false",REACT_APP_ENABLE_COMMENTING:"true",REACT_APP_ANALYTICS_HOST:"https://www.google-analytics.com",REACT_APP_TRACKING_ENABLED:"true",REACT_APP_TRACKING_ID:"UA-77033033-29",REACT_APP_GA_DEBUG_MODE:"false"}).REACT_APP_USE_INSECURE_PROXY,version:version="v5"})=>{if(path&&url)throw new Error("Cannot receive both `path` and `url` parameters.");var parts=[];if(path){parts.push((({apiHost:apiHost="https://addons.mozilla.org",useInsecureProxy:useInsecureProxy="true"===Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"https://addons-code-manager.cdn.mozilla.net",REACT_APP_API_HOST:"https://addons.mozilla.org",REACT_APP_REVIEWERS_HOST:"https://reviewers.addons.mozilla.org",REACT_APP_AUTH_TOKEN_PLACEHOLDER:"__AUTH_TOKEN__",REACT_APP_AUTHENTICATION_COOKIE:"frontend_auth_token",REACT_APP_DEFAULT_API_LANG:"en-US",REACT_APP_DEFAULT_API_VERSION:"v5",REACT_APP_FXA_CONFIG:"code-manager",INLINE_RUNTIME_CHUNK:"false",REACT_APP_UNSAFE_ERROR_SIMULATION:"false",REACT_APP_ENABLE_COMMENTING:"true",REACT_APP_ANALYTICS_HOST:"https://www.google-analytics.com",REACT_APP_TRACKING_ENABLED:"true",REACT_APP_TRACKING_ID:"UA-77033033-29",REACT_APP_GA_DEBUG_MODE:"false"}).REACT_APP_USE_INSECURE_PROXY}={})=>useInsecureProxy?"":apiHost||"")({apiHost:apiHost,useInsecureProxy:useInsecureProxy})),prefix&&parts.push("/".concat(prefix)),version&&parts.push("/".concat(version));var adjustedPath=path;adjustedPath.startsWith("/")||(adjustedPath="/".concat(adjustedPath)),parts.push(adjustedPath)}else{if(!url)throw new Error("Either `path` or `url` must be defined.");var adjustedUrl=url;apiHost&&useInsecureProxy&&(adjustedUrl=adjustedUrl.replace(apiHost,"")),parts.push(adjustedUrl)}return parts.join("")},makeQueryString=query=>{var resolvedQuery=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},query);return Object.keys(resolvedQuery).forEach(key=>{var value=resolvedQuery[key];null!=value&&""!==value||delete resolvedQuery[key]}),url__WEBPACK_IMPORTED_MODULE_4___default.a.format({query:resolvedQuery})};!function(HttpMethod){HttpMethod.DELETE="DELETE",HttpMethod.GET="GET",HttpMethod.PATCH="PATCH",HttpMethod.POST="POST",HttpMethod.PUT="PUT"}(HttpMethod||(HttpMethod={}));var isErrorResponse=arg=>void 0!==arg.error,callApi=function(){var _ref=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee({_makeQueryString:_makeQueryString=makeQueryString,apiState:apiState,bodyData:bodyData,endpoint:endpoint,endpointUrl:endpointUrl,includeCredentials:includeCredentials=!1,lang:lang="en-US",method:method=HttpMethod.GET,query:query={},version:version="v5"}){var headers,body,path,url,queryWithLang,response,contentType;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(headers={},apiState.authToken&&(headers.Authorization="Bearer ".concat(apiState.authToken)),bodyData&&(headers["Content-Type"]="application/json",body=JSON.stringify(bodyData)),!endpointUrl||!endpoint){_context.next=5;break}throw new Error("endpoint and endpointUrl cannot both be defined at once");case 5:if(!endpointUrl){_context.next=9;break}url=endpointUrl,_context.next=18;break;case 9:if(!endpoint){_context.next=17;break}(path=endpoint).startsWith("/")||(path="/".concat(path)),path.endsWith("/")||(path="".concat(path,"/")),queryWithLang=lang?Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},query),{},{lang:lang}):query,path="".concat(path).concat(_makeQueryString(queryWithLang)),_context.next=18;break;case 17:throw new Error("Either endpoint or endpointUrl must be defined");case 18:return _context.prev=18,_context.next=21,fetch(makeApiURL({path:path,url:url,version:version}),{body:body,credentials:includeCredentials?"include":void 0,headers:headers,method:method});case 21:if((response=_context.sent).ok){_context.next=24;break}throw new Error("Unexpected status for ".concat(method," ").concat(path,": ").concat(response.status));case 24:return contentType=(response.headers.get("content-type")||"").toLowerCase(),_context.next=27,contentType.startsWith("application/json")?response.json():response.text();case 27:return _context.abrupt("return",_context.sent);case 30:return _context.prev=30,_context.t0=_context.catch(18),loglevel__WEBPACK_IMPORTED_MODULE_5___default.a.debug("Error caught in callApi():",_context.t0),_context.abrupt("return",{error:_context.t0});case 34:case"end":return _context.stop()}}),_callee,null,[[18,30]])})));return function callApi(_x){return _ref.apply(this,arguments)}}(),fetchAllPages=function(){var _ref2=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee2(getNextResponse,{maxAllowedPages:maxAllowedPages=100}={}){var results,nextUrl,page,response;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:results=[],nextUrl=null,page=1;case 3:if(!(page<=maxAllowedPages)){_context2.next=18;break}return _context2.next=6,getNextResponse(nextUrl);case 6:if(response=_context2.sent,!isErrorResponse(response)){_context2.next=9;break}return _context2.abrupt("return",response);case 9:if(results=results.concat(response.results),!response.next){_context2.next=14;break}nextUrl=response.next,_context2.next=15;break;case 14:return _context2.abrupt("return",{count:results.length,next:null,page_count:1,page_size:results.length,previous:null,results:results});case 15:page++,_context2.next=3;break;case 18:throw new Error("Fetched too many pages (maxAllowedPages=".concat(maxAllowedPages,")"));case 19:case"end":return _context2.stop()}}),_callee2)})));return function fetchAllPages(_x2){return _ref2.apply(this,arguments)}}(),makeApiQuery=(path,fileOnly)=>{var query={};return path&&(query.file=path),fileOnly&&(query.file_only="true"),Object.keys(query).length?query:void 0},getVersion=function(){var _ref3=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee3({addonId:addonId,apiState:apiState,path:path,versionId:versionId}){return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",callApi({apiState:apiState,endpoint:"reviewers/addon/".concat(addonId,"/versions/").concat(versionId),query:makeApiQuery(path)}));case 1:case"end":return _context3.stop()}}),_callee3)})));return function getVersion(_x3){return _ref3.apply(this,arguments)}}(),getVersionFileOnly=function(){var _ref4=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee4({addonId:addonId,apiState:apiState,path:path,versionId:versionId}){return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",callApi({apiState:apiState,endpoint:"reviewers/addon/".concat(addonId,"/versions/").concat(versionId),query:makeApiQuery(path,!0)}));case 1:case"end":return _context4.stop()}}),_callee4)})));return function getVersionFileOnly(_x4){return _ref4.apply(this,arguments)}}(),getVersionsList=function(){var _ref5=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee5({apiState:apiState,addonId:addonId}){return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.abrupt("return",callApi({apiState:apiState,endpoint:"reviewers/addon/".concat(addonId,"/versions/")}));case 1:case"end":return _context5.stop()}}),_callee5)})));return function getVersionsList(_x5){return _ref5.apply(this,arguments)}}(),logOutFromServer=function(){var _ref6=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee6(apiState){return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.abrupt("return",callApi({apiState:apiState,includeCredentials:!0,endpoint:"accounts/session",method:HttpMethod.DELETE}));case 1:case"end":return _context6.stop()}}),_callee6)})));return function logOutFromServer(_x6){return _ref6.apply(this,arguments)}}(),getCurrentUser=function(){var _ref7=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee7(apiState){return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.abrupt("return",callApi({apiState:apiState,endpoint:"/accounts/profile/"}));case 1:case"end":return _context7.stop()}}),_callee7)})));return function getCurrentUser(_x7){return _ref7.apply(this,arguments)}}(),getDiff=function(){var _ref8=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee8({addonId:addonId,apiState:apiState,baseVersionId:baseVersionId,headVersionId:headVersionId,path:path}){return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.abrupt("return",callApi({apiState:apiState,endpoint:"reviewers/addon/".concat(addonId,"/versions/").concat(baseVersionId,"/compare_to/").concat(headVersionId),query:makeApiQuery(path)}));case 1:case"end":return _context8.stop()}}),_callee8)})));return function getDiff(_x8){return _ref8.apply(this,arguments)}}(),getDiffFileOnly=function(){var _ref9=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee9({addonId:addonId,apiState:apiState,baseVersionId:baseVersionId,headVersionId:headVersionId,path:path}){return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.abrupt("return",callApi({apiState:apiState,endpoint:"reviewers/addon/".concat(addonId,"/versions/").concat(baseVersionId,"/compare_to/").concat(headVersionId),query:makeApiQuery(path,!0)}));case 1:case"end":return _context9.stop()}}),_callee9)})));return function getDiffFileOnly(_x9){return _ref9.apply(this,arguments)}}(),createOrUpdateComment=function(){var _ref10=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee10({_callApi:_callApi=callApi,addonId:addonId,apiState:apiState,cannedResponseId:cannedResponseId,comment:comment,commentId:commentId,fileName:fileName,line:line,versionId:versionId}){var endpoint;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:if(void 0!==cannedResponseId||void 0!==comment){_context10.next=2;break}throw new Error("Either cannedResponseId or comment must be specified");case 2:if(void 0===cannedResponseId||void 0===comment){_context10.next=4;break}throw new Error("cannedResponseId and comment cannot both be specified");case 4:return endpoint="reviewers/addon/".concat(addonId,"/versions/").concat(versionId,"/draft_comments"),commentId&&(endpoint="".concat(endpoint,"/").concat(commentId)),_context10.abrupt("return",_callApi({apiState:apiState,bodyData:{canned_response:cannedResponseId,comment:comment,filename:fileName,lineno:line},endpoint:endpoint,method:commentId?HttpMethod.PATCH:HttpMethod.POST}));case 7:case"end":return _context10.stop()}}),_callee10)})));return function createOrUpdateComment(_x10){return _ref10.apply(this,arguments)}}(),getComments=function(){var _ref11=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee11({_callApi:_callApi=callApi,addonId:addonId,apiState:apiState,endpointUrl:endpointUrl,versionId:versionId}){var endpoint;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee11$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return endpointUrl||(endpoint="reviewers/addon/".concat(addonId,"/versions/").concat(versionId,"/draft_comments")),_context11.abrupt("return",_callApi({apiState:apiState,endpointUrl:endpointUrl||void 0,endpoint:endpoint,method:HttpMethod.GET}));case 2:case"end":return _context11.stop()}}),_callee11)})));return function getComments(_x11){return _ref11.apply(this,arguments)}}(),getAllComments=function(){var _ref13=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee12(_ref12){var _ref12$_fetchAllPages,_fetchAllPages,_ref12$_getComments,_getComments,params;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee12$(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return _ref12$_fetchAllPages=_ref12._fetchAllPages,_fetchAllPages=void 0===_ref12$_fetchAllPages?fetchAllPages:_ref12$_fetchAllPages,_ref12$_getComments=_ref12._getComments,_getComments=void 0===_ref12$_getComments?getComments:_ref12$_getComments,params=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__.a)(_ref12,["_fetchAllPages","_getComments"]),_context12.abrupt("return",_fetchAllPages(nextUrl=>_getComments(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},params),{},{endpointUrl:nextUrl}))));case 2:case"end":return _context12.stop()}}),_callee12)})));return function getAllComments(_x12){return _ref13.apply(this,arguments)}}(),deleteComment=function(){var _ref14=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee13({_callApi:_callApi=callApi,addonId:addonId,commentId:commentId,apiState:apiState,versionId:versionId}){return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee13$(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return _context13.abrupt("return",_callApi({apiState:apiState,endpoint:"reviewers/addon/".concat(addonId,"/versions/").concat(versionId,"/draft_comments/").concat(commentId),method:HttpMethod.DELETE}));case 1:case"end":return _context13.stop()}}),_callee13)})));return function deleteComment(_x13){return _ref14.apply(this,arguments)}}(),getValidation=function(){var _ref15=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee14({addonId:addonId,apiState:apiState,fileId:fileId}){return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee14$(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:return _context14.abrupt("return",callApi({apiState:apiState,endpoint:"reviewers/addon/".concat(addonId,"/file/").concat(fileId,"/validation/")}));case 1:case"end":return _context14.stop()}}),_callee14)})));return function getValidation(_x14){return _ref15.apply(this,arguments)}}()},333:function(module,exports,__webpack_require__){module.exports={button:"styles_button__3DCtN",commentable:"styles_commentable__YFHBX"}},334:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(84),_Button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(192),_styles_module_scss__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(470),_styles_module_scss__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_4__);__webpack_exports__.a=({className:className,label:label,onClick:onClick,title:title,toggleLeft:toggleLeft=!1})=>{var labelElement=label?react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_4___default.a.label},label):null,icon=toggleLeft?"angle-double-left":"angle-double-right";return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Button__WEBPACK_IMPORTED_MODULE_3__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()({[_styles_module_scss__WEBPACK_IMPORTED_MODULE_4___default.a.toggleLeft]:toggleLeft},className),onClick:onClick,title:title},!toggleLeft&&labelElement,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__.a,{icon:icon}),toggleLeft&&labelElement)}},338:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_LinterMessage__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(46),_CodeView_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(75);__webpack_exports__.a=({className:className,messages:messages,containerRef:containerRef})=>messages&&messages.length?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:className,id:Object(_CodeView_utils__WEBPACK_IMPORTED_MODULE_2__.c)(0),ref:containerRef},messages.map(msg=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_LinterMessage__WEBPACK_IMPORTED_MODULE_1__.a,{key:msg.uid,message:msg}))):null},339:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='"undefined"!=typeof browser&&(chrome=browser),function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1119)}({0:function(e,t,n){"use strict";e.exports=n(82)},1:function(e,t,n){e.exports=n(98)()},10:function(e,t,n){"use strict";var a=n(153),r="object"==typeof self&&self&&self.Object===Object&&self,i=(a.a||r||Function("return this")()).Symbol,s=Object.prototype,o=s.hasOwnProperty,l=s.toString,u=i?i.toStringTag:void 0;var c=function(e){var t=o.call(e,u),n=e[u];try{e[u]=void 0;var a=!0}catch(e){}var r=l.call(e);return a&&(t?e[u]=n:delete e[u]),r},d=Object.prototype.toString;var h=function(e){return d.call(e)},f="[object Null]",m="[object Undefined]",p=i?i.toStringTag:void 0;var _=function(e){return null==e?void 0===e?m:f:p&&p in Object(e)?c(e):h(e)};var g=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);'},340:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"createOneLineComment",(function(){return createOneLineComment})),__webpack_require__.d(__webpack_exports__,"createVeryLongComments",(function(){return createVeryLongComments}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14),_src_components_CommentSummary__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(341),_src_reducers_comments__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(18),_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13),render=({comments:comments=[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)()]}={})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src_components_CommentSummary__WEBPACK_IMPORTED_MODULE_2__.a,{comments:comments.map(c=>Object(_src_reducers_comments__WEBPACK_IMPORTED_MODULE_3__.c)(c))}),createOneLineComment=()=>[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"manifest.json",lineno:23,comment:"This is a deprecated permission"})],createVeryLongComments=()=>new Array(10).fill(null).map((value,index)=>Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"manifest.json",lineno:index+1,comment:_utils__WEBPACK_IMPORTED_MODULE_5__.b.trim()}));Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("CommentSummary",module).add("one line comment",()=>render({comments:createOneLineComment()})).add("multiple line comments",()=>render({comments:[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"manifest.json",lineno:23,comment:"This is a deprecated permission"}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"scripts/background.js",lineno:432,comment:"This function call is not allowed"}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"scripts/content-script.js",lineno:432,comment:"Calling eval is definitely not allowed."}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"lib/react.js",lineno:432,comment:"When attaching a ref to a DOM component like <div />, you get the DOM node back; when attaching a ref to a composite component like <TextInput />, you'll get the React class instance. In the latter case, you can call methods on that component if any are exposed in its class definition.\n\nNote that when the referenced component is unmounted and whenever the ref changes, the old ref will be called with null as an argument. This prevents memory leaks in the case that the instance is stored, as in the second example. Also note that when writing refs with inline function expressions as in the examples here, React sees a different function object each time so on every update, ref will be called with null immediately before it's called with the component instance."})]})).add("one file comment",()=>render({comments:[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"src/util/systematic-dysfunctioner.js",lineno:null,comment:"This file does not appear to be used anywhere. Is it?"})]})).add("one version comment",()=>render({comments:[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:null,lineno:null,comment:"Your add-on looks pretty good."})]})).add("mixed version and file comments",()=>render({comments:[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"manifest.json",lineno:null,comment:"Nice manifest file"}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"manifest.json",lineno:12,comment:"This permission is not used anywhere. Do you still need it?"}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:null,lineno:null,comment:"This is a separate overall comment."}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:null,lineno:null,comment:"Really nice add-on"})]})).add("very long comments",()=>render({comments:createVeryLongComments()})).add("multiple comments on the same line",()=>render({comments:[Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"manifest.json",lineno:23,comment:"This is the first comment for this file"}),Object(_src_test_helpers__WEBPACK_IMPORTED_MODULE_4__.a)({filename:"manifest.json",lineno:23,comment:"This is the second comment for this file"})]}))}.call(this,__webpack_require__(30)(module))},341:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),_reducers_comments__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(18),_styles_module_scss__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(475),_styles_module_scss__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_4__);__webpack_exports__.a=({comments:comments,className:className})=>{var _step,overallComments=[],fileComments=[],_iterator=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__.a)(comments);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _comment3=_step.value;_comment3.filename?fileComments.push(_comment3):overallComments.push(_comment3)}}catch(err){_iterator.e(err)}finally{_iterator.f()}var lines=[],addComment=comment=>{lines.push(comment.content||""),lines.push("")};if(overallComments.length){lines.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__.m)("Overall comment(s):")),lines.push("");var _step2,_iterator2=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__.a)(overallComments);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){addComment(_step2.value)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}for(var groups={},_i=0,_fileComments=fileComments;_i<_fileComments.length;_i++){var _comment=_fileComments[_i],_key=Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_3__.b)({commentId:void 0,fileName:_comment.filename,line:_comment.lineno});groups[_key]||(groups[_key]=[]),groups[_key].push(_comment)}for(var _i2=0,_Object$keys=Object.keys(groups);_i2<_Object$keys.length;_i2++){var _step3,_key2=_Object$keys[_i2],addedHeader=!1,_iterator3=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__.a)(groups[_key2]);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _comment2=_step3.value;addedHeader||(lines.push(Object(_utils__WEBPACK_IMPORTED_MODULE_2__.m)("File:")),lines.push("".concat(_comment2.filename).concat(_comment2.lineno?"#L".concat(_comment2.lineno):"")),lines.push(""),addedHeader=!0),addComment(_comment2)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}}var id="CommentSummary-textarea";return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:className},react__WEBPACK_IMPORTED_MODULE_1__.createElement("label",{htmlFor:id,className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_4___default.a.label},Object(_utils__WEBPACK_IMPORTED_MODULE_2__.m)("Summary of all comments")),react__WEBPACK_IMPORTED_MODULE_1__.createElement("textarea",{autoFocus:!0,className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_4___default.a.summary,id:id,readOnly:!0,value:lines.join("\n")}))}},342:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react_bootstrap__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(483),react_bootstrap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(91),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(28),_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_reducers_comments__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(18),_reducers_popover__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(66),_reducers_versions__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(10),_CommentSummary__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(341),_PopoverButton__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(151),_styles_module_scss__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(476),_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_10__);__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_3__.connect)(state=>{var currentVersion=Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_7__.p)(state.versions);return{comments:currentVersion?Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_5__.k)({comments:state.comments,versionId:currentVersion.id}):void 0}})(({comments:comments,dispatch:dispatch})=>{var id="COMMENTS_SUMMARY";return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_PopoverButton__WEBPACK_IMPORTED_MODULE_9__.a,{id:id,content:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.a.Title,{as:"h3"},Object(_utils__WEBPACK_IMPORTED_MODULE_4__.m)("Comments")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.a.Content,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_CommentSummary__WEBPACK_IMPORTED_MODULE_8__.a,{comments:comments||[]}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.summaryControls},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.a,{onClick:()=>{dispatch(_reducers_popover__WEBPACK_IMPORTED_MODULE_6__.a.hide(id))},size:"sm",variant:"primary"},Object(_utils__WEBPACK_IMPORTED_MODULE_4__.m)("Close"))))),popoverClassName:_styles_module_scss__WEBPACK_IMPORTED_MODULE_10___default.a.popover,prompt:Object(_utils__WEBPACK_IMPORTED_MODULE_4__.m)("Comment Summary")})})},343:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react_bootstrap__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(91),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(28),_reducers_users__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(133),_api__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(33),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6),_styles_module_scss__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(758),_styles_module_scss__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_6__);class LoginButtonBase extends react__WEBPACK_IMPORTED_MODULE_0__.Component{getFxaURL(){var _this$props=this.props,_window=_this$props._window,fxaConfig=_this$props.fxaConfig,isLocalDev=_this$props.isLocalDev,href=_window.location.href;return isLocalDev&&(href=href.replace(_window.location.origin,"")),Object(_api__WEBPACK_IMPORTED_MODULE_4__.m)({path:"/accounts/login/start/?config=".concat(fxaConfig,"&to=").concat(href)})}render(){var userIsLoading=this.props.userIsLoading;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.a,{disabled:userIsLoading,size:"sm",href:this.getFxaURL(),className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_6___default.a.link},Object(_utils__WEBPACK_IMPORTED_MODULE_5__.m)("Log in"))}}LoginButtonBase.defaultProps={_window:window,fxaConfig:"code-manager",isLocalDev:"true"===Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"https://addons-code-manager.cdn.mozilla.net",REACT_APP_API_HOST:"https://addons.mozilla.org",REACT_APP_REVIEWERS_HOST:"https://reviewers.addons.mozilla.org",REACT_APP_AUTH_TOKEN_PLACEHOLDER:"__AUTH_TOKEN__",REACT_APP_AUTHENTICATION_COOKIE:"frontend_auth_token",REACT_APP_DEFAULT_API_LANG:"en-US",REACT_APP_DEFAULT_API_VERSION:"v5",REACT_APP_FXA_CONFIG:"code-manager",INLINE_RUNTIME_CHUNK:"false",REACT_APP_UNSAFE_ERROR_SIMULATION:"false",REACT_APP_ENABLE_COMMENTING:"true",REACT_APP_ANALYTICS_HOST:"https://www.google-analytics.com",REACT_APP_TRACKING_ENABLED:"true",REACT_APP_TRACKING_ID:"UA-77033033-29",REACT_APP_GA_DEBUG_MODE:"false"}).REACT_APP_IS_LOCAL_DEV};__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_2__.connect)(state=>({userIsLoading:Object(_reducers_users__WEBPACK_IMPORTED_MODULE_3__.b)(state.users)}))(LoginButtonBase)},344:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(760),_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__);__webpack_exports__.a=({className:className})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default.a.skeleton,className)})},347:function(module,__webpack_exports__,__webpack_require__){"use strict";var refractor=__webpack_require__(474),refractor_default=__webpack_require__.n(refractor),text_language_text=Prism=>{Prism.languages.text={}};text_language_text.displayName="text",text_language_text.aliases=[];var text_language=text_language_text;__webpack_require__(1898),__webpack_require__(1899);refractor_default.a.register(text_language);__webpack_exports__.a=refractor_default.a},348:function(module,__webpack_exports__,__webpack_require__){"use strict";var classnames=__webpack_require__(5),classnames_default=__webpack_require__.n(classnames),react=__webpack_require__(0),Button=__webpack_require__(91),Form=__webpack_require__(1928),es=__webpack_require__(28),withRouter=__webpack_require__(206),PopoverButton=__webpack_require__(151),Col=__webpack_require__(743),index_es=__webpack_require__(84),Skeleton=__webpack_require__(344),utils=__webpack_require__(6),styles_module=__webpack_require__(155),styles_module_default=__webpack_require__.n(styles_module);class VersionSelect_VersionSelectBase extends react.Component{constructor(...args){super(...args),this.onChange=event=>{var value=event.currentTarget.value;this.props.onChange(parseInt(value,10))},this.renderOption=version=>{var isSelectable=this.props.isSelectable;return react.createElement("option",{className:styles_module_default.a.option,disabled:!isSelectable(version),key:version.id,value:version.id},version.versionString)}}render(){var _this$props=this.props,className=_this$props.className,controlId=_this$props.controlId,formControlClassName=_this$props.formControlClassName,isLoading=_this$props.isLoading,label=_this$props.label,listedVersions=_this$props.listedVersions,unlistedVersions=_this$props.unlistedVersions,value=_this$props.value,withLeftArrow=_this$props.withLeftArrow;return react.createElement(react.Fragment,null,react.createElement(Form.a.Group,{as:Col.a,className:classnames_default()(className,styles_module_default.a.formGroup),controlId:controlId},withLeftArrow&&react.createElement(index_es.a,{icon:"long-arrow-alt-left"}),react.createElement(Form.a.Label,{className:styles_module_default.a.label},label),isLoading?react.createElement("div",{className:classnames_default()("form-control",formControlClassName,styles_module_default.a.simulatedFormControl)},react.createElement(Skeleton.a,{className:styles_module_default.a.simulatedFormControlSkeleton})):react.createElement(Form.a.Control,{as:"select",className:formControlClassName,value:value,onChange:this.onChange},listedVersions.length&&react.createElement("optgroup",{className:styles_module_default.a.listedGroup,label:Object(utils.m)("Listed")},listedVersions.map(this.renderOption)),unlistedVersions.length&&react.createElement("optgroup",{className:styles_module_default.a.unlistedGroup,label:Object(utils.m)("Unlisted")},unlistedVersions.map(this.renderOption)))))}}VersionSelect_VersionSelectBase.defaultProps={withLeftArrow:!1};var VersionSelect=VersionSelect_VersionSelectBase,popover=__webpack_require__(66),versions=__webpack_require__(10),VersionChooser_styles_module=__webpack_require__(101),VersionChooser_styles_module_default=__webpack_require__.n(VersionChooser_styles_module);class VersionChooser_VersionChooserBase extends react.Component{constructor(...args){super(...args),this.onSubmit=event=>{event.preventDefault();var _this$props=this.props,addonId=_this$props.addonId,dispatch=_this$props.dispatch,history=_this$props.history,pendingBaseVersionId=_this$props.pendingBaseVersionId,pendingHeadVersionId=_this$props.pendingHeadVersionId;dispatch(popover.a.hide("COMPARE_VERSIONS"));history.push(this.addLocationQueryString("/".concat("en-US","/compare/").concat(addonId,"/versions/").concat(pendingBaseVersionId,"...").concat(pendingHeadVersionId,"/")))},this.onHeadVersionChange=versionId=>{(0,this.props.dispatch)(versions.b.setPendingHeadVersionId({versionId:versionId}))},this.onBaseVersionChange=versionId=>{(0,this.props.dispatch)(versions.b.setPendingBaseVersionId({versionId:versionId}))}}componentDidMount(){var _this$props2=this.props,_fetchVersionsList=_this$props2._fetchVersionsList,addonId=_this$props2.addonId,dispatch=_this$props2.dispatch;_this$props2.versionsMap||dispatch(_fetchVersionsList({addonId:addonId})),this.synchronize()}componentDidUpdate(){this.synchronize()}synchronize(){var _this$props3=this.props,currentBaseVersionId=_this$props3.currentBaseVersionId,currentVersionId=_this$props3.currentVersionId,dispatch=_this$props3.dispatch,pendingBaseVersionId=_this$props3.pendingBaseVersionId,pendingHeadVersionId=_this$props3.pendingHeadVersionId,versionsMap=_this$props3.versionsMap;if(void 0===pendingBaseVersionId&&currentBaseVersionId)dispatch(versions.b.setPendingBaseVersionId({versionId:currentBaseVersionId}));else if(void 0===pendingHeadVersionId&&currentVersionId)dispatch(versions.b.setPendingHeadVersionId({versionId:currentVersionId}));else if(!pendingBaseVersionId){var allBaseVersions=versionsMap?versionsMap.listed.concat(versionsMap.unlisted):[];allBaseVersions.length&&dispatch(versions.b.setPendingBaseVersionId({versionId:allBaseVersions[allBaseVersions.length-1].id}))}}addLocationQueryString(url){var history=this.props.history;if(!url.endsWith("/"))throw new Error("The URL '".concat(url,"' must end in a trailing slash"));return"".concat(url).concat(history.location.search)}renderBrowseButton(versionId){var _this$props4=this.props,addonId=_this$props4.addonId,dispatch=_this$props4.dispatch,history=_this$props4.history,href=versionId?this.addLocationQueryString("/".concat("en-US","/browse/").concat(addonId,"/versions/").concat(versionId,"/")):void 0;return react.createElement(Button.a,{disabled:!versionId,onClick:event=>{event.preventDefault(),event.stopPropagation(),dispatch(popover.a.hide("COMPARE_VERSIONS")),href&&history.push(href)},href:href},Object(utils.m)("Browse"))}render(){var _this$props5=this.props,_higherVersionsThan=_this$props5._higherVersionsThan,_lowerVersionsThan=_this$props5._lowerVersionsThan,pendingBaseVersionId=_this$props5.pendingBaseVersionId,pendingHeadVersionId=_this$props5.pendingHeadVersionId,versionsMap=_this$props5.versionsMap,headVersionId=String(pendingHeadVersionId||""),baseVersionId=String(pendingBaseVersionId||""),listedVersions=versionsMap?versionsMap.listed:[],unlistedVersions=versionsMap?versionsMap.unlisted:[],isLoading=!versionsMap;return react.createElement(PopoverButton.a,{id:"COMPARE_VERSIONS",content:react.createElement(Form.a,{className:VersionChooser_styles_module_default.a.VersionChooser,onSubmit:this.onSubmit},react.createElement("div",{className:VersionChooser_styles_module_default.a.formRow},react.createElement(VersionSelect,{className:classnames_default()(VersionChooser_styles_module_default.a.versionSelect,VersionChooser_styles_module_default.a.baseVersionSelect),controlId:"VersionSelect-oldVersion",formControlClassName:VersionChooser_styles_module_default.a.versionSelectControl,isLoading:isLoading,isSelectable:_lowerVersionsThan(headVersionId),label:Object(utils.m)("Old version"),listedVersions:listedVersions,onChange:this.onBaseVersionChange,unlistedVersions:unlistedVersions,value:baseVersionId}),this.renderBrowseButton(baseVersionId)),react.createElement("div",{className:VersionChooser_styles_module_default.a.formRow},react.createElement(VersionSelect,{className:classnames_default()(VersionChooser_styles_module_default.a.versionSelect,VersionChooser_styles_module_default.a.headVersionSelect),controlId:"VersionSelect-newVersion",formControlClassName:VersionChooser_styles_module_default.a.versionSelectControl,isLoading:isLoading,isSelectable:_higherVersionsThan(baseVersionId),label:Object(utils.m)("New version"),listedVersions:listedVersions,onChange:this.onHeadVersionChange,unlistedVersions:unlistedVersions,value:headVersionId}),this.renderBrowseButton(headVersionId)),react.createElement(Button.a,{className:VersionChooser_styles_module_default.a.submitButton,disabled:baseVersionId===headVersionId,type:"submit",variant:"primary"},Object(utils.m)("Compare"))),popoverClassName:VersionChooser_styles_module_default.a.popover,prompt:Object(utils.m)("Compare Versions")})}}VersionChooser_VersionChooserBase.defaultProps={_fetchVersionsList:versions.h,_higherVersionsThan:versionId=>version=>version.id>parseInt(versionId,10),_lowerVersionsThan:versionId=>version=>version.id<parseInt(versionId,10)};var ConnectedVersionChooser=Object(es.connect)((state,ownProps)=>{var byAddonId=state.versions.byAddonId,addonId=ownProps.addonId;return{currentBaseVersionId:state.versions.currentBaseVersionId,currentVersionId:state.versions.currentVersionId,pendingBaseVersionId:state.versions.pendingBaseVersionId,pendingHeadVersionId:state.versions.pendingHeadVersionId,versions:state.versions,versionsMap:byAddonId[addonId]}})(VersionChooser_VersionChooserBase);__webpack_exports__.a=Object(withRouter.a)(ConnectedVersionChooser)},352:function(module,exports,__webpack_require__){module.exports={whitespace:"styles_whitespace__1ADIm",code:"styles_code__1ScL_",change:"styles_change__3sZ--"}},40:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return createInternalMessage})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getMessageMap})),__webpack_require__.d(__webpack_exports__,"e",(function(){return findMostSevereType})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getMessagesForPath})),__webpack_require__.d(__webpack_exports__,"a",(function(){return actions})),__webpack_require__.d(__webpack_exports__,"d",(function(){return fetchLinterMessagesIfNeeded})),__webpack_require__.d(__webpack_exports__,"h",(function(){return selectMessageMap}));var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24),loglevel__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(25),loglevel__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_3__),typesafe_actions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_errors__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(73),_api__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(33),createAction=typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.deprecated.createAction,createInternalMessage=message=>({code:message.id,column:message.column,description:Array.isArray(message.description)?message.description:[message.description],file:message.file,line:message.line,message:message.message,type:message.type,uid:message.uid}),getMessageMap=result=>{var msgMap={byPath:{},general:[]};return result.validation.messages.forEach(message=>{var internalMessage=createInternalMessage(message);if(message.file){msgMap.byPath[message.file]||(msgMap.byPath[message.file]={global:[],byLine:{}});var map=msgMap.byPath[message.file];message.line?(map.byLine[message.line]||(map.byLine[message.line]=[]),map.byLine[message.line].push(internalMessage)):map.global.push(internalMessage)}else msgMap.general.push(internalMessage)}),msgMap},findMostSevereType=messages=>{if(!messages.length)throw new Error('"messages" cannot be empty');for(var allTypes=messages.map(msg=>msg.type),_i=0,_orderedTypes=["error","warning","notice"];_i<_orderedTypes.length;_i++){var type=_orderedTypes[_i];if(allTypes.includes(type))return type}throw new Error("Linter messages all have unknown types: ".concat(allTypes.join(", ")))},getMessagesForPath=messages=>{var allowedKeys=["global","byLine"];Object.keys(messages).forEach(key=>{if(!allowedKeys.includes(key))throw new Error('Unexpected key "'.concat(key,'" found.'))});var allMessages=[...messages.global];return Object.keys(messages.byLine).forEach(key=>{allMessages.push(...messages.byLine[parseInt(key,10)])}),allMessages},initialState={forVersionId:void 0,isLoading:!1,messageMap:void 0},actions={abortFetchLinterResult:createAction("ABORT_FETCH_LINTER_RESULT",resolve=>payload=>resolve(payload)),beginFetchLinterResult:createAction("BEGIN_FETCH_LINTER_RESULT",resolve=>payload=>resolve(payload)),loadLinterResult:createAction("LOAD_LINTER_RESULT",resolve=>payload=>resolve(payload))},fetchLinterMessagesIfNeeded=({_getValidation:_getValidation=_api__WEBPACK_IMPORTED_MODULE_6__.g,version:version})=>function(){var _ref=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee(dispatch,getState){var _getState,apiState,linter,versionId,response;return _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_getState=getState(),apiState=_getState.api,linter=_getState.linter,versionId=version.id,!linter.isLoading||linter.forVersionId!==version.id){_context.next=5;break}return loglevel__WEBPACK_IMPORTED_MODULE_3___default.a.debug("Aborting because linter messages are already being fetched"),_context.abrupt("return");case 5:return dispatch(actions.beginFetchLinterResult({versionId:versionId})),_context.next=8,_getValidation({apiState:apiState,addonId:version.addon.id,fileId:version.fileId});case 8:response=_context.sent,Object(_api__WEBPACK_IMPORTED_MODULE_6__.k)(response)&&(dispatch(actions.abortFetchLinterResult({versionId:versionId})),dispatch(_errors__WEBPACK_IMPORTED_MODULE_5__.a.addError({error:response.error}))),dispatch(actions.loadLinterResult({versionId:versionId,result:response}));case 11:case"end":return _context.stop()}}),_callee)})));return function(_x,_x2){return _ref.apply(this,arguments)}}(),selectMessageMap=(linterState,versionId)=>{if(linterState.forVersionId===versionId)return linterState.messageMap};__webpack_exports__.c=(state=initialState,action)=>{switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.beginFetchLinterResult):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{forVersionId:action.payload.versionId,messageMap:void 0,isLoading:!0});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.abortFetchLinterResult):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{forVersionId:action.payload.versionId,messageMap:{byPath:{},general:[]},isLoading:!1});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_4__.getType)(actions.loadLinterResult):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{forVersionId:action.payload.versionId,messageMap:getMessageMap(action.payload.result),isLoading:!1});default:return state}}},46:function(module,__webpack_exports__,__webpack_require__){"use strict";var classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),dompurify__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(331),dompurify__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(dompurify__WEBPACK_IMPORTED_MODULE_1__),he__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(462),he__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(he__WEBPACK_IMPORTED_MODULE_2__),query_string__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(56),query_string__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_3__),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react_bootstrap__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(207),react_router_dom__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(206),_styles_module_scss__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(256),_styles_module_scss__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_7__),_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(6),decodeHtmlEntities=text=>he__WEBPACK_IMPORTED_MODULE_2___default.a.decode(text);__webpack_exports__.a=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_6__.a)(({className:className,inline:inline=!1,location:location,message:message})=>{var description=message.description,linterMessage=message.message,variant=(type=>{switch(type){case"error":return"danger";case"warning":return"warning";default:return"secondary"}})(message.type),messageUid=query_string__WEBPACK_IMPORTED_MODULE_3___default.a.parse(location.search)[_utils__WEBPACK_IMPORTED_MODULE_8__.n];return react__WEBPACK_IMPORTED_MODULE_4__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_5__.a,{className:classnames__WEBPACK_IMPORTED_MODULE_0___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_7___default.a[variant],className,{[_styles_module_scss__WEBPACK_IMPORTED_MODULE_7___default.a.inline]:inline},{[_styles_module_scss__WEBPACK_IMPORTED_MODULE_7___default.a.highlight]:"string"==typeof messageUid&&messageUid===message.uid}),variant:variant},react__WEBPACK_IMPORTED_MODULE_4__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_5__.a.Heading,null,decodeHtmlEntities(linterMessage)),react__WEBPACK_IMPORTED_MODULE_4__.createElement("p",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_7___default.a.description},(description=>{var urlPattern=/^https?:\/\//;return description.reduce((allLines,line,lineIndex)=>(lineIndex>0&&allLines.push(react__WEBPACK_IMPORTED_MODULE_4__.createElement("br",{key:line})),allLines.push(dompurify__WEBPACK_IMPORTED_MODULE_1___default.a.sanitize(line,{ALLOWED_TAGS:[]}).split(/(\s+)/).reduce((allParts,part)=>(urlPattern.test(part)?allParts.push(react__WEBPACK_IMPORTED_MODULE_4__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_5__.a.Link,{key:"link:".concat(part),href:part,rel:"noreferrer noopener",target:"_blank"},part)):allParts.push(decodeHtmlEntities(part)),allParts),[])),allLines),[])})(description)))})},470:function(module,exports,__webpack_require__){module.exports={label:"styles_label__37BrK",toggleLeft:"styles_toggleLeft__1CsU0"}},473:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="import type {BrowserTab} from './tab';\n\nexport type TabListMessage = {|\n  action: 'tabListChanged',\n  data: {tabs: Array<BrowserTab>},\n|};\n\nclass Background {\n  tabList: Array<BrowserTab>;\n  visitedTabs: Array<BrowserTab>;\n  popupIsOpen: boolean;\n\n  constructor() {\n    this.visitedTabs = [];\n    this.tabList = [];\n    this.popupIsOpen = false;\n\n    chrome.tabs.onActivated.addListener(this.onActivated);\n    chrome.tabs.onUpdated.addListener(this.onTabsUpdated);\n    chrome.tabs.onRemoved.addListener(this.onTabRemoved);\n\n    chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n      if (!message.background) {\n        return;\n      }\n      console.log('Background: got message:', message);\n\n      let readMessage;\n      switch (message.action) {\n        case 'getTabs':\n          readMessage = this.getTabsForPopup();\n          break;\n        case 'openPopup':\n          readMessage = this.onPopupOpen();\n          break;\n        case 'closePopup':\n          readMessage = this.onPopupClose();\n          break;\n        default:\n          throw new Error(\n            `Background got an unexpected action`);\n      }\n\n      readMessage.then(reply => sendResponse(reply))\n        .catch(error => {\n          console.error('Background: error reading message', error);\n        });\n\n      return true;\n    });\n  }\n\n  onPopupOpen() {\n    this.popupIsOpen = true;\n    return Promise.resolve();\n  }\n\n  onPopupClose() {\n    this.popupIsOpen = false;\n    return Promise.resolve();\n  }\n\n  sendToPopup(message) {\n    return new Promise((resolve, reject) => {\n      const id = undefined;\n      const options = undefined;\n      chrome.runtime.sendMessage(\n        id,\n        {\n          popup: true,\n          ...message,\n        },\n        options,\n        (result) => {\n          if (chrome.runtime.lastError) {\n            console.log(\n              'background: got error:', chrome.runtime.lastError);\n            reject(chrome.runtime.lastError);\n          } else {\n            resolve(result);\n          }\n        }\n      );\n    });\n  }\n\n  onTabsUpdated = (tabId, changeInfo, tab) => {\n    console.log(`background: Tab was updated`, changeInfo);\n    this.visitedTabs = this.visitedTabs.map(\n      oldTab => oldTab.id === tab.id ? tab : oldTab);\n    this.tabList = this.tabList.map(\n      oldTab => oldTab.id === tab.id ? tab : oldTab);\n\n    if (this.popupIsOpen) {\n      const message: TabListMessage = {\n        action: 'tabListChanged',\n        data: {tabs: this.tabList},\n      };\n      this.sendToPopup(message);\n    }\n  }\n\n  onTabRemoved = (tabId) => {\n    console.log(`background: Tab was removed`);\n    this.visitedTabs = this.visitedTabs.filter(tab => tab.id !== tabId);\n    this.tabList = this.tabList.filter(tab => tab.id !== tabId);\n\n    if (this.popupIsOpen) {\n      this.sendToPopup({\n        action: 'tabListChanged',\n        data: {tabs: this.tabList},\n      });\n    }\n  }\n\n  onActivated = (activeInfo) => {\n    const {tabId} = activeInfo\n    this.getTab(tabId).then(tab => {\n      this.visitedTabs.unshift(tab);\n      if (this.visitedTabs.length > 2) {\n        this.visitedTabs.pop();\n      }\n      console.log(`background: Active tab changed`);\n    });\n  }\n\n  getTab(tabId) {\n    return new Promise((resolve, reject) => {\n      chrome.tabs.get(tabId, tab => {\n        if (chrome.runtime.lastError) {\n          return reject(chrome.runtime.lastError);\n        }\n        resolve(tab);\n      });\n    });\n  }\n\n  queryTabs(query) {\n    return new Promise((resolve, reject) => {\n      chrome.tabs.query(query, tabs => {\n        if (chrome.runtime.lastError) {\n          return reject(chrome.runtime.lastError);\n        }\n        resolve(tabs);\n      });\n    });\n  }\n\n  getTabsForPopup = () => {\n    return this.queryTabs({audible: true})\n      .then((audibleTabs) => {\n        const newTabList = [];\n        if (this.visitedTabs[1]) {\n          // Put the last viewed site at the top of the list so you\n          // can easily jump between what you're working on and what\n          // you're listening to.\n          newTabList.push(this.visitedTabs[1]);\n        }\n\n        function addUniqueTabs(tabList) {\n          const existingIds = new Set(newTabList.map(tab => tab.id));\n          tabList.forEach(tab => {\n            if (!existingIds.has(tab.id)) {\n              newTabList.push(tab);\n            }\n          });\n        }\n\n        addUniqueTabs(audibleTabs);\n        // Keep inaudible tabs around since the music may have just been paused\n        addUniqueTabs(this.tabList);\n\n        while (newTabList.length > 10) {\n          newTabList.pop();\n        }\n\n        this.tabList = newTabList;\n        return this.tabList;\n      })\n      .catch((error) => {\n        console.log('background: getTabsForPopup: error:', error);\n      });\n  }\n\n  listen() {\n    console.log('background: listening for info about audible websites');\n  }\n}\n\nconst background = new Background();\nbackground.listen();\n"},475:function(module,exports,__webpack_require__){module.exports={label:"styles_label__3bF-p",summary:"styles_summary__1jlCD"}},476:function(module,exports,__webpack_require__){module.exports={popover:"styles_popover__3WiIf",summaryControls:"styles_summaryControls__24Dfi"}},477:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="diff --git a/src/components/DiffView.test.tsx b/src/components/DiffView.test.tsx\nindex 5ca1a30..4e2c90f 100644\n--- a/src/components/DiffView.test.tsx\n+++ b/src/components/DiffView.test.tsx\n@@ -35,6 +35,8 @@ it('defaults the viewType to unified', () => {\n it('renders with a specified viewType', () => {\n   const viewType = 'split';\n   const root = render({ viewType });\n+\n+  expect(root).toHaveProp('viewType', viewType);\n });"},478:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='diff --git a/manifest.bundle.js b/manifest.bundle.js\nindex 5ca1a30..4e2c90f 100644\n--- a/manifest.bundle.js\n+++ b/manifest.bundle.js\n@@ -1 +1 @@\n+(function(a){function b(c){if(d[c])return d[c].exports;var e=d[c]={i:c,l:!1,exports:{}};return a[c].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c=window.webpackJsonp;window.webpackJsonp=function(d,f,g){for(var h,j,k,l=0,i=[];l<d.length;l++)j=d[l],e[j]&&i.push(e[j][0]),e[j]=0;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&(a[h]=f[h]);for(c&&c(d,f,g);i.length;)i.shift()();if(g)for(l=0;l<g.length;l++)k=b(b.s=g[l]);return k};var d={},e={11:0};b.m=a,b.c=d,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b.oe=function(a){throw console.error(a),a}})([]);'},479:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="diff --git a/src/components/DiffView/index.tsx b/src/components/DiffView/index.tsx\nindex b7ee4f8..08a29b0 100644\n--- a/src/components/DiffView/index.tsx\n+++ b/src/components/DiffView/index.tsx\n@@ -1,3 +1,10 @@\n import * as React from 'react';\n-import { Diff, DiffProps, parseDiff } from 'react-diff-view';\n+import {\n+  Decoration,\n+  Diff,\n+  DiffProps,\n+  Hunk,\n+  HunkInfo,\n+  parseDiff,\n+} from 'react-diff-view';\n\n@@ -16,3 +23,14 @@ class DiffView extends React.Component<Props> {\n\n-  render = () => {\n+  renderHunk(hunk: HunkInfo) {\n+    console.log({ hunk });\n+    return [\n+      <Decoration key={`decoration-${hunk.content}`}>\n+        {hunk.content}\n+      </Decoration>,\n+      // @ts-ignore\n+      <Hunk key={`hunk-${hunk.content}`} hunk={hunk} />,\n+    ];\n+  }\n+\n+  render() {\n     const { diff, viewType } = this.props;\n@@ -29,3 +47,5 @@ class DiffView extends React.Component<Props> {\n             viewType={viewType}\n-          />\n+          >\n+            {(hunks: HunkInfo[]) => hunks.map(this.renderHunk)}\n+          </Diff>\n         ))}\n@@ -33,3 +53,3 @@ class DiffView extends React.Component<Props> {\n     );\n-  };\n+  }\n }"},480:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="diff --git a/src/reducers/versions.tsx b/src/reducers/versions.tsx\ndeleted file mode 100644\nindex ba61d34..0000000\n--- a/src/reducers/versions.tsx\n+++ /dev/null\n@@ -1,1394 +0,0 @@\n-import { Reducer } from 'redux';\n-import { ActionType, createAction, getType } from 'typesafe-actions';\n-import log from 'loglevel';\n-import {\n-  ChangeInfo,\n-  DiffInfo,\n-  DiffInfoType,\n-  HunkInfo,\n-  getChangeKey,\n-} from 'react-diff-view';\n-import { push } from 'connected-react-router';\n-\n-import { ThunkActionCreator } from '../configureStore';\n-import { getDiff, getVersion, getVersionsList, isErrorResponse } from '../api';\n-import {\n-  LocalizedStringMap,\n-  createAdjustedQueryString,\n-  extractNumber,\n-} from '../utils';\n-import { actions as errorsActions } from './errors';\n-import {\n-  ROOT_PATH,\n-  RelativePathPosition,\n-  findRelativePathWithDiff,\n-} from './fileTree';\n-\n-export enum ScrollTarget {\n-  firstDiff = 'firstDiff',\n-  lastDiff = 'lastDiff',\n-}\n-\n-type VersionCompatibility = {\n-  [appName: string]: {\n-    min: string;\n-    max: string;\n-  };\n-};\n-\n-type VersionLicense = {\n-  id: number;\n-  isCustom: boolean;\n-  name: LocalizedStringMap;\n-  text: LocalizedStringMap;\n-  url: string;\n-};\n-\n-export type VersionEntryStatus = '' | 'M' | 'A' | 'D' | 'R' | 'C';\n-export type VersionEntryType = 'image' | 'directory' | 'text' | 'binary';\n-\n-export type ExternalVersionEntry = {\n-  depth: number;\n-  filename: string;\n-  mime_category: VersionEntryType;\n-  mimetype: string;\n-  modified: string;\n-  path: string;\n-  sha256: string;\n-  size: number | null;\n-  status?: VersionEntryStatus;\n-};\n-\n-type PartialExternalVersionFile = {\n-  created: string;\n-  download_url: string | null;\n-  entries: {\n-    [nodeName: string]: ExternalVersionEntry;\n-  };\n-  hash: string;\n-  id: number;\n-  is_mozilla_signed_extension: boolean;\n-  is_restart_required: boolean;\n-  is_webextension: boolean;\n-  permissions: string[];\n-  platform: string;\n-  selected_file: string;\n-  size: number;\n-  status: string;\n-  url: string;\n-};\n-\n-export type ExternalVersionAddon = {\n-  icon_url: string;\n-  id: number;\n-  name: LocalizedStringMap;\n-  slug: string;\n-};\n-\n-type PartialExternalVersion = {\n-  addon: ExternalVersionAddon;\n-  channel: string;\n-  compatibility: VersionCompatibility;\n-  edit_url: string;\n-  has_been_validated: boolean;\n-  id: number;\n-  is_strict_compatibility_enabled: boolean;\n-  license: VersionLicense;\n-  release_notes: LocalizedStringMap | null;\n-  reviewed: string;\n-  url: string;\n-  validation_url: string;\n-  validation_url_json: string;\n-  version: string;\n-};\n-\n-export type ExternalChange = {\n-  content: string;\n-  new_line_number: number;\n-  old_line_number: number;\n-  type: 'normal' | 'delete' | 'insert';\n-};\n-\n-export type ExternalHunk = {\n-  changes: ExternalChange[];\n-  header: string;\n-  new_lines: number;\n-  new_start: number;\n-  old_lines: number;\n-  old_start: number;\n-};\n-\n-type ExternalDiff = {\n-  hash: string;\n-  hunks: ExternalHunk[];\n-  is_binary: boolean;\n-  lines_added: number;\n-  lines_deleted: number;\n-  mode: string;\n-  new_ending_new_line: boolean;\n-  old_ending_new_line: boolean;\n-  old_path: string;\n-  parent: string;\n-  path: string;\n-  size: number;\n-};\n-\n-export type ExternalVersionFileWithContent = PartialExternalVersionFile & {\n-  content: string;\n-};\n-\n-export type ExternalVersionFileWithDiff = PartialExternalVersionFile & {\n-  diff: ExternalDiff | null;\n-};\n-\n-export type ExternalVersionWithContent = PartialExternalVersion & {\n-  file: ExternalVersionFileWithContent;\n-};\n-\n-export type ExternalVersionWithDiff = PartialExternalVersion & {\n-  file: ExternalVersionFileWithDiff;\n-};\n-\n-// This is how we store file information, but the getVersionFile selector\n-// returns more info, which is defined in VersionFileWithContent, below.\n-type InternalVersionFile = {\n-  content: string;\n-  created: string;\n-  downloadURL: string | null;\n-  id: number;\n-  size: number;\n-};\n-\n-export type VersionFileWithContent = {\n-  content: string;\n-  created: string;\n-  downloadURL: string | null;\n-  // This is the basename of the file.\n-  filename: string;\n-  id: number;\n-  mimeType: string;\n-  // This is the relative path to the file, including directories.\n-  path: string;\n-  sha256: string;\n-  size: number;\n-  type: VersionEntryType;\n-  version: string;\n-};\n-\n-export type VersionEntry = {\n-  depth: number;\n-  filename: string;\n-  mimeType: string;\n-  modified: string;\n-  path: string;\n-  sha256: string;\n-  status?: VersionEntryStatus;\n-  type: VersionEntryType;\n-};\n-\n-type VersionAddon = {\n-  iconUrl: string;\n-  id: number;\n-  name: LocalizedStringMap;\n-  slug: string;\n-};\n-\n-export type Version = {\n-  addon: VersionAddon;\n-  comparedToVersionId: null | number;\n-  entries: VersionEntry[];\n-  expandedPaths: string[];\n-  id: number;\n-  reviewed: string;\n-  selectedPath: string;\n-  validationURL: string;\n-  visibleSelectedPath: string | null;\n-  version: string;\n-};\n-\n-export type VersionsListItem = {\n-  channel: 'unlisted' | 'listed';\n-  id: number;\n-  version: string;\n-};\n-\n-export type ExternalVersionsListItem = VersionsListItem;\n-\n-export type ExternalVersionsList = ExternalVersionsListItem[];\n-\n-export type VersionsList = VersionsListItem[];\n-\n-export type VersionsMap = {\n-  listed: VersionsList;\n-  unlisted: VersionsList;\n-};\n-\n-export type CompareInfo = {\n-  diff: DiffInfo | null;\n-  mimeType: string;\n-};\n-\n-export const actions = {\n-  loadVersionFile: createAction('LOAD_VERSION_FILE', (resolve) => {\n-    return (payload: { path: string; version: ExternalVersionWithContent }) =>\n-      resolve(payload);\n-  }),\n-  loadVersionInfo: createAction('LOAD_VERSION_INFO', (resolve) => {\n-    return (payload: {\n-      version: ExternalVersionWithContent | ExternalVersionWithDiff;\n-      comparedToVersionId?: number;\n-    }) => resolve(payload);\n-  }),\n-  updateSelectedPath: createAction('UPDATE_SELECTED_PATH', (resolve) => {\n-    return (payload: { selectedPath: string; versionId: number }) =>\n-      resolve(payload);\n-  }),\n-  setCurrentVersionId: createAction('SET_CURRENT_VERSION_ID', (resolve) => {\n-    return (payload: { versionId: number }) => resolve(payload);\n-  }),\n-  setVisibleSelectedPath: createAction(\n-    'SET_VISIBLE_SELECTED_PATH',\n-    (resolve) => {\n-      return (payload: { path: string | null; versionId: number }) =>\n-        resolve(payload);\n-    },\n-  ),\n-  toggleExpandedPath: createAction('TOGGLE_EXPANDED_PATH', (resolve) => {\n-    return (payload: { path: string; versionId: number }) => resolve(payload);\n-  }),\n-  expandTree: createAction('EXPAND_TREE', (resolve) => {\n-    return (payload: { versionId: number }) => resolve(payload);\n-  }),\n-  collapseTree: createAction('COLLAPSE_TREE', (resolve) => {\n-    return (payload: { versionId: number }) => resolve(payload);\n-  }),\n-  loadVersionsList: createAction('LOAD_VERSIONS_LIST', (resolve) => {\n-    return (payload: { addonId: number; versions: ExternalVersionsList }) =>\n-      resolve(payload);\n-  }),\n-  beginFetchDiff: createAction('BEGIN_FETCH_DIFF', (resolve) => {\n-    return (payload: {\n-      addonId: number;\n-      baseVersionId: number;\n-      headVersionId: number;\n-      path?: string;\n-    }) => resolve(payload);\n-  }),\n-  beginFetchVersionFile: createAction('BEGIN_FETCH_VERSION_FILE', (resolve) => {\n-    return (payload: { path: string; versionId: number }) => resolve(payload);\n-  }),\n-  abortFetchDiff: createAction('ABORT_FETCH_DIFF', (resolve) => {\n-    return (payload: {\n-      addonId: number;\n-      baseVersionId: number;\n-      headVersionId: number;\n-      path?: string;\n-    }) => resolve(payload);\n-  }),\n-  abortFetchVersionFile: createAction('ABORT_FETCH_VERSION_FILE', (resolve) => {\n-    return (payload: { path: string; versionId: number }) => resolve(payload);\n-  }),\n-  loadDiff: createAction('LOAD_DIFF', (resolve) => {\n-    return (payload: {\n-      addonId: number;\n-      baseVersionId: number;\n-      headVersionId: number;\n-      version: ExternalVersionWithDiff;\n-      path?: string;\n-    }) => resolve(payload);\n-  }),\n-  beginFetchVersion: createAction('BEGIN_FETCH_VERSION', (resolve) => {\n-    return (payload: { versionId: number }) => resolve(payload);\n-  }),\n-  abortFetchVersion: createAction('ABORT_FETCH_VERSION', (resolve) => {\n-    return (payload: { versionId: number }) => resolve(payload);\n-  }),\n-};\n-\n-export type VersionsState = {\n-  byAddonId: {\n-    [addonId: number]: VersionsMap;\n-  };\n-  compareInfo: {\n-    [compareInfoKey: string]:\n-      | CompareInfo // data successfully loaded\n-      | null // an error has occured\n-      | undefined; // data not fetched yet\n-  };\n-  compareInfoIsLoading: {\n-    [compareInfoKey: string]: boolean;\n-  };\n-  currentVersionId: number | undefined;\n-  versionInfo: {\n-    [versionId: number]:\n-      | Version // data successfully loaded\n-      | null // an error has occured\n-      | undefined; // data not fetched yet\n-  };\n-  versionFiles: {\n-    [versionId: number]: {\n-      [path: string]:\n-        | InternalVersionFile // data successfully loaded\n-        | null // an error has occured\n-        | undefined; // data not fetched yet\n-    };\n-  };\n-  versionFilesLoading: {\n-    [versionId: number]: {\n-      [path: string]: boolean;\n-    };\n-  };\n-};\n-\n-export const initialState: VersionsState = {\n-  byAddonId: {},\n-  compareInfo: {},\n-  compareInfoIsLoading: {},\n-  currentVersionId: undefined,\n-  versionFiles: {},\n-  versionFilesLoading: {},\n-  versionInfo: {},\n-};\n-\n-export const getParentFolders = (path: string): string[] => {\n-  const parents = [ROOT_PATH];\n-\n-  const folders = path.split('/');\n-\n-  while (folders.length > 1) {\n-    folders.pop();\n-    parents.push(folders.join('/'));\n-  }\n-\n-  return parents;\n-};\n-\n-export const createInternalVersionFile = (\n-  file: ExternalVersionFileWithContent,\n-): InternalVersionFile => {\n-  return {\n-    content: file.content,\n-    created: file.created,\n-    downloadURL: file.download_url,\n-    id: file.id,\n-    size: file.size,\n-  };\n-};\n-\n-export const createInternalVersionEntry = (\n-  entry: ExternalVersionEntry,\n-): VersionEntry => {\n-  return {\n-    depth: entry.depth,\n-    filename: entry.filename,\n-    mimeType: entry.mimetype,\n-    modified: entry.modified,\n-    path: entry.path,\n-    sha256: entry.sha256,\n-    status: entry.status,\n-    type: entry.mime_category,\n-  };\n-};\n-\n-export const createInternalVersionAddon = (\n-  addon: ExternalVersionAddon,\n-): VersionAddon => {\n-  return {\n-    iconUrl: addon.icon_url,\n-    id: addon.id,\n-    name: addon.name,\n-    slug: addon.slug,\n-  };\n-};\n-\n-export const createInternalVersion = (\n-  version: ExternalVersionWithContent | ExternalVersionWithDiff,\n-  { comparedToVersionId }: { comparedToVersionId?: number } = {},\n-): Version => {\n-  return {\n-    addon: createInternalVersionAddon(version.addon),\n-    comparedToVersionId: comparedToVersionId || null,\n-    entries: Object.keys(version.file.entries).map((nodeName) => {\n-      return createInternalVersionEntry(version.file.entries[nodeName]);\n-    }),\n-    expandedPaths: getParentFolders(version.file.selected_file),\n-    id: version.id,\n-    reviewed: version.reviewed,\n-    selectedPath: version.file.selected_file,\n-    version: version.version,\n-    validationURL: version.validation_url_json,\n-    visibleSelectedPath: null,\n-  };\n-};\n-\n-export const getVersionFiles = (versions: VersionsState, versionId: number) => {\n-  return versions.versionFiles[versionId];\n-};\n-\n-export const getVersionInfo = (\n-  versions: VersionsState,\n-  versionId: number,\n-  { comparedToVersionId }: { comparedToVersionId?: number } = {},\n-) => {\n-  const version = versions.versionInfo[versionId];\n-\n-  if (version === undefined) {\n-    return undefined;\n-  }\n-  if (\n-    version &&\n-    comparedToVersionId !== undefined &&\n-    version.comparedToVersionId !== comparedToVersionId\n-  ) {\n-    return undefined;\n-  }\n-\n-  return version;\n-};\n-\n-export const selectCurrentVersionInfo = (\n-  versions: VersionsState,\n-): Version | null | undefined => {\n-  if (!versions.currentVersionId) {\n-    return undefined;\n-  }\n-  return getVersionInfo(versions, versions.currentVersionId);\n-};\n-\n-export const getMostRelevantEntryStatus = (\n-  version: Version,\n-  path: string,\n-): VersionEntryStatus | void => {\n-  const statuses = version.entries\n-    .filter((e) => e.path.startsWith(path))\n-    .map((e) => e.status);\n-\n-  const priorities: VersionEntryStatus[] = ['A', 'M', 'D'];\n-\n-  for (const p of priorities) {\n-    if (statuses.includes(p)) {\n-      return p;\n-    }\n-  }\n-\n-  return statuses.length ? statuses[0] : undefined;\n-};\n-\n-export const getVersionFile = (\n-  versions: VersionsState,\n-  versionId: number,\n-  path: string,\n-  { _log = log } = {},\n-): VersionFileWithContent | void | null => {\n-  const version = getVersionInfo(versions, versionId);\n-  const filesForVersion = getVersionFiles(versions, versionId);\n-\n-  if (version && filesForVersion) {\n-    const file = filesForVersion[path];\n-\n-    // A file is null when it could not be retrieved from the API because of\n-    // an error.\n-    if (file === null) {\n-      return null;\n-    }\n-\n-    const entry = version.entries.find((e) => e.path === path);\n-\n-    if (!entry) {\n-      _log.debug('Entry missing for path: ${path}, versionId: ${versionId}');\n-      return undefined;\n-    }\n-\n-    if (file) {\n-      return {\n-        ...file,\n-        filename: entry.filename,\n-        mimeType: entry.mimeType,\n-        path,\n-        sha256: entry.sha256,\n-        type: entry.type,\n-        version: version.version,\n-      };\n-    }\n-  }\n-\n-  // The version or file was not found.\n-  return undefined;\n-};\n-\n-export const isFileLoading = (\n-  versions: VersionsState,\n-  versionId: number,\n-  path: string,\n-): boolean => {\n-  if (versions.versionFilesLoading[versionId]) {\n-    return versions.versionFilesLoading[versionId][path] || false;\n-  }\n-\n-  return false;\n-};\n-\n-export const getDiffAnchors = (diff: DiffInfo): string[] => {\n-  const anchors: string[] = [];\n-\n-  for (const hunk of diff.hunks) {\n-    let seekingChange = true;\n-    for (const change of hunk.changes) {\n-      if (change.type === 'normal') {\n-        seekingChange = true;\n-      } else if (seekingChange) {\n-        // This is the first change in a block.\n-        anchors.push(getChangeKey(change));\n-        seekingChange = false;\n-      }\n-    }\n-  }\n-  return anchors;\n-};\n-\n-export type GetRelativeDiffAnchorParams = {\n-  currentAnchor?: string | void;\n-  diff: DiffInfo;\n-  position?: RelativePathPosition;\n-};\n-\n-export const getRelativeDiffAnchor = ({\n-  currentAnchor = '',\n-  diff,\n-  position = RelativePathPosition.next,\n-}: GetRelativeDiffAnchorParams): string | null => {\n-  const anchors = getDiffAnchors(diff);\n-  if (anchors.length) {\n-    if (!currentAnchor) {\n-      // Since we aren't looking for an anchor relative to an existing one,\n-      // just get the first anchor.\n-      return anchors[0];\n-    }\n-\n-    const currentIndex = anchors.indexOf(currentAnchor);\n-\n-    if (currentIndex >= 0) {\n-      const newIndex =\n-        position === RelativePathPosition.previous\n-          ? currentIndex - 1\n-          : currentIndex + 1;\n-\n-      if (newIndex >= 0 && newIndex < anchors.length) {\n-        return anchors[newIndex];\n-      }\n-      // The currentAnchor is the only anchor in the diff.\n-      return null;\n-    }\n-\n-    // We have a currentAnchor, but is doesn't match anything in anchors, so\n-    // we need to try to find the correct anchor closest to the currentAnchor.\n-    const currentAnchorNumber = extractNumber(currentAnchor);\n-    const sortedAnchors: string[] =\n-      position === RelativePathPosition.previous\n-        ? [...anchors].reverse()\n-        : anchors;\n-    if (currentAnchorNumber) {\n-      for (const anchor of sortedAnchors) {\n-        const anchorNumber = extractNumber(anchor);\n-        if (anchorNumber) {\n-          if (\n-            (position === RelativePathPosition.previous &&\n-              anchorNumber <= currentAnchorNumber) ||\n-            (position === RelativePathPosition.next &&\n-              anchorNumber >= currentAnchorNumber)\n-          ) {\n-            return anchor;\n-          }\n-        }\n-      }\n-    }\n-  }\n-\n-  // We never found a valid next/previous anchor in the file, so return null.\n-  return null;\n-};\n-\n-export type GetRelativeDiffParams = {\n-  _findRelativePathWithDiff?: typeof findRelativePathWithDiff;\n-  _getRelativeDiffAnchor?: typeof getRelativeDiffAnchor;\n-  currentAnchor: string | void;\n-  diff: DiffInfo | null;\n-  pathList: string[];\n-  position: RelativePathPosition;\n-  version: Version;\n-};\n-\n-type RelativeDiffResult = {\n-  anchor: string | null;\n-  path: string | null;\n-};\n-\n-export const getRelativeDiff = ({\n-  _findRelativePathWithDiff = findRelativePathWithDiff,\n-  _getRelativeDiffAnchor = getRelativeDiffAnchor,\n-  currentAnchor,\n-  diff,\n-  pathList,\n-  position,\n-  version,\n-}: GetRelativeDiffParams): RelativeDiffResult => {\n-  const result: RelativeDiffResult = {\n-    anchor: diff\n-      ? _getRelativeDiffAnchor({ currentAnchor, diff, position })\n-      : null,\n-    path: null,\n-  };\n-\n-  if (!result.anchor) {\n-    result.path = _findRelativePathWithDiff({\n-      currentPath: version.selectedPath,\n-      pathList,\n-      position,\n-      version,\n-    });\n-  }\n-\n-  return result;\n-};\n-\n-type FetchVersionParams = {\n-  _getVersion?: typeof getVersion;\n-  addonId: number;\n-  versionId: number;\n-  path?: string;\n-};\n-\n-export const fetchVersion = ({\n-  _getVersion = getVersion,\n-  addonId,\n-  versionId,\n-  path,\n-}: FetchVersionParams): ThunkActionCreator => {\n-  return async (dispatch, getState) => {\n-    const { api: apiState } = getState();\n-\n-    dispatch(actions.beginFetchVersion({ versionId }));\n-    // Set this as the current version so that components can track its\n-    // loading progress.\n-    dispatch(actions.setCurrentVersionId({ versionId }));\n-\n-    const response = await _getVersion({\n-      addonId,\n-      apiState,\n-      path,\n-      versionId,\n-    });\n-\n-    if (isErrorResponse(response)) {\n-      dispatch(actions.abortFetchVersion({ versionId }));\n-      dispatch(errorsActions.addError({ error: response.error }));\n-    } else {\n-      dispatch(actions.loadVersionInfo({ version: response }));\n-      dispatch(\n-        actions.loadVersionFile({\n-          version: response,\n-          path: response.file.selected_file,\n-        }),\n-      );\n-    }\n-  };\n-};\n-\n-type FetchVersionFileParams = {\n-  _getVersion?: typeof getVersion;\n-  addonId: number;\n-  path: string;\n-  versionId: number;\n-};\n-\n-export const fetchVersionFile = ({\n-  _getVersion = getVersion,\n-  addonId,\n-  path,\n-  versionId,\n-}: FetchVersionFileParams): ThunkActionCreator => {\n-  return async (dispatch, getState) => {\n-    const { api: apiState } = getState();\n-\n-    dispatch(actions.beginFetchVersionFile({ path, versionId }));\n-\n-    const response = await _getVersion({\n-      addonId,\n-      apiState,\n-      versionId,\n-      path,\n-    });\n-\n-    if (isErrorResponse(response)) {\n-      dispatch(actions.abortFetchVersionFile({ path, versionId }));\n-      dispatch(errorsActions.addError({ error: response.error }));\n-    } else {\n-      dispatch(actions.loadVersionFile({ path, version: response }));\n-    }\n-  };\n-};\n-\n-export const createVersionsMap = (\n-  versions: ExternalVersionsList,\n-): VersionsMap => {\n-  const listed = versions.filter((version) => version.channel === 'listed');\n-  const unlisted = versions.filter((version) => version.channel === 'unlisted');\n-\n-  return {\n-    listed,\n-    unlisted,\n-  };\n-};\n-\n-type FetchVersionsListParams = {\n-  _getVersionsList?: typeof getVersionsList;\n-  addonId: number;\n-};\n-\n-export const fetchVersionsList = ({\n-  _getVersionsList = getVersionsList,\n-  addonId,\n-}: FetchVersionsListParams): ThunkActionCreator => {\n-  return async (dispatch, getState) => {\n-    const { api: apiState } = getState();\n-\n-    const response = await _getVersionsList({ addonId, apiState });\n-\n-    if (isErrorResponse(response)) {\n-      dispatch(errorsActions.addError({ error: response.error }));\n-    } else {\n-      dispatch(actions.loadVersionsList({ addonId, versions: response }));\n-    }\n-  };\n-};\n-\n-type CreateInternalDiffParams = {\n-  version: ExternalVersionWithDiff;\n-  baseVersionId: number;\n-  headVersionId: number;\n-};\n-\n-export const createInternalChangeInfo = (\n-  change: ExternalChange,\n-): ChangeInfo => {\n-  return {\n-    content: change.content,\n-    isDelete: change.type === 'delete',\n-    isInsert: change.type === 'insert',\n-    isNormal: change.type === 'normal',\n-    lineNumber:\n-      change.type === 'insert'\n-        ? change.new_line_number\n-        : change.old_line_number,\n-    newLineNumber: change.new_line_number,\n-    oldLineNumber: change.old_line_number,\n-    type: change.type,\n-  };\n-};\n-\n-export const createInternalHunk = (hunk: ExternalHunk): HunkInfo => {\n-  return {\n-    changes: hunk.changes.map(createInternalChangeInfo),\n-    content: hunk.header,\n-    isPlain: false,\n-    newLines: hunk.new_lines,\n-    newStart: hunk.new_start,\n-    oldLines: hunk.old_lines,\n-    oldStart: hunk.old_start,\n-  };\n-};\n-\n-export const createInternalDiff = ({\n-  baseVersionId,\n-  headVersionId,\n-  version,\n-}: CreateInternalDiffParams): DiffInfo | null => {\n-  const GIT_STATUS_TO_TYPE: { [status: string]: DiffInfoType } = {\n-    A: 'add',\n-    C: 'copy',\n-    D: 'delete',\n-    M: 'modify',\n-    R: 'rename',\n-  };\n-\n-  const { diff } = version.file;\n-  if (diff) {\n-    return {\n-      newRevision: String(headVersionId),\n-      oldRevision: String(baseVersionId),\n-      hunks: diff.hunks.map(createInternalHunk),\n-      type: GIT_STATUS_TO_TYPE[diff.mode] || GIT_STATUS_TO_TYPE.M,\n-      newEndingNewLine: diff.new_ending_new_line,\n-      oldEndingNewLine: diff.old_ending_new_line,\n-      newMode: diff.mode,\n-      oldMode: diff.mode,\n-      newPath: diff.path,\n-      oldPath: diff.old_path,\n-    };\n-  }\n-  return null;\n-};\n-\n-type FetchDiffParams = {\n-  _getDiff?: typeof getDiff;\n-  addonId: number;\n-  baseVersionId: number;\n-  headVersionId: number;\n-  path?: string;\n-};\n-\n-type GetCompareInfoKeyParams = {\n-  addonId: number;\n-  baseVersionId: number;\n-  headVersionId: number;\n-  path?: string;\n-};\n-\n-export const getCompareInfoKey = ({\n-  addonId,\n-  baseVersionId,\n-  headVersionId,\n-  path,\n-}: GetCompareInfoKeyParams) => {\n-  return [addonId, baseVersionId, headVersionId, path].join('/');\n-};\n-\n-export const createInternalCompareInfo = ({\n-  baseVersionId,\n-  headVersionId,\n-  entry,\n-  version,\n-}: {\n-  baseVersionId: number;\n-  headVersionId: number;\n-  entry: VersionEntry;\n-  version: ExternalVersionWithDiff;\n-}): CompareInfo => {\n-  return {\n-    diff: createInternalDiff({\n-      baseVersionId,\n-      headVersionId,\n-      version,\n-    }),\n-    mimeType: entry.mimeType,\n-  };\n-};\n-\n-export const getCompareInfo = (\n-  versions: VersionsState,\n-  addonId: number,\n-  baseVersionId: number,\n-  headVersionId: number,\n-  path?: string,\n-) => {\n-  const compareInfoKey = getCompareInfoKey({\n-    addonId,\n-    baseVersionId,\n-    headVersionId,\n-    path,\n-  });\n-\n-  return versions.compareInfo[compareInfoKey];\n-};\n-\n-export const isCompareInfoLoading = (\n-  versions: VersionsState,\n-  addonId: number,\n-  baseVersionId: number,\n-  headVersionId: number,\n-  path?: string,\n-) => {\n-  const compareInfoKey = getCompareInfoKey({\n-    addonId,\n-    baseVersionId,\n-    headVersionId,\n-    path,\n-  });\n-\n-  return versions.compareInfoIsLoading[compareInfoKey] || false;\n-};\n-\n-export const fetchDiff = ({\n-  _getDiff = getDiff,\n-  addonId,\n-  baseVersionId,\n-  headVersionId,\n-  path,\n-}: FetchDiffParams): ThunkActionCreator => {\n-  return async (dispatch, getState) => {\n-    const { api: apiState, versions: versionsState } = getState();\n-    if (\n-      isCompareInfoLoading(\n-        versionsState,\n-        addonId,\n-        baseVersionId,\n-        headVersionId,\n-        path,\n-      )\n-    ) {\n-      log.debug('Aborting because the diff is already being fetched');\n-      return;\n-    }\n-\n-    dispatch(\n-      actions.beginFetchDiff({ addonId, baseVersionId, headVersionId, path }),\n-    );\n-    // Set the current version to the newer one (the head vesion) so that\n-    // components can track its loading progress.\n-    dispatch(actions.setCurrentVersionId({ versionId: headVersionId }));\n-\n-    const response = await _getDiff({\n-      addonId,\n-      apiState,\n-      baseVersionId,\n-      headVersionId,\n-      path,\n-    });\n-\n-    if (isErrorResponse(response)) {\n-      dispatch(\n-        actions.abortFetchDiff({ addonId, baseVersionId, headVersionId, path }),\n-      );\n-      // Since the diff response loads a version, we also need to simulate\n-      // aborting a version fetch.\n-      dispatch(actions.abortFetchVersion({ versionId: headVersionId }));\n-      dispatch(errorsActions.addError({ error: response.error }));\n-    } else {\n-      if (\n-        !getVersionInfo(versionsState, response.id, {\n-          comparedToVersionId: baseVersionId,\n-        })\n-      ) {\n-        dispatch(\n-          actions.loadVersionInfo({\n-            version: response,\n-            comparedToVersionId: baseVersionId,\n-          }),\n-        );\n-      }\n-      dispatch(\n-        actions.loadDiff({\n-          addonId,\n-          baseVersionId,\n-          headVersionId,\n-          path,\n-          version: response,\n-        }),\n-      );\n-    }\n-  };\n-};\n-\n-type ViewVersionFileParams = {\n-  preserveHash?: boolean;\n-  selectedPath: string;\n-  scrollTo?: ScrollTarget;\n-  versionId: number;\n-};\n-\n-export const viewVersionFile = ({\n-  preserveHash = false,\n-  selectedPath,\n-  scrollTo,\n-  versionId,\n-}: ViewVersionFileParams): ThunkActionCreator => {\n-  return async (dispatch, getState) => {\n-    const { router } = getState();\n-\n-    const newLocation = {\n-      ...router.location,\n-      search: createAdjustedQueryString(router.location, {\n-        path: selectedPath,\n-        scrollTo,\n-      }),\n-    };\n-\n-    // We do not want to preserve the hash when we select a new file for\n-    // instance, but we want to keep it when we load a file via its path.\n-    if (!preserveHash) {\n-      delete newLocation.hash;\n-    }\n-\n-    dispatch(actions.updateSelectedPath({ versionId, selectedPath }));\n-    dispatch(push(newLocation));\n-  };\n-};\n-\n-type GoToRelativeDiffParams = {\n-  _getRelativeDiff?: typeof getRelativeDiff;\n-  _viewVersionFile?: typeof viewVersionFile;\n-  currentAnchor: string | void;\n-  diff: DiffInfo | null;\n-  pathList: string[];\n-  position: RelativePathPosition;\n-  versionId: number;\n-};\n-\n-export const goToRelativeDiff = ({\n-  /* istanbul ignore next */\n-  _getRelativeDiff = getRelativeDiff,\n-  /* istanbul ignore next */\n-  _viewVersionFile = viewVersionFile,\n-  currentAnchor,\n-  diff,\n-  pathList,\n-  position,\n-  versionId,\n-}: GoToRelativeDiffParams): ThunkActionCreator => {\n-  return async (dispatch, getState) => {\n-    const { router, versions: versionsState } = getState();\n-    const version = getVersionInfo(versionsState, versionId);\n-\n-    if (!version) {\n-      throw new Error('Cannot go to relative diff without a version loaded.');\n-    }\n-\n-    const nextDiffInfo = _getRelativeDiff({\n-      currentAnchor,\n-      diff,\n-      pathList,\n-      position,\n-      version,\n-    });\n-\n-    if (nextDiffInfo.anchor) {\n-      const newLocation = {\n-        ...router.location,\n-        hash: '#${nextDiffInfo.anchor}',\n-      };\n-\n-      dispatch(push(newLocation));\n-    } else if (nextDiffInfo.path) {\n-      dispatch(\n-        _viewVersionFile({\n-          preserveHash: false,\n-          selectedPath: nextDiffInfo.path,\n-          scrollTo:\n-            position === RelativePathPosition.next\n-              ? ScrollTarget.firstDiff\n-              : ScrollTarget.lastDiff,\n-          versionId,\n-        }),\n-      );\n-    }\n-  };\n-};\n-\n-const reducer: Reducer<VersionsState, ActionType<typeof actions>> = (\n-  state = initialState,\n-  action,\n-): VersionsState => {\n-  switch (action.type) {\n-    case getType(actions.beginFetchVersion): {\n-      const { versionId } = action.payload;\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [versionId]: undefined,\n-        },\n-      };\n-    }\n-    case getType(actions.loadVersionInfo): {\n-      const { version, comparedToVersionId } = action.payload;\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [version.id]: createInternalVersion(version, { comparedToVersionId }),\n-        },\n-      };\n-    }\n-    case getType(actions.abortFetchVersion): {\n-      const { versionId } = action.payload;\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [versionId]: null,\n-        },\n-      };\n-    }\n-    case getType(actions.loadVersionFile): {\n-      const { path, version } = action.payload;\n-\n-      return {\n-        ...state,\n-        versionFiles: {\n-          ...state.versionFiles,\n-          [version.id]: {\n-            ...state.versionFiles[version.id],\n-            [path]: createInternalVersionFile(version.file),\n-          },\n-        },\n-        versionFilesLoading: {\n-          ...state.versionFilesLoading,\n-          [version.id]: {\n-            ...state.versionFilesLoading[version.id],\n-            [path]: false,\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.beginFetchVersionFile): {\n-      const { path, versionId } = action.payload;\n-\n-      return {\n-        ...state,\n-        versionFilesLoading: {\n-          ...state.versionFilesLoading,\n-          [versionId]: {\n-            ...state.versionFilesLoading[versionId],\n-            [path]: true,\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.abortFetchVersionFile): {\n-      const { path, versionId } = action.payload;\n-\n-      return {\n-        ...state,\n-        versionFiles: {\n-          ...state.versionFiles,\n-          [versionId]: {\n-            ...state.versionFiles[versionId],\n-            [path]: null,\n-          },\n-        },\n-        versionFilesLoading: {\n-          ...state.versionFilesLoading,\n-          [versionId]: {\n-            ...state.versionFilesLoading[versionId],\n-            [path]: false,\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.updateSelectedPath): {\n-      const { selectedPath, versionId } = action.payload;\n-\n-      const version = state.versionInfo[versionId];\n-\n-      if (!version) {\n-        throw new Error('Version missing for versionId: ${versionId}');\n-      }\n-\n-      const { expandedPaths } = version;\n-\n-      const parents = getParentFolders(selectedPath);\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [versionId]: {\n-            ...version,\n-            selectedPath,\n-            expandedPaths: [\n-              ...expandedPaths,\n-              ...parents.filter((newPath) => !expandedPaths.includes(newPath)),\n-            ],\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.setVisibleSelectedPath): {\n-      const { path, versionId } = action.payload;\n-\n-      const version = state.versionInfo[versionId];\n-\n-      if (!version) {\n-        throw new Error('Version missing for versionId: ${versionId}');\n-      }\n-\n-      if (path && !version.entries.find((e) => e.path === path)) {\n-        throw new Error(\n-          'Path \"${path}\" is an unknown path for version ID ${versionId}',\n-        );\n-      }\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [versionId]: {\n-            ...version,\n-            visibleSelectedPath: path,\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.toggleExpandedPath): {\n-      const { path, versionId } = action.payload;\n-\n-      const version = state.versionInfo[versionId];\n-\n-      if (!version) {\n-        throw new Error('Version missing for versionId: ${versionId}');\n-      }\n-\n-      const { expandedPaths } = version;\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [versionId]: {\n-            ...version,\n-            expandedPaths: expandedPaths.includes(path)\n-              ? expandedPaths.filter((storedPath) => path !== storedPath)\n-              : [...expandedPaths, path],\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.expandTree): {\n-      const { versionId } = action.payload;\n-\n-      const version = state.versionInfo[versionId];\n-\n-      if (!version) {\n-        throw new Error('Version missing for versionId: ${versionId}');\n-      }\n-\n-      const expandedPaths = version.entries\n-        .filter((entry) => entry.type === 'directory')\n-        .map((entry) => entry.path);\n-      expandedPaths.push(ROOT_PATH);\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [versionId]: {\n-            ...version,\n-            expandedPaths,\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.collapseTree): {\n-      const { versionId } = action.payload;\n-\n-      const version = state.versionInfo[versionId];\n-\n-      if (!version) {\n-        throw new Error('Version missing for versionId: ${versionId}');\n-      }\n-\n-      return {\n-        ...state,\n-        versionInfo: {\n-          ...state.versionInfo,\n-          [versionId]: {\n-            ...version,\n-            expandedPaths: [ROOT_PATH],\n-          },\n-        },\n-      };\n-    }\n-    case getType(actions.loadVersionsList): {\n-      const { addonId, versions } = action.payload;\n-\n-      return {\n-        ...state,\n-        byAddonId: {\n-          ...state.byAddonId,\n-          [addonId]: createVersionsMap(versions),\n-        },\n-      };\n-    }\n-    case getType(actions.beginFetchDiff): {\n-      const key = getCompareInfoKey(action.payload);\n-\n-      return {\n-        ...state,\n-        compareInfo: {\n-          ...state.compareInfo,\n-          [key]: undefined,\n-        },\n-        compareInfoIsLoading: {\n-          ...state.compareInfoIsLoading,\n-          [key]: true,\n-        },\n-      };\n-    }\n-    case getType(actions.abortFetchDiff): {\n-      const key = getCompareInfoKey(action.payload);\n-\n-      return {\n-        ...state,\n-        compareInfo: {\n-          ...state.compareInfo,\n-          [key]: null,\n-        },\n-        compareInfoIsLoading: {\n-          ...state.compareInfoIsLoading,\n-          [key]: false,\n-        },\n-      };\n-    }\n-    case getType(actions.loadDiff): {\n-      const {\n-        addonId,\n-        baseVersionId,\n-        headVersionId,\n-        path,\n-        version,\n-      } = action.payload;\n-\n-      const compareInfoKey = getCompareInfoKey({\n-        addonId,\n-        baseVersionId,\n-        headVersionId,\n-        path,\n-      });\n-\n-      const headVersion = getVersionInfo(state, headVersionId, {\n-        comparedToVersionId: baseVersionId,\n-      });\n-      if (!headVersion) {\n-        throw new Error('Version missing for headVersionId: ${headVersionId}');\n-      }\n-\n-      const { entries, selectedPath } = headVersion;\n-      const entry = entries.find((e) => e.path === selectedPath);\n-\n-      if (!entry) {\n-        throw new Error('Entry missing for headVersionId: ${headVersionId}');\n-      }\n-\n-      return {\n-        ...state,\n-        compareInfo: {\n-          ...state.compareInfo,\n-          [compareInfoKey]: createInternalCompareInfo({\n-            baseVersionId,\n-            headVersionId,\n-            entry,\n-            version,\n-          }),\n-        },\n-        compareInfoIsLoading: {\n-          ...state.compareInfoIsLoading,\n-          [compareInfoKey]: false,\n-        },\n-      };\n-    }\n-    case getType(actions.setCurrentVersionId): {\n-      const { versionId } = action.payload;\n-      return {\n-        ...state,\n-        currentVersionId: versionId,\n-      };\n-    }\n-    default:\n-      return state;\n-  }\n-};\n-\n-export default reducer;"},481:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_styles_module_scss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(170),_styles_module_scss__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_1__),_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),_api__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(33);__webpack_exports__.a=({file:file,versionString:versionString})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_1___default.a.FileMetadata},react__WEBPACK_IMPORTED_MODULE_0__.createElement("dl",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("dt",null,Object(_utils__WEBPACK_IMPORTED_MODULE_2__.m)("Version")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("dd",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_1___default.a.version},versionString),react__WEBPACK_IMPORTED_MODULE_0__.createElement("dt",null,Object(_utils__WEBPACK_IMPORTED_MODULE_2__.m)("Size")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("dd",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_1___default.a.size},Object(_utils__WEBPACK_IMPORTED_MODULE_2__.i)(file.size)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("dt",null,Object(_utils__WEBPACK_IMPORTED_MODULE_2__.m)("SHA256 hash")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("dd",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_1___default.a.sha256},react__WEBPACK_IMPORTED_MODULE_0__.createElement("code",null,file.sha256)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("dt",null,Object(_utils__WEBPACK_IMPORTED_MODULE_2__.m)("MIME type")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("dd",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_1___default.a.mimeType},file.mimeType),file.downloadURL&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("dt",null,Object(_utils__WEBPACK_IMPORTED_MODULE_2__.m)("Download link")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("dd",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_1___default.a.downloadURL},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:Object(_api__WEBPACK_IMPORTED_MODULE_3__.m)({url:file.downloadURL})},file.filename)))))},57:function(module,exports,__webpack_require__){module.exports={Navbar:"styles_Navbar__2Bbek",brand:"styles_brand__mIGQi",text:"styles_text__ejRr9",info:"styles_info__2Iywe",infoItem:"styles_infoItem__2IGOZ",itemData:"styles_itemData__2VzG0",commentCount:"styles_commentCount__3qR04",baseVersionIsLoading:"styles_baseVersionIsLoading__xrBey",pulseBaseVersion:"styles_pulseBaseVersion__eHeth",username:"styles_username__3BOb8",reviewerToolsLink:"styles_reviewerToolsLink__3NNd_",reviewerToolsIcon:"styles_reviewerToolsIcon__2x51U"}},59:function(module,exports,__webpack_require__){module.exports={container:"styles_container__2aIkL",comment:"styles_comment__2i_P_",form:"styles_form__3MTgr",textarea:"styles_textarea__1quGx",commentBody:"styles_commentBody__1HUpS",commentControls:"styles_commentControls__1QDzl",controlButton:"styles_controlButton__3LExb"}},6:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SLOW_LOADING_LINE_COUNT})),__webpack_require__.d(__webpack_exports__,"b",(function(){return TRIMMED_CHAR_COUNT})),__webpack_require__.d(__webpack_exports__,"f",(function(){return contentAddedByTrimmer})),__webpack_require__.d(__webpack_exports__,"n",(function(){return messageUidQueryParam})),__webpack_require__.d(__webpack_exports__,"p",(function(){return pathQueryParam})),__webpack_require__.d(__webpack_exports__,"c",(function(){return allowSlowPagesParam})),__webpack_require__.d(__webpack_exports__,"m",(function(){return gettext})),__webpack_require__.d(__webpack_exports__,"l",(function(){return getLocalizedString})),__webpack_require__.d(__webpack_exports__,"k",(function(){return getLanguageFromMimeType})),__webpack_require__.d(__webpack_exports__,"q",(function(){return sanitizeHTML})),__webpack_require__.d(__webpack_exports__,"o",(function(){return nl2br})),__webpack_require__.d(__webpack_exports__,"i",(function(){return formatFilesize})),__webpack_require__.d(__webpack_exports__,"g",(function(){return createAdjustedQueryString})),__webpack_require__.d(__webpack_exports__,"h",(function(){return extractNumber})),__webpack_require__.d(__webpack_exports__,"s",(function(){return shouldAllowSlowPages})),__webpack_require__.d(__webpack_exports__,"d",(function(){return codeCanBeHighlighted})),__webpack_require__.d(__webpack_exports__,"j",(function(){return getAllHunkChanges})),__webpack_require__.d(__webpack_exports__,"e",(function(){return codeShouldBeTrimmed})),__webpack_require__.d(__webpack_exports__,"r",(function(){return sendPerfTiming}));__webpack_require__(31);var objectSpread2=__webpack_require__(1),filesize_min=(__webpack_require__(330),__webpack_require__(740)),filesize_min_default=__webpack_require__.n(filesize_min),purify=__webpack_require__(331),purify_default=__webpack_require__.n(purify),query_string=__webpack_require__(56),query_string_default=__webpack_require__.n(query_string),loglevel=__webpack_require__(25),loglevel_default=__webpack_require__.n(loglevel),esm=(__webpack_require__(54),__webpack_require__(10),__webpack_require__(75),__webpack_require__(761));function isDoNotTrackEnabled({_navigator:_navigator=navigator,_window:_window=window}={}){return!(!_navigator||!_window)&&("1"===(_navigator.doNotTrack||_window.doNotTrack)&&(loglevel_default.a.debug("Do Not Track is enabled"),!0))}var tracking=new class tracking_Tracking{constructor({_isDoNotTrackEnabled:_isDoNotTrackEnabled=isDoNotTrackEnabled,_reactGA:_reactGA=esm.a,trackingEnabled:trackingEnabled=!0,trackingId:trackingId="UA-77033033-29",useMock:useMock=!1}={}){this._reactGA=void 0,this.logPrefix=void 0,this.trackingEnabled=void 0,this.timing=params=>{this._reactGA&&(this._reactGA.timing(params),loglevel_default.a.info(this.logPrefix,"Sending timing for ".concat(JSON.stringify(params))))},this.logPrefix="[GA]",trackingEnabled?trackingId?_isDoNotTrackEnabled()?(loglevel_default.a.debug("Do Not Track Enabled; Google Analytics not loaded and tracking disabled"),this.trackingEnabled=!1):(loglevel_default.a.debug("Google Analytics is enabled"),this.trackingEnabled=!0):(loglevel_default.a.debug("GA Disabled because trackingId was empty"),this.trackingEnabled=!1):(loglevel_default.a.debug("GA disabled because trackingEnabled was false"),this.trackingEnabled=!1),this.logPrefix="[GA: ".concat(this.trackingEnabled?"ON":"OFF","]"),this.trackingEnabled&&trackingId&&(this._reactGA=_reactGA,this._reactGA.initialize(trackingId,{debug:!1,titleCase:!1,gaOptions:{siteSpeedSampleRate:100}}),this._reactGA.set({transport:"beacon"}))}},SLOW_LOADING_LINE_COUNT=5e3,TRIMMED_CHAR_COUNT=300,contentAddedByTrimmer="/* truncated by code-manager */",messageUidQueryParam="messageUid",pathQueryParam="path",allowSlowPagesParam="allowSlowPages",gettext=text=>text,getLocalizedString=(localizedStringMap,lang="en-US")=>{var stringForCurrentLang=localizedStringMap[lang],langs=Object.keys(localizedStringMap);return stringForCurrentLang||langs.length&&localizedStringMap[langs[0]]||""},getLanguageFromMimeType=mimeType=>{switch(mimeType){case"application/javascript":case"text/javascript":return"js";case"application/json":return"json";case"application/xml":return"xml";case"text/css":return"css";case"text/html":return"html";default:return"text"}},sanitizeHTML=(text,allowTags=[],_purify=purify_default.a)=>({__html:_purify.sanitize(text,{ALLOWED_TAGS:allowTags})}),nl2br=text=>(text||"").replace(/(\r\n|\r|\n)(?!<\/?(li|ul|ol)>)/g,"<br />"),formatFilesize=size=>filesize_min_default()(size,{standard:"iec"}),createAdjustedQueryString=(location,newParams)=>{var query=query_string_default.a.parse(location.search);return"?".concat(query_string_default.a.stringify(Object(objectSpread2.a)(Object(objectSpread2.a)({},query),newParams)))},extractNumber=text=>{var matches=text.match(/\d+/);return Array.isArray(matches)?parseInt(matches[0],10):null},shouldAllowSlowPages=({allowByDefault:allowByDefault=!1,location:location})=>{var shouldAllowQueryParam=query_string_default.a.parse(location.search)[allowSlowPagesParam];return void 0!==shouldAllowQueryParam?"true"===shouldAllowQueryParam:allowByDefault},codeCanBeHighlighted=({code:code,wideLineLength:wideLineLength=500,highLineCount:highLineCount=3e3})=>{for(var index=0;index<code.length;index++){var codeLineOrChange=code[index];if(("string"==typeof codeLineOrChange?codeLineOrChange:codeLineOrChange.content).length>wideLineLength)return!1;if(index>=highLineCount)return!1}return!0},getAllHunkChanges=hunks=>hunks.reduce((result,{changes:changes})=>[...result,...changes],[]);var codeShouldBeTrimmed=({codeCharLength:codeCharLength,codeLineLength:codeLineLength,isMinified:isMinified,trimmedCharCount:trimmedCharCount,slowLoadingLineCount:slowLoadingLineCount})=>codeLineLength>=slowLoadingLineCount||isMinified&&codeCharLength>trimmedCharCount,sendPerfTiming=({_tracking:_tracking=tracking,_window:_window=window,actualDuration:actualDuration,id:id})=>{_tracking.timing({category:"renderPerf",label:_window.location.href,value:actualDuration,variable:id})}},60:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AccordionItem}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(28),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),_Button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(192),_reducers_accordionMenu__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(202),_styles_module_scss__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(168),_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_5__);class AccordionItemBase extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(...args){super(...args),this.onItemClick=()=>{var _this$props=this.props,dispatch=_this$props.dispatch,title=_this$props.title;dispatch(_reducers_accordionMenu__WEBPACK_IMPORTED_MODULE_4__.a.toggleItem({itemId:title}))}}componentDidMount(){var _this$props2=this.props,dispatch=_this$props2.dispatch,expandedByDefault=_this$props2.expandedByDefault,expanded=_this$props2.expanded,title=_this$props2.title;expandedByDefault&&!expanded&&dispatch(_reducers_accordionMenu__WEBPACK_IMPORTED_MODULE_4__.a.toggleItem({itemId:title}))}render(){var _this$props3=this.props,children=_this$props3.children,expanded=_this$props3.expanded,title=_this$props3.title,contentId=(title=>{var id=title.replace(/[^A-Za-z0-9]+/g,"");if(!id)throw new Error('An ID could not be generated from this title: "'.concat(title,'"'));return"accordionContent".concat(id)})(title);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Button__WEBPACK_IMPORTED_MODULE_3__.a,{ariaControls:contentId,onClick:this.onItemClick,className:classnames__WEBPACK_IMPORTED_MODULE_2___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.item,_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.itemButton)},title),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{"aria-expanded":expanded?"true":"false",className:classnames__WEBPACK_IMPORTED_MODULE_2___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.item,_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.itemContent,{[_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.itemExpanded]:expanded}),id:contentId},children))}}AccordionItemBase.defaultProps={expandedByDefault:!1};var AccordionItem=Object(react_redux__WEBPACK_IMPORTED_MODULE_1__.connect)((state,ownProps)=>({expanded:Object(_reducers_accordionMenu__WEBPACK_IMPORTED_MODULE_4__.c)(state.accordionMenu,ownProps.title)}))(AccordionItemBase);__webpack_exports__.b=({children:children})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.menu},children)},66:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return actions})),__webpack_require__.d(__webpack_exports__,"c",(function(){return selectPopoverIsVisible}));var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),typesafe_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),createAction=typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.deprecated.createAction,initialState={current:void 0},actions={hide:createAction("HIDE_POPOVER",resolve=>payload=>resolve(payload)),show:createAction("SHOW_POPOVER",resolve=>payload=>resolve(payload))},selectPopoverIsVisible=({id:id,popover:popover})=>popover.current===id;__webpack_exports__.b=(state=initialState,action)=>{switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.getType)(actions.hide):var current=state.current;return current===action.payload&&(current=void 0),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{current:current});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.getType)(actions.show):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{current:action.payload});default:return state}}},67:function(module,exports,__webpack_require__){module.exports={header:"styles_header__1acyS",stats:"styles_stats__1CsWq",statsAdditions:"styles_statsAdditions__2ZiNx",statsDeletions:"styles_statsDeletions__daLk3",hunkSeparator:"styles_hunkSeparator__2tvIM",noDiffs:"styles_noDiffs__Fdm4C",extraMessages:"styles_extraMessages__3OiYS",globalLinterMessages:"styles_globalLinterMessages__176tt",inlineLinterMessages:"styles_inlineLinterMessages__133tm",gutter:"styles_gutter__3I9pd",commentButton:"styles_commentButton__tO7N7"}},68:function(module,exports,__webpack_require__){module.exports={node:"styles_node__3Y35w",nodeItem:"styles_nodeItem__m9f81",nodeName:"styles_nodeName__2lcgh",nodeIcons:"styles_nodeIcons__2_5hE",folderAndFileIcons:"styles_folderAndFileIcons__1_6S4",selected:"styles_selected__2pNWE",hasLinterMessages:"styles_hasLinterMessages__3mfgA",hasLinterErrors:"styles_hasLinterErrors__1FeXO",hasLinterWarnings:"styles_hasLinterWarnings__1RyH8",isKnownLibrary:"styles_isKnownLibrary__3-ibF",wasDeleted:"styles_wasDeleted__2dAAV",wasModified:"styles_wasModified__IIqGM",wasAdded:"styles_wasAdded__3KHyX"}},7:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"o",(function(){return nextUniqueId})),__webpack_require__.d(__webpack_exports__,"k",(function(){return fakeVersionEntry})),__webpack_require__.d(__webpack_exports__,"l",(function(){return fakeVersionFileWithContent})),__webpack_require__.d(__webpack_exports__,"j",(function(){return fakeVersionAddon})),__webpack_require__.d(__webpack_exports__,"m",(function(){return fakeVersionWithContent})),__webpack_require__.d(__webpack_exports__,"i",(function(){return fakeUser})),__webpack_require__.d(__webpack_exports__,"h",(function(){return fakeExternalLinterMessage})),__webpack_require__.d(__webpack_exports__,"n",(function(){return fakeVersionsListItem})),__webpack_require__.d(__webpack_exports__,"b",(function(){return createFakeExternalLinterResult})),__webpack_require__.d(__webpack_exports__,"c",(function(){return createFakeLocation})),__webpack_require__.d(__webpack_exports__,"g",(function(){return dispatchLoadVersionInfo})),__webpack_require__.d(__webpack_exports__,"d",(function(){return createStoreWithVersion})),__webpack_require__.d(__webpack_exports__,"a",(function(){return createFakeExternalComment})),__webpack_require__.d(__webpack_exports__,"f",(function(){return dispatchComments})),__webpack_require__.d(__webpack_exports__,"e",(function(){return createStoreWithVersionComments}));var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(27),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),query_string__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(741),__webpack_require__(56)),query_string__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_3__),typesafe_actions__WEBPACK_IMPORTED_MODULE_8__=(__webpack_require__(0),__webpack_require__(2),__webpack_require__(350),__webpack_require__(25),__webpack_require__(9)),_configureStore__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(26),_reducers_comments__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(18),_reducers_versions__WEBPACK_IMPORTED_MODULE_12__=(__webpack_require__(40),__webpack_require__(10)),_uniqueId=(__webpack_require__(152),__webpack_require__(150),__webpack_require__(116),__webpack_require__(90),__webpack_require__(151),0),nextUniqueId=()=>++_uniqueId,fakeVersionEntry=Object.freeze({depth:0,filename:"manifest.json",mime_category:"text",path:"manifest.json",status:"M"}),partialFakeVersionFile={download_url:"https://example.org/download/manifest.json",filename:"manifest.json",id:789,mime_category:"text",mimetype:"application/json",selected_file:"manifest.json",sha256:"some-sha",size:123,uses_unknown_minified_code:!1},fakeVersionFileWithContent=Object.freeze(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},partialFakeVersionFile),{},{content:"some file content"})),fakeExternalDiff=Object.freeze({path:"manifest.json",size:172,lines_added:2,lines_deleted:2,is_binary:!1,mode:"M",hunks:[{header:"@@ -1,6 +1,6 @@",old_start:1,new_start:1,old_lines:6,new_lines:6,changes:[{content:"{",type:"normal",old_line_number:1,new_line_number:1},{content:'    "manifest_version": 2,',type:"normal",old_line_number:2,new_line_number:2},{content:'    "version": "7",',type:"delete",old_line_number:3,new_line_number:-1},{content:'    "version": "8",',type:"insert",old_line_number:-1,new_line_number:3},{content:'    "name": "Awesome Screenshot - Capture, Annotate & More",',type:"normal",old_line_number:4,new_line_number:4},{content:'    "description": "this is a new description"',type:"delete",old_line_number:5,new_line_number:-1},{content:'    "description": "this is a new version with files"',type:"insert",old_line_number:-1,new_line_number:5},{content:"}",type:"normal",old_line_number:6,new_line_number:6}]}],old_path:"manifest.json",parent:"514a8bd3cfb1ccae67dff61e3ea174bb444dfb00",hash:"054771578d3a903264bfd16ba71e5b4808a6764b",old_ending_new_line:!0,new_ending_new_line:!1}),fakeVersionFileWithDiff=Object.freeze(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},partialFakeVersionFile),{},{diff:fakeExternalDiff})),fakeVersionAddon=Object.freeze({icon_url:"some-icon-url",id:111,name:{"en-US":"addon name"},slug:"addon-slug"}),partialFakeVersion={addon:fakeVersionAddon,channel:"some channel",file_entries:{"manifest.json":fakeVersionEntry},has_been_validated:!0,id:123,reviewed:"2017-08-15T12:01:13Z",url:"http://example.com/",validation_url:"http://example.com/validation/",validation_url_json:"http://example.com/validation/json/",version:"1.0"},fakeVersionWithContent=Object.freeze(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},partialFakeVersion),{},{file:fakeVersionFileWithContent})),fakeUser=Object.freeze({average_addon_rating:4.3,biography:"I love making add-ons!",created:"2017-08-15T12:01:13Z",display_name:null,email:"bob@somewhere.com",fxa_edit_email_url:"https://example.com/settings",has_anonymous_display_name:!1,has_anonymous_username:!1,homepage:null,id:1,is_addon_developer:!1,is_artist:!1,location:null,name:"Bob",num_addons_listed:1,occupation:null,permissions:["a-fake-permission"],picture_type:"",picture_url:"https://example.com/anon_user.png",url:null,username:"user-1234"}),fakeExternalLinterMessage=Object.freeze({column:2,context:["<code>"],description:"To prevent vulnerabilities...",file:"chrome/content/youtune.js",for_appversions:{"{ec8030f7-c20a-464f-9b0e-13a3a9e97384}":["4.0b1"]},id:["UNSAFE_VAR_ASSIGNMENT"],line:226,message:"on* attribute being set using setAttribute",tier:3,type:"notice",uid:"9a07163bb74e476c96a2bd467a2bbe52"}),fakeExternalLinterResult=Object.freeze({error:null,full_report_url:"/upload/d5d993a5a2fa4b759ae2fa3b2eda2a38",upload:"d5d993a5a2fa4b759ae2fa3b2eda2a38",url:"/upload/d5d993a5a2fa4b759ae2fa3b2eda2a38/json",validation:{detected_type:"extension",ending_tier:5,errors:0,message_tree:{},messages:[fakeExternalLinterMessage],metadata:{},notices:2,success:!1,warnings:5}}),fakeVersionWithDiff=Object.freeze(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},partialFakeVersion),{},{file:fakeVersionFileWithDiff})),fakeVersionsListItem=(Object.freeze({id:fakeVersionWithDiff.id,file:fakeVersionWithDiff.file}),{id:nextUniqueId(),channel:"unlisted",version:"1.5.0"}),createFakeExternalLinterResult=(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},fakeVersionsListItem),{},{id:nextUniqueId(),channel:"unlisted",version:"1.5.0"}),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},fakeVersionsListItem),{},{id:nextUniqueId(),channel:"listed",version:"1.4.0"}),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},fakeVersionsListItem),{},{id:nextUniqueId(),channel:"listed",version:"1.3.0"}),({messages:messages})=>Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},fakeExternalLinterResult),{},{validation:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},fakeExternalLinterResult.validation),{},{messages:messages.map(msg=>Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},fakeExternalLinterMessage),msg))})})),createFakeLocation=(_ref={})=>{var searchQuery=_ref.searchQuery,props=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__.a)(_ref,["searchQuery"]);return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({hash:"",key:"some-key",pathname:"/some/url",search:searchQuery?"?".concat(query_string__WEBPACK_IMPORTED_MODULE_3___default.a.stringify(searchQuery)):"",state:{}},props)},dispatchLoadVersionInfo=({store:store,updatePathInfo:updatePathInfo=!0,version:version})=>{store.dispatch(_reducers_versions__WEBPACK_IMPORTED_MODULE_12__.b.loadVersionInfo({updatePathInfo:updatePathInfo,version:version}))},createStoreWithVersion=({version:version=fakeVersionWithContent,makeCurrent:makeCurrent=!1}={})=>{var store=Object(_configureStore__WEBPACK_IMPORTED_MODULE_9__.a)();return dispatchLoadVersionInfo({store:store,version:version}),makeCurrent&&store.dispatch(_reducers_versions__WEBPACK_IMPORTED_MODULE_12__.b.setCurrentVersionId({versionId:version.id})),store},createFakeExternalComment=(comment={})=>Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({canned_response:null,comment:"Example comment about some code",id:nextUniqueId(),lineno:null,filename:null,user:{id:1,name:null,url:null,username:"some_user"},version_id:nextUniqueId()},comment),dispatchComments=(Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_8__.createAction)("FAKE_ACTION"),({store:store=Object(_configureStore__WEBPACK_IMPORTED_MODULE_9__.a)(),comments:comments=[createFakeExternalComment()],versionId:versionId=nextUniqueId()}={})=>(store.dispatch(_reducers_comments__WEBPACK_IMPORTED_MODULE_10__.a.setComments({versionId:versionId,comments:comments})),{store:store})),createStoreWithVersionComments=({versionId:versionId=1,comments:comments=[createFakeExternalComment()]}={})=>{var version=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},fakeVersionWithContent),{},{id:versionId}),store=createStoreWithVersion({version:version,makeCurrent:!0});return dispatchComments({versionId:versionId,store:store,comments:comments}),store};Object.freeze({content:"change-content",isDelete:!1,isInsert:!0,isNormal:!1,lineNumber:1,newLineNumber:void 0,oldLineNumber:1,type:"insert"}),Object.freeze({content:"change-content",new_line_number:1,old_line_number:1,type:"normal"}),Object.freeze({new:[{type:"token type",value:"token value"}],old:[{type:"token type",value:"token value"}]})},73:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return actions}));var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),typesafe_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),createAction=typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.deprecated.createAction,initialState={errors:[],nextErrorId:1},actions={addError:createAction("ADD_ERROR",resolve=>payload=>resolve(payload)),removeError:createAction("REMOVE_ERROR",resolve=>payload=>resolve(payload))};__webpack_exports__.b=(state=initialState,action)=>{switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.getType)(actions.addError):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{errors:state.errors.concat({id:state.nextErrorId,message:action.payload.error.message}),nextErrorId:state.nextErrorId+1});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.getType)(actions.removeError):return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},state),{},{errors:state.errors.filter(({id:id})=>id!==action.payload.id)});default:return state}}},730:function(module,__webpack_exports__,__webpack_require__){"use strict";var _sentry_browser__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(346),_sentry_integrations__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1926),loglevel__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),loglevel__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_2__),_fortawesome_fontawesome_svg_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(201),_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(732),_fortawesome_free_regular_svg_icons__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(733);__webpack_require__(1510),__webpack_require__(1511);__webpack_exports__.a=({_Sentry:_Sentry=_sentry_browser__WEBPACK_IMPORTED_MODULE_0__,_log:_log=loglevel__WEBPACK_IMPORTED_MODULE_2___default.a,env:env=Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"https://addons-code-manager.cdn.mozilla.net",REACT_APP_API_HOST:"https://addons.mozilla.org",REACT_APP_REVIEWERS_HOST:"https://reviewers.addons.mozilla.org",REACT_APP_AUTH_TOKEN_PLACEHOLDER:"__AUTH_TOKEN__",REACT_APP_AUTHENTICATION_COOKIE:"frontend_auth_token",REACT_APP_DEFAULT_API_LANG:"en-US",REACT_APP_DEFAULT_API_VERSION:"v5",REACT_APP_FXA_CONFIG:"code-manager",INLINE_RUNTIME_CHUNK:"false",REACT_APP_UNSAFE_ERROR_SIMULATION:"false",REACT_APP_ENABLE_COMMENTING:"true",REACT_APP_ANALYTICS_HOST:"https://www.google-analytics.com",REACT_APP_TRACKING_ENABLED:"true",REACT_APP_TRACKING_ID:"UA-77033033-29",REACT_APP_GA_DEBUG_MODE:"false"})}={})=>{env.REACT_APP_SENTRY_DSN&&(_Sentry.init({dsn:env.REACT_APP_SENTRY_DSN,integrations:[new _sentry_integrations__WEBPACK_IMPORTED_MODULE_1__.a({levels:["error"]})]}),_Sentry.configureScope(scope=>{scope.setTag("app_logger","client")})),"production"===env.NODE_ENV?_log.setLevel(loglevel__WEBPACK_IMPORTED_MODULE_2___default.a.levels.INFO,!1):_log.setLevel(loglevel__WEBPACK_IMPORTED_MODULE_2___default.a.levels.DEBUG,!1),_fortawesome_fontawesome_svg_core__WEBPACK_IMPORTED_MODULE_3__.a.autoAddCss=!1,_fortawesome_fontawesome_svg_core__WEBPACK_IMPORTED_MODULE_3__.c.add(_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_4__.a,_fortawesome_free_regular_svg_icons__WEBPACK_IMPORTED_MODULE_5__.a)}},742:function(module,exports,__webpack_require__){module.exports={button:"styles_button__12U2K"}},744:function(module,exports,__webpack_require__){module.exports={comment:"styles_comment__1Omk0"}},745:function(module,exports,__webpack_require__){module.exports={popover:"styles_popover__E140a"}},75:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return mapWithDepth})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getLines})),__webpack_require__.d(__webpack_exports__,"a",(function(){return GLOBAL_LINTER_ANCHOR_ID})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getCodeLineAnchorID})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getCodeLineAnchor}));var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),mapChild=(child,i,depth)=>{if(child.tagName){var className=classnames__WEBPACK_IMPORTED_MODULE_2___default()(child.properties&&child.properties.className);return react__WEBPACK_IMPORTED_MODULE_1__.createElement(child.tagName,Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({key:"code-child-".concat(depth,"-").concat(i)},child.properties),{},{className:className}),child.children&&child.children.map(mapWithDepth(depth+1)))}return child.value},mapWithDepth=(depth,_mapChild=mapChild)=>(child,i)=>_mapChild(child,i,depth),getLines=content=>content?content.replace("\r\n","\n").split("\n"):[],GLOBAL_LINTER_ANCHOR_ID=0,getCodeLineAnchorID=line=>"I".concat(line),getCodeLineAnchor=line=>"#".concat(getCodeLineAnchorID(line))},750:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(31),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),loglevel__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(25),loglevel__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_3__),react_router_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(765),react_router_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(206),classnames__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__),lodash_chunk__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(751),lodash_chunk__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(lodash_chunk__WEBPACK_IMPORTED_MODULE_7__),lodash_debounce__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(247),lodash_debounce__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_8__),_CodeView_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(75),_reducers_linter__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(40),_styles_module_scss__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(169),_styles_module_scss__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_11__),_utils__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(6),_LinterProvider__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(116),_CodeLineShapes__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(252),_CodeLineShapes_utils__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(194);class CodeOverviewBase extends react__WEBPACK_IMPORTED_MODULE_2__.Component{constructor(props){super(props),this.overviewRef=void 0,this.resetOverviewHeight=()=>{this.setState({overviewHeight:null})},this.setOverviewHeight=()=>{var overviewHeight=this.state.overviewHeight,ref=this.overviewRef;if(ref&&ref.current){var refHeight=ref.current.clientHeight;overviewHeight!==refHeight&&this.setState({overviewHeight:refHeight})}},this.waitAndSetNewOverviewHeight=this.props._debounce(()=>this.setOverviewHeight(),200),this.renderWithLinterInfo=({selectedMessageMap:selectedMessageMap})=>react__WEBPACK_IMPORTED_MODULE_2__.createElement("div",{ref:this.overviewRef,className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_11___default.a.CodeOverview,style:{padding:"".concat(this.props.overviewPadding,"px")}},this.renderOverview(selectedMessageMap)),this.state={overviewHeight:null},this.overviewRef=this.props.createOverviewRef()}componentDidMount(){var _window=this.props._window;this.setOverviewHeight(),_window.addEventListener("resize",this.resetOverviewHeight),_window.addEventListener("resize",this.waitAndSetNewOverviewHeight)}componentDidUpdate(){this.setOverviewHeight()}componentWillUnmount(){var _window=this.props._window;_window.removeEventListener("resize",this.resetOverviewHeight),_window.removeEventListener("resize",this.waitAndSetNewOverviewHeight)}fitLineShapesIntoOverview(allLineShapes){var _this$props=this.props,overviewPadding=_this$props.overviewPadding,rowHeight=_this$props.rowHeight,rowTopPadding=_this$props.rowTopPadding,overviewHeight=this.state.overviewHeight;if(!overviewHeight)throw new Error("overviewHeight must be set when calling fitLineShapesIntoOverview()");var availableHeight=overviewHeight-2*overviewPadding-rowTopPadding,numberOfRows=Math.floor(availableHeight/rowHeight),chunkSize=1;return allLineShapes.length>numberOfRows&&(chunkSize=Math.ceil(allLineShapes.length/numberOfRows)),{numberOfRows:numberOfRows,chunkedLineShapes:lodash_chunk__WEBPACK_IMPORTED_MODULE_7___default()(allLineShapes,chunkSize)}}renderRow(selectedMessageMap,rowIndex,shapeIndex,groupOflineShapes,insertedLines){if(!groupOflineShapes)return null;if(insertedLines.length){var _step,_iterator=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(groupOflineShapes);try{for(_iterator.s();!(_step=_iterator.n()).done;){var shape=_step.value;if(insertedLines.includes(shape.line))return react__WEBPACK_IMPORTED_MODULE_2__.createElement(_CodeLineShapes__WEBPACK_IMPORTED_MODULE_14__.a,{isChange:!0,lineShapes:shape})}}catch(err){_iterator.e(err)}finally{_iterator.f()}}var messages=selectedMessageMap?groupOflineShapes.reduce((matches,shape)=>{var allMatches=matches;return 1===shape.line&&selectedMessageMap.global.length&&(allMatches=allMatches.concat(selectedMessageMap.global)),selectedMessageMap.byLine[shape.line]&&(allMatches=allMatches.concat(selectedMessageMap.byLine[shape.line])),allMatches},[]):[];if(messages.length){var type=Object(_reducers_linter__WEBPACK_IMPORTED_MODULE_10__.e)(messages);return react__WEBPACK_IMPORTED_MODULE_2__.createElement("div",{key:messages.map(m=>m.uid).join(":"),className:classnames__WEBPACK_IMPORTED_MODULE_6___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_11___default.a.linterMessage,{[_styles_module_scss__WEBPACK_IMPORTED_MODULE_11___default.a.linterError]:"error"===type,[_styles_module_scss__WEBPACK_IMPORTED_MODULE_11___default.a.linterWarning]:"warning"===type,[_styles_module_scss__WEBPACK_IMPORTED_MODULE_11___default.a.linterNotice]:"notice"===type})})}var lineShapes=groupOflineShapes[shapeIndex];return react__WEBPACK_IMPORTED_MODULE_2__.createElement(_CodeLineShapes__WEBPACK_IMPORTED_MODULE_14__.a,{lineShapes:lineShapes})}renderOverview(selectedMessageMap){var _this=this,_this$props2=this.props,_document=_this$props2._document,content=_this$props2.content,getCodeLineAnchor=_this$props2.getCodeLineAnchor,insertedLines=_this$props2.insertedLines,location=_this$props2.location,rowHeight=_this$props2.rowHeight,rowTopPadding=_this$props2.rowTopPadding;if(!this.state.overviewHeight)return null;for(var allLineShapes=Object(_CodeLineShapes_utils__WEBPACK_IMPORTED_MODULE_15__.b)(Object(_CodeView_utils__WEBPACK_IMPORTED_MODULE_9__.d)(content)),_this$fitLineShapesIn=this.fitLineShapesIntoOverview(allLineShapes),numberOfRows=_this$fitLineShapesIn.numberOfRows,chunkedLineShapes=_this$fitLineShapesIn.chunkedLineShapes,overview=[],_loop=function _loop(rowIndex){var shapes=chunkedLineShapes[rowIndex],line=shapes&&shapes.length?shapes[0].line:void 0,linkableLine=line;if(line&&insertedLines.length){var firstChange=shapes.filter(s=>insertedLines.includes(s.line))[0];firstChange&&(linkableLine=firstChange.line)}else if(line&&1===line&&selectedMessageMap&&selectedMessageMap.global.length)linkableLine=_CodeView_utils__WEBPACK_IMPORTED_MODULE_9__.a;else if(line&&selectedMessageMap){var firstMsg=shapes.filter(s=>selectedMessageMap.byLine[s.line])[0];firstMsg&&(linkableLine=firstMsg.line)}var codeLineAnchor=void 0!==linkableLine?getCodeLineAnchor(linkableLine):null;overview.push(react__WEBPACK_IMPORTED_MODULE_2__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__.a,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_11___default.a.line,to:Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},location),{},{hash:codeLineAnchor||"#"}),key:rowIndex,onClick:event=>{if(codeLineAnchor){var domLine=_document.querySelector(codeLineAnchor);domLine?domLine.scrollIntoView():loglevel__WEBPACK_IMPORTED_MODULE_3___default.a.error('Anchor "'.concat(codeLineAnchor,'" unexpectedly does not exist on the page'))}else event.preventDefault()},style:{height:"".concat(rowHeight,"px"),paddingTop:rowIndex>0?"".concat(rowTopPadding,"px"):void 0},title:line?Object(_utils__WEBPACK_IMPORTED_MODULE_12__.m)("Jump to line ".concat(line)):""},_this.renderRow(selectedMessageMap,rowIndex,0,shapes,insertedLines)))},rowIndex=0;rowIndex<numberOfRows;rowIndex++)_loop(rowIndex);return overview}render(){var overviewHeight=this.state.overviewHeight,version=this.props.version;return react__WEBPACK_IMPORTED_MODULE_2__.createElement(_LinterProvider__WEBPACK_IMPORTED_MODULE_13__.a,{key:overviewHeight?String(overviewHeight):"",version:version,selectedPath:version.selectedPath},info=>this.renderWithLinterInfo(info))}}CodeOverviewBase.defaultProps={_debounce:lodash_debounce__WEBPACK_IMPORTED_MODULE_8___default.a,_document:document,_window:window,createOverviewRef:()=>react__WEBPACK_IMPORTED_MODULE_2__.createRef(),getCodeLineAnchor:_CodeView_utils__WEBPACK_IMPORTED_MODULE_9__.b,insertedLines:[],overviewPadding:10,rowTopPadding:2,rowHeight:10},__webpack_exports__.a=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_5__.a)(CodeOverviewBase)},752:function(module,exports,__webpack_require__){module.exports={shell:"styles_shell__3sfvh"}},753:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(31),query_string__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(56),query_string__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_2__),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),react_diff_view__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(54),react_bootstrap__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(207),react_router_dom__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(206),classnames__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_7__),_Commentable__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(152),_CommentList__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(150),_FadableContent__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(196),_LinterProvider__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(116),_LinterMessage__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(46),_GlobalLinterMessages__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(338),_SlowPageAlert__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(197),_refractor__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(347),_reducers_versions__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(10),_utils__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(6),_styles_module_scss__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(67),_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_18__),Profiler=(__webpack_require__(1905),react__WEBPACK_IMPORTED_MODULE_3__.Profiler),addedChange={content:_utils__WEBPACK_IMPORTED_MODULE_17__.f,isDelete:!1,isInsert:!1,isNormal:!0,lineNumber:void 0,newLineNumber:void 0,oldLineNumber:void 0,type:"normal"},getChangeCharCount=hunks=>Object(_utils__WEBPACK_IMPORTED_MODULE_17__.j)(hunks).reduce((charCount,change)=>charCount+change.content.length,0);class DiffViewBase extends react__WEBPACK_IMPORTED_MODULE_3__.Component{constructor(...args){super(...args),this.onRenderProfiler=(id,phase,actualDuration)=>{this.props._sendPerfTiming({actualDuration:actualDuration,id:id})},this.getWidgets=(hunks,selectedMessageMap)=>{var _step3,_this$props=this.props,_changeCanBeCommentedUpon=_this$props._changeCanBeCommentedUpon,enableCommenting=_this$props.enableCommenting,version=_this$props.version,allWidgets={},changesAllowingWidgets=Object(_utils__WEBPACK_IMPORTED_MODULE_17__.j)(hunks).filter(change=>change.isDelete||change.isInsert||change.isNormal),_iterator3=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(changesAllowingWidgets);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var change=_step3.value,changeKey=Object(react_diff_view__WEBPACK_IMPORTED_MODULE_4__.d)(change),line=change.lineNumber,messages=void 0;line&&selectedMessageMap&&(messages=selectedMessageMap.byLine[line]);var widget=enableCommenting&&line&&_changeCanBeCommentedUpon(change)?react__WEBPACK_IMPORTED_MODULE_3__.createElement(_CommentList__WEBPACK_IMPORTED_MODULE_9__.a,{addonId:version.addon.id,fileName:version.selectedPath,line:line,versionId:version.id},allComments=>allComments):null;messages&&messages.length&&(widget=react__WEBPACK_IMPORTED_MODULE_3__.createElement(react__WEBPACK_IMPORTED_MODULE_3__.Fragment,null,widget,react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.inlineLinterMessages},messages.map(msg=>react__WEBPACK_IMPORTED_MODULE_3__.createElement(_LinterMessage__WEBPACK_IMPORTED_MODULE_12__.a,{key:msg.uid,message:msg,inline:!0}))))),allWidgets[changeKey]=widget}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}return allWidgets},this.renderHunk=(hunk,index)=>{var components=[react__WEBPACK_IMPORTED_MODULE_3__.createElement(react_diff_view__WEBPACK_IMPORTED_MODULE_4__.c,{key:"hunk-".concat(hunk.content),hunk:hunk,className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.hunk})];return index>0&&components.unshift(react__WEBPACK_IMPORTED_MODULE_3__.createElement(react_diff_view__WEBPACK_IMPORTED_MODULE_4__.a,{key:"decoration-".concat(hunk.content)},react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.hunkSeparator},"..."))),components},this.renderHunks=hunks=>hunks.map(this.renderHunk),this.renderExtraMessages=messages=>react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.extraMessages},messages),this.renderGutter=({change:change,renderDefault:renderDefault,side:side,wrapInAnchor:wrapInAnchor})=>{var _this$props2=this.props,_changeCanBeCommentedUpon=_this$props2._changeCanBeCommentedUpon,enableCommenting=_this$props2.enableCommenting,version=_this$props2.version,lineNumber=change.lineNumber,defaultGutter=wrapInAnchor(renderDefault()),gutter=defaultGutter;return enableCommenting&&_changeCanBeCommentedUpon(change)&&lineNumber&&"new"===side&&(gutter=react__WEBPACK_IMPORTED_MODULE_3__.createElement(_Commentable__WEBPACK_IMPORTED_MODULE_8__.a,{as:"div",className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.gutter,line:lineNumber,fileName:version.selectedPath,versionId:version.id},addCommentButton=>react__WEBPACK_IMPORTED_MODULE_3__.createElement(react__WEBPACK_IMPORTED_MODULE_3__.Fragment,null,defaultGutter,react__WEBPACK_IMPORTED_MODULE_3__.createElement("span",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.commentButton},addCommentButton)))),gutter},this.renderWithMessages=({selectedMessageMap:selectedMessageMap})=>{var hunks,diffIsSlowAlert,tokens,_this$props3=this.props,_codeCanBeHighlighted=_this$props3._codeCanBeHighlighted,_codeShouldBeTrimmed=_this$props3._codeShouldBeTrimmed,_trimmedCharCount=_this$props3._trimmedCharCount,_slowLoadingLineCount=_this$props3._slowLoadingLineCount,_tokenize=_this$props3._tokenize,_trimHunkChars=_this$props3._trimHunkChars,diff=_this$props3.diff,isMinified=_this$props3.isMinified,location=_this$props3.location,mimeType=_this$props3.mimeType,version=_this$props3.version,viewType=_this$props3.viewType,options={highlight:!0,language:Object(_utils__WEBPACK_IMPORTED_MODULE_17__.k)(mimeType),refractor:_refractor__WEBPACK_IMPORTED_MODULE_15__.a},selectedChanges=location.hash.length>2?[location.hash.substring(1)]:[],extraMessages=[],diffWasTrimmed=!1;if(diff){var _step4,changeCount=0,_iterator4=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(diff.hunks);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){changeCount+=_step4.value.changes.length}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}hunks=diff.hunks,_codeShouldBeTrimmed({codeCharLength:getChangeCharCount(hunks),codeLineLength:changeCount,isMinified:isMinified,trimmedCharCount:_trimmedCharCount,slowLoadingLineCount:_slowLoadingLineCount})&&(Object(_utils__WEBPACK_IMPORTED_MODULE_17__.s)({allowByDefault:!isMinified,location:location})||(hunks=_trimHunkChars({hunks:hunks}),diffWasTrimmed=!0),diffIsSlowAlert=react__WEBPACK_IMPORTED_MODULE_3__.createElement(_SlowPageAlert__WEBPACK_IMPORTED_MODULE_14__.a,{allowSlowPagesByDefault:!isMinified,key:"slowPageAlert",getMessage:allowSlowPages=>allowSlowPages?Object(_utils__WEBPACK_IMPORTED_MODULE_17__.m)("This diff may load slowly."):Object(_utils__WEBPACK_IMPORTED_MODULE_17__.m)("This diff was shortened to load faster."),getLinkText:allowSlowPages=>allowSlowPages?Object(_utils__WEBPACK_IMPORTED_MODULE_17__.m)("Shorten the diff."):Object(_utils__WEBPACK_IMPORTED_MODULE_17__.m)("Show the original diff.")}),extraMessages.push(diffIsSlowAlert))}return hunks&&_codeCanBeHighlighted({code:Object(_utils__WEBPACK_IMPORTED_MODULE_17__.j)(hunks)})&&!diffWasTrimmed&&(tokens=_tokenize(hunks,options)),tokens&&1===tokens.old.length&&Array.isArray(tokens.old[0])&&0===tokens.old[0].length&&1===tokens.new.length&&Array.isArray(tokens.new[0])&&0===tokens.new[0].length&&(tokens=void 0),diff&&!tokens&&extraMessages.push(react__WEBPACK_IMPORTED_MODULE_3__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_5__.a,{key:"syntaxHighlightingAlert",variant:"warning"},Object(_utils__WEBPACK_IMPORTED_MODULE_17__.m)("Syntax highlighting was disabled for performance"))),react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.DiffView},!diff&&react__WEBPACK_IMPORTED_MODULE_3__.createElement(react__WEBPACK_IMPORTED_MODULE_3__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.header}),react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_7___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.diff,_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.noDiffs)},Object(_utils__WEBPACK_IMPORTED_MODULE_17__.m)("No differences"))),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_GlobalLinterMessages__WEBPACK_IMPORTED_MODULE_13__.a,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.globalLinterMessages,messages:selectedMessageMap&&selectedMessageMap.global}),extraMessages.length?this.renderExtraMessages(extraMessages):null,diff&&hunks&&react__WEBPACK_IMPORTED_MODULE_3__.createElement(react__WEBPACK_IMPORTED_MODULE_3__.Fragment,{key:version.id},this.renderHeader(diff),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_FadableContent__WEBPACK_IMPORTED_MODULE_10__.a,{fade:diffWasTrimmed},react__WEBPACK_IMPORTED_MODULE_3__.createElement(react_diff_view__WEBPACK_IMPORTED_MODULE_4__.b,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.diff,diffType:diff.type,hunks:hunks,tokens:tokens,viewType:viewType,gutterType:"anchor",generateAnchorID:react_diff_view__WEBPACK_IMPORTED_MODULE_4__.d,selectedChanges:selectedChanges,widgets:this.getWidgets(hunks,selectedMessageMap),renderGutter:this.renderGutter},this.renderHunks))),diffWasTrimmed&&diffIsSlowAlert&&this.renderExtraMessages(diffIsSlowAlert))}}componentDidMount(){this.loadData()}componentDidUpdate(){this.loadData()}loadData(){var _this$props4=this.props,_document=_this$props4._document,_getDiffAnchors=_this$props4._getDiffAnchors,_getRelativeDiffAnchor=_this$props4._getRelativeDiffAnchor,diff=_this$props4.diff,history=_this$props4.history,location=_this$props4.location;if(diff){var anchor,queryParams=query_string__WEBPACK_IMPORTED_MODULE_2___default.a.parse(location.search),scrollTo=queryParams.scrollTo;if(scrollTo){if(scrollTo===_reducers_versions__WEBPACK_IMPORTED_MODULE_16__.a.firstDiff)anchor=_getRelativeDiffAnchor({diff:diff});else{var anchors=_getDiffAnchors(diff);anchors.length&&(anchor=anchors[anchors.length-1])}if(anchor){var newParams=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},queryParams);delete newParams.scrollTo;var newLocation=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},location),{},{hash:"#".concat(anchor),search:query_string__WEBPACK_IMPORTED_MODULE_2___default.a.stringify(newParams)});history.push(newLocation)}}}if(location.hash.length){var element=_document.querySelector(location.hash);element&&element.scrollIntoView()}}renderHeader({hunks:hunks}){var _hunks$reduce=hunks.reduce((acc,hunk)=>({additions:acc.additions+hunk.changes.filter(change=>change.isInsert).length,deletions:acc.deletions+hunk.changes.filter(change=>change.isDelete).length}),{additions:0,deletions:0}),additions=_hunks$reduce.additions,deletions=_hunks$reduce.deletions;return react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.header},react__WEBPACK_IMPORTED_MODULE_3__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.stats},react__WEBPACK_IMPORTED_MODULE_3__.createElement("span",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.statsAdditions},"+++ ".concat(additions)),react__WEBPACK_IMPORTED_MODULE_3__.createElement("span",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_18___default.a.statsDeletions},"--- ".concat(deletions))))}render(){var version=this.props.version;return react__WEBPACK_IMPORTED_MODULE_3__.createElement(Profiler,{id:"DiffView-Render",onRender:this.onRenderProfiler},react__WEBPACK_IMPORTED_MODULE_3__.createElement(_LinterProvider__WEBPACK_IMPORTED_MODULE_11__.a,{version:version,selectedPath:version.selectedPath},this.renderWithMessages))}}DiffViewBase.defaultProps={_changeCanBeCommentedUpon:change=>[_reducers_versions__WEBPACK_IMPORTED_MODULE_16__.c.insert,_reducers_versions__WEBPACK_IMPORTED_MODULE_16__.c.normal].includes(change.type),_codeCanBeHighlighted:_utils__WEBPACK_IMPORTED_MODULE_17__.d,_codeShouldBeTrimmed:_utils__WEBPACK_IMPORTED_MODULE_17__.e,_document:document,_getDiffAnchors:_reducers_versions__WEBPACK_IMPORTED_MODULE_16__.i,_getRelativeDiffAnchor:_reducers_versions__WEBPACK_IMPORTED_MODULE_16__.l,_trimmedCharCount:_utils__WEBPACK_IMPORTED_MODULE_17__.b,_sendPerfTiming:_utils__WEBPACK_IMPORTED_MODULE_17__.r,_slowLoadingLineCount:_utils__WEBPACK_IMPORTED_MODULE_17__.a,_tokenize:react_diff_view__WEBPACK_IMPORTED_MODULE_4__.f,_trimHunkChars:({hunks:hunks,_trimmedCharCount:_trimmedCharCount=_utils__WEBPACK_IMPORTED_MODULE_17__.b})=>{var _step,charCount=0,hunkIndex=0,trimmedHunks=[],_iterator=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(hunks);try{for(_iterator.s();!(_step=_iterator.n()).done;){var hunk=_step.value;trimmedHunks.push(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},hunk),{},{changes:[]})),hunkIndex=trimmedHunks.length-1;var _step2,_iterator2=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(hunk.changes);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var change=_step2.value;if(charCount+change.content.length>_trimmedCharCount)return _trimmedCharCount-charCount&&trimmedHunks[hunkIndex].changes.push(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},change),{},{content:change.content.substring(0,_trimmedCharCount-charCount)})),trimmedHunks[hunkIndex].changes.push(addedChange),trimmedHunks;trimmedHunks[hunkIndex].changes.push(change),charCount+=change.content.length}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return trimmedHunks},enableCommenting:!0,viewType:"unified"},__webpack_exports__.a=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_6__.a)(DiffViewBase)},754:function(module,__webpack_exports__,__webpack_require__){"use strict";var loglevel__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25),loglevel__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(257),_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__);class ErrorBoundaryBase extends react__WEBPACK_IMPORTED_MODULE_1__.Component{constructor(props){super(props),this.state={error:null,errorInfo:null}}componentDidCatch(error,errorInfo){var _log=this.props._log;this.setState({error:error,errorInfo:errorInfo}),_log.error("Caught application error:",error,errorInfo)}render(){var _this$state=this.state,error=_this$state.error,errorInfo=_this$state.errorInfo;return errorInfo?react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default.a.container},react__WEBPACK_IMPORTED_MODULE_1__.createElement("h2",null,"Oops, something went wrong."),react__WEBPACK_IMPORTED_MODULE_1__.createElement("p",null,"Please let us know what you were trying to do when this error occured by"," ",react__WEBPACK_IMPORTED_MODULE_1__.createElement("a",{href:"https://github.com/mozilla/addons-code-manager/issues/new/",rel:"noopener noreferrer",target:"_blank"},"filing an issue"),"."),react__WEBPACK_IMPORTED_MODULE_1__.createElement("details",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default.a.errorDetails},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default.a.errorText},error&&error.toString()),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_2___default.a.componentStack},errorInfo&&errorInfo.componentStack))):this.props.children}}ErrorBoundaryBase.defaultProps={_log:loglevel__WEBPACK_IMPORTED_MODULE_0___default.a},__webpack_exports__.a=ErrorBoundaryBase},755:function(module,__webpack_exports__,__webpack_require__){"use strict";var loglevel__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25),loglevel__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react_bootstrap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(91),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(28),react_treefold__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(762),_styles_module_scss__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(205),_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_5__),_FileTreeNode__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(253),_Loading__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(254),_reducers_fileTree__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(76),_reducers_versions__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(10),_utils__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6);class FileTreeBase extends react__WEBPACK_IMPORTED_MODULE_1__.Component{constructor(_props){super(_props),this.loadData=void 0,this._loadData=()=>{var _this$props=this.props,comparedToVersionId=_this$props.comparedToVersionId,dispatch=_this$props.dispatch,tree=_this$props.tree,version=_this$props.version;version&&!tree&&dispatch(_reducers_fileTree__WEBPACK_IMPORTED_MODULE_8__.c.buildTree({comparedToVersionId:comparedToVersionId,version:version}))},this.renderNode=props=>{var _this$props2=this.props,comparedToVersionId=_this$props2.comparedToVersionId,onSelect=_this$props2.onSelect,version=_this$props2.version;return version?react__WEBPACK_IMPORTED_MODULE_1__.createElement(_FileTreeNode__WEBPACK_IMPORTED_MODULE_6__.a,Object.assign({},props,{comparedToVersionId:comparedToVersionId,onSelect:onSelect,versionId:version.id})):react__WEBPACK_IMPORTED_MODULE_1__.createElement(_Loading__WEBPACK_IMPORTED_MODULE_7__.a,{message:Object(_utils__WEBPACK_IMPORTED_MODULE_10__.m)("Loading version...")})},this.onToggleExpand=node=>{var _this$props3=this.props,dispatch=_this$props3.dispatch,version=_this$props3.version;if(!version)throw new Error("Cannot toggle expanded path without a version");dispatch(_reducers_versions__WEBPACK_IMPORTED_MODULE_9__.b.toggleExpandedPath({path:node.id,versionId:version.id}))},this.onExpandTree=()=>{var _this$props4=this.props,dispatch=_this$props4.dispatch,version=_this$props4.version;version&&dispatch(_reducers_versions__WEBPACK_IMPORTED_MODULE_9__.b.expandTree({versionId:version.id}))},this.onCollapseTree=()=>{var _this$props5=this.props,dispatch=_this$props5.dispatch,version=_this$props5.version;version&&dispatch(_reducers_versions__WEBPACK_IMPORTED_MODULE_9__.b.collapseTree({versionId:version.id}))},this.isNodeExpanded=node=>{var expandedPaths=this.props.expandedPaths;if(!expandedPaths)throw new Error("Cannot check if node is expanded without expandedPaths set");return expandedPaths.includes(node.id)},this.loadData=_props._loadData||this._loadData}componentDidMount(){this.loadData()}componentDidUpdate(){this.loadData()}render(){var _this$props6=this.props,tree=_this$props6.tree;return _this$props6.version&&tree?react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.shell},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.controlButtons},react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.a,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.button,id:"openAll",onClick:this.onExpandTree,size:"sm",type:"button",variant:"light"},Object(_utils__WEBPACK_IMPORTED_MODULE_10__.m)("Open all folders")),react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.a,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.button,id:"closeAll",onClick:this.onCollapseTree,size:"sm",type:"button",variant:"light"},Object(_utils__WEBPACK_IMPORTED_MODULE_10__.m)("Close all folders"))),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_5___default.a.treeShell},react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_treefold__WEBPACK_IMPORTED_MODULE_4__.a,{nodes:tree.nodes.children,render:this.renderNode,isNodeExpanded:this.isNodeExpanded,onToggleExpand:this.onToggleExpand}))):react__WEBPACK_IMPORTED_MODULE_1__.createElement(_Loading__WEBPACK_IMPORTED_MODULE_7__.a,{message:Object(_utils__WEBPACK_IMPORTED_MODULE_10__.m)("Loading version...")})}}FileTreeBase.defaultProps={_log:loglevel__WEBPACK_IMPORTED_MODULE_0___default.a};__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_3__.connect)((state,ownProps)=>{var versionId=ownProps.versionId,version=Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_9__.n)(state.versions,versionId),expandedPaths=state.versions.expandedPaths;return version||loglevel__WEBPACK_IMPORTED_MODULE_0___default.a.warn("No version was loaded for version: ",versionId),{expandedPaths:expandedPaths,tree:version?Object(_reducers_fileTree__WEBPACK_IMPORTED_MODULE_8__.f)(state.fileTree,version.id):void 0,version:version}})(FileTreeBase)},758:function(module,exports,__webpack_require__){module.exports={link:"styles_link__36jWF"}},759:function(module,__webpack_exports__,__webpack_require__){"use strict";var classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react_bootstrap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(482),react_bootstrap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(91),react_redux__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(28),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(84),_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6),_CommentSummaryButton__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(342),_LoginButton__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(343),_VersionChooser__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(348),_reducers_comments__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(18),_reducers_versions__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(10),_reducers_users__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(133),_styles_module_scss__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(57),_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_13__);class NavbarBase extends react__WEBPACK_IMPORTED_MODULE_1__.Component{constructor(props){super(props),this.logOut=()=>{var _this$props=this.props,_requestLogOut=_this$props._requestLogOut;(0,_this$props.dispatch)(_requestLogOut())},this.state={nextBaseVersionImprint:void 0}}componentDidMount(){this.loadData()}componentDidUpdate(){this.loadData()}loadData(){var _this$props2=this.props,_fetchVersion=_this$props2._fetchVersion,currentVersion=_this$props2.currentVersion,currentBaseVersion=_this$props2.currentBaseVersion,currentBaseVersionId=_this$props2.currentBaseVersionId,dispatch=_this$props2.dispatch,nextBaseVersionImprint=this.state.nextBaseVersionImprint;currentBaseVersion&&nextBaseVersionImprint!==currentBaseVersion.versionString&&this.setState({nextBaseVersionImprint:currentBaseVersion.versionString}),currentVersion&&void 0===currentBaseVersion&&currentBaseVersionId&&dispatch(_fetchVersion({addonId:currentVersion.addon.id,path:void 0,setAsCurrent:!1,versionId:currentBaseVersionId})),!1===currentBaseVersionId&&nextBaseVersionImprint&&this.setState({nextBaseVersionImprint:void 0})}renderCommentsNavBar(){var comments=this.props.comments;return comments&&0!==comments.length?react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.infoItem},Object(_utils__WEBPACK_IMPORTED_MODULE_6__.m)("Comments:"),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_0___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.itemData,_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.commentCount)},comments.length)),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.infoItem},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_CommentSummaryButton__WEBPACK_IMPORTED_MODULE_7__.a,null))):null}render(){var _this$props3=this.props,currentBaseVersion=_this$props3.currentBaseVersion,currentVersion=_this$props3.currentVersion,reviewersHost=_this$props3.reviewersHost,user=_this$props3.user,nextBaseVersionImprint=this.state.nextBaseVersionImprint,addonSlugOrId=currentVersion?currentVersion.addon.slug||currentVersion.addon.id:"";return react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.a,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.Navbar,expand:"lg",variant:"dark"},react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.a.Brand,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.brand},react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.info},currentVersion&&react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.infoItem},react__WEBPACK_IMPORTED_MODULE_1__.createElement("a",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.reviewerToolsLink,href:"".concat(reviewersHost,"/reviewers/review/").concat(addonSlugOrId),rel:"noopener noreferrer",target:"_blank"},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_5__.a,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.reviewerToolsIcon,icon:["fas","arrow-left"]}),Object(_utils__WEBPACK_IMPORTED_MODULE_6__.m)("Reviewer Tools"))),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_0___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.infoItem,_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.addonName)},Object(_utils__WEBPACK_IMPORTED_MODULE_6__.l)(currentVersion.addon.name),react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_0___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.versionIndicator,_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.itemData)},currentBaseVersion||nextBaseVersionImprint?react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",{className:classnames__WEBPACK_IMPORTED_MODULE_0___default()({[_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.baseVersionIsLoading]:!currentBaseVersion&&nextBaseVersionImprint})},"".concat(currentBaseVersion&&currentBaseVersion.versionString||nextBaseVersionImprint,"")):null,currentVersion.versionString))),currentVersion&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.infoItem},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_VersionChooser__WEBPACK_IMPORTED_MODULE_9__.a,{addonId:currentVersion.addon.id})),this.renderCommentsNavBar())),react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.a.Text,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.text},user?react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.username},user.name):null,user?react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__.a,{size:"sm",className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_13___default.a.logOut,onClick:this.logOut},Object(_utils__WEBPACK_IMPORTED_MODULE_6__.m)("Log out")):react__WEBPACK_IMPORTED_MODULE_1__.createElement(_LoginButton__WEBPACK_IMPORTED_MODULE_8__.a,null)))}}NavbarBase.defaultProps={_fetchVersion:_reducers_versions__WEBPACK_IMPORTED_MODULE_11__.g,_requestLogOut:_reducers_users__WEBPACK_IMPORTED_MODULE_12__.d,reviewersHost:"https://reviewers.addons.mozilla.org"};__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_4__.connect)(state=>{var currentBaseVersion,_state$versions=state.versions,currentBaseVersionId=_state$versions.currentBaseVersionId,selectedPath=_state$versions.selectedPath;currentBaseVersionId&&(currentBaseVersion=Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_11__.n)(state.versions,currentBaseVersionId));var currentVersion=Object(_reducers_versions__WEBPACK_IMPORTED_MODULE_11__.p)(state.versions);return{comments:currentVersion?Object(_reducers_comments__WEBPACK_IMPORTED_MODULE_10__.k)({comments:state.comments,versionId:currentVersion.id}):void 0,user:Object(_reducers_users__WEBPACK_IMPORTED_MODULE_12__.e)(state.users),currentBaseVersion:currentBaseVersion,currentBaseVersionId:currentBaseVersionId,currentVersion:currentVersion,selectedPath:selectedPath}})(NavbarBase)},76:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ROOT_PATH})),__webpack_require__.d(__webpack_exports__,"b",(function(){return RelativePathPosition})),__webpack_require__.d(__webpack_exports__,"e",(function(){return findRelativePathWithDiff})),__webpack_require__.d(__webpack_exports__,"c",(function(){return actions})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getTree}));__webpack_require__(11),__webpack_require__(24);var RelativePathPosition,_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(31),_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),typesafe_actions__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__(132),__webpack_require__(25),__webpack_require__(9)),_versions__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(10),_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(6),createAction=(__webpack_require__(40),typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.deprecated.createAction),ROOT_PATH="~root~",recursiveSortInPlace=node=>{node.children.sort((a,b)=>"children"in a&&"children"in b||"children"in a==!1&&"children"in b==!1?a.name.localeCompare(b.name):"children"in b==!1?-1:1),node.children.forEach(child=>{"children"in child&&recursiveSortInPlace(child)})},buildTreePathList=nodes=>{var treePathList=[],extractPaths=node=>{if("children"in node){var _step,_iterator=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__.a)(node.children);try{for(_iterator.s();!(_step=_iterator.n()).done;){var child=_step.value;extractPaths(child)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}else treePathList.push(node.id)};return extractPaths(nodes),treePathList},buildFileTree=version=>{var nodes=(version=>{for(var entries=version.entries,root={id:ROOT_PATH,name:Object(_utils__WEBPACK_IMPORTED_MODULE_8__.l)(version.addon.name),children:[]},maxDepth=entries.reduce((max,entry)=>entry.depth>max?entry.depth:max,0),currentDepth=0;currentDepth<=maxDepth;){entries.filter(entry=>entry.depth===currentDepth).forEach(entry=>{var currentNode=root;currentDepth>0&&function(){var parts=entry.path.split("/");parts.pop();for(var _loop=function _loop(i){var foundNode=currentNode.children.find(child=>child.name===parts[i]);if(!foundNode)throw new Error("Could not find parent of entry: ".concat(entry.path));currentNode=foundNode},i=0;i<parts.length;i++)_loop(i)}();var node={id:entry.path,name:entry.filename};"directory"===entry.type&&(node=Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},node),{},{children:[]})),currentNode.children.push(node)}),currentDepth++}return recursiveSortInPlace(root),root})(version);return{nodes:nodes,pathList:buildTreePathList(nodes)}};!function(RelativePathPosition){RelativePathPosition[RelativePathPosition.next=0]="next",RelativePathPosition[RelativePathPosition.previous=1]="previous"}(RelativePathPosition||(RelativePathPosition={}));var getRelativePath=({currentPath:currentPath,pathList:pathList,position:position})=>{var currentIndex=pathList.indexOf(currentPath);if(currentIndex<0)throw new Error("Cannot find ".concat(currentPath," in pathList: ").concat(pathList));var newIndex=position===RelativePathPosition.previous?currentIndex-1:currentIndex+1;return newIndex<0?newIndex=pathList.length-1:newIndex>=pathList.length&&(newIndex=0),pathList[newIndex]},findRelativePathWithDiff=({currentPath:currentPath,entryStatusMap:entryStatusMap,pathList:pathList,position:position,version:version})=>{for(var path=currentPath,maxAttempts=pathList.length,_loop2=function _loop2(attempt){var nextPath=getRelativePath({currentPath:path,pathList:pathList,position:position}),entry=version.entries.find(e=>e.path===nextPath);if(!entry)throw new Error("Entry missing for path: ".concat(nextPath,", versionId: ").concat(version.id));if(void 0===entryStatusMap[entry.path])throw new Error("Entry status missing for path: ".concat(nextPath,", versionId: ").concat(version.id));if(""!==entryStatusMap[entry.path])return{v:nextPath};path=nextPath},attempt=1;attempt<=maxAttempts;attempt++){var _ret=_loop2();if("object"==typeof _ret)return _ret.v}throw new Error("findRelativePathWithDiff was unable to find a path with a diff using currentPath: ".concat(currentPath))},initialState={comparedToVersionId:null,forVersionId:void 0,tree:void 0},actions={buildTree:createAction("BUILD_TREE",resolve=>payload=>resolve(payload))},getTree=(treeState,versionId)=>{if(treeState.forVersionId===versionId)return treeState.tree};__webpack_exports__.d=(state=initialState,action)=>{switch(action.type){case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(actions.buildTree):var _action$payload=action.payload,comparedToVersionId=_action$payload.comparedToVersionId,version=_action$payload.version,tree=buildFileTree(version);return Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{comparedToVersionId:comparedToVersionId,forVersionId:version.id,tree:tree});case Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_6__.getType)(_versions__WEBPACK_IMPORTED_MODULE_7__.b.loadVersionInfo):var forVersionId=state.forVersionId;return forVersionId===action.payload.version.id&&(forVersionId=void 0),Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),{},{forVersionId:forVersionId});default:return state}}},760:function(module,exports,__webpack_require__){module.exports={skeleton:"styles_skeleton__21wD1",pulse:"styles_pulse__3ioaW"}},767:function(module,exports,__webpack_require__){__webpack_require__(768),__webpack_require__(905),module.exports=__webpack_require__(906)},820:function(module,exports){},85:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Header}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(28),_styles_module_scss__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(106),_styles_module_scss__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_styles_module_scss__WEBPACK_IMPORTED_MODULE_3__),Header=({children:children,className:className})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("header",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_3___default.a.Header,className)},children);__webpack_exports__.b=Object(react_redux__WEBPACK_IMPORTED_MODULE_2__.connect)(state=>({altSidePanelIsExpanded:state.fullscreenGrid.altSidePanelIsExpanded,mainSidePanelIsExpanded:state.fullscreenGrid.mainSidePanelIsExpanded}))(({children:children,className:className,altSidePanelIsExpanded:altSidePanelIsExpanded,mainSidePanelIsExpanded:mainSidePanelIsExpanded})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(_styles_module_scss__WEBPACK_IMPORTED_MODULE_3___default.a.FullscreenGrid,{[_styles_module_scss__WEBPACK_IMPORTED_MODULE_3___default.a.withMainSidePanelCollapsed]:!mainSidePanelIsExpanded&&altSidePanelIsExpanded,[_styles_module_scss__WEBPACK_IMPORTED_MODULE_3___default.a.withAltSidePanelCollapsed]:mainSidePanelIsExpanded&&!altSidePanelIsExpanded,[_styles_module_scss__WEBPACK_IMPORTED_MODULE_3___default.a.withBothSidePanelsCollapsed]:!mainSidePanelIsExpanded&&!altSidePanelIsExpanded},className)},children))},90:function(module,__webpack_exports__,__webpack_require__){"use strict";var PanelAttribs,react=__webpack_require__(0),classnames=__webpack_require__(5),classnames_default=__webpack_require__.n(classnames),es=__webpack_require__(28),withRouter=__webpack_require__(206),fullscreenGrid=__webpack_require__(249),ToggleButton=__webpack_require__(334),utils=__webpack_require__(6),styles_module=__webpack_require__(204),styles_module_default=__webpack_require__.n(styles_module),SidePanel=({borderless:borderless=!1,children:children,className:className,isExpanded:isExpanded,onClick:onClick,toggleLeft:toggleLeft})=>{var collapseText=Object(utils.m)("Collapse this panel");return react.createElement("aside",{"aria-expanded":isExpanded?"true":"false",className:classnames_default()(styles_module_default.a.SidePanel,className,{[styles_module_default.a.isCollapsed]:!isExpanded})},react.createElement("div",{className:classnames_default()(styles_module_default.a.content,{[styles_module_default.a.borderlessContent]:borderless})},children),react.createElement(ToggleButton.a,{className:styles_module_default.a.ToggleButton,label:isExpanded?collapseText:null,onClick:onClick,title:isExpanded?collapseText:Object(utils.m)("Expand this panel"),toggleLeft:toggleLeft}))},FullscreenGrid_styles_module=__webpack_require__(106),FullscreenGrid_styles_module_default=__webpack_require__.n(FullscreenGrid_styles_module);!function(PanelAttribs){PanelAttribs.altSidePanel="altSidePanel",PanelAttribs.mainSidePanel="mainSidePanel",PanelAttribs.topContent="topContent"}(PanelAttribs||(PanelAttribs={}));__webpack_exports__.a=Object(withRouter.a)(Object(es.connect)(state=>({altSidePanelIsExpanded:state.fullscreenGrid.altSidePanelIsExpanded,mainSidePanelIsExpanded:state.fullscreenGrid.mainSidePanelIsExpanded}))(({altSidePanel:altSidePanel,altSidePanelClass:altSidePanelClass,altSidePanelIsExpanded:altSidePanelIsExpanded,children:children,className:className,dispatch:dispatch,location:location,mainSidePanel:mainSidePanel,mainSidePanelClass:mainSidePanelClass,mainSidePanelIsBorderless:mainSidePanelIsBorderless=!1,mainSidePanelIsExpanded:mainSidePanelIsExpanded,topContent:topContent})=>react.createElement(react.Fragment,null,topContent?react.createElement("div",{className:FullscreenGrid_styles_module_default.a.topContent},topContent):null,react.createElement(SidePanel,{borderless:mainSidePanelIsBorderless,className:classnames_default()(FullscreenGrid_styles_module_default.a.mainSidePanel,mainSidePanelClass),isExpanded:mainSidePanelIsExpanded,onClick:()=>dispatch(fullscreenGrid.a.toggleMainSidePanel()),toggleLeft:mainSidePanelIsExpanded},mainSidePanel),react.createElement("main",{className:classnames_default()(FullscreenGrid_styles_module_default.a.content,className),key:location.key},children),react.createElement(SidePanel,{className:classnames_default()(FullscreenGrid_styles_module_default.a.altSidePanel,altSidePanelClass),isExpanded:altSidePanelIsExpanded,onClick:()=>dispatch(fullscreenGrid.a.toggleAltSidePanel()),toggleLeft:!altSidePanelIsExpanded},altSidePanel))))},906:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14),react_storybook_addon_chapters__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(463),react_storybook_addon_chapters__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_storybook_addon_chapters__WEBPACK_IMPORTED_MODULE_2__),storybook_addon_root_attribute__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(729),_src_configureApplication__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(730),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13);__webpack_require__(1672),__webpack_require__(1673);Object(_src_configureApplication__WEBPACK_IMPORTED_MODULE_4__.a)();var req=__webpack_require__(1674);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.addDecorator)(storybook_addon_root_attribute__WEBPACK_IMPORTED_MODULE_3__.withRootAttribute),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.addParameters)(Object(_home_travis_build_mozilla_addons_code_manager_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({options:{showPanel:!1}},Object(_utils__WEBPACK_IMPORTED_MODULE_5__.e)())),Object(react_storybook_addon_chapters__WEBPACK_IMPORTED_MODULE_2__.setDefaults)({sectionOptions:{showSource:!1}}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.setAddon)(react_storybook_addon_chapters__WEBPACK_IMPORTED_MODULE_2___default.a);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.configure)(()=>req.keys().forEach(req),module)}.call(this,__webpack_require__(30)(module))},95:function(module,exports,__webpack_require__){module.exports={table:"styles_table__1-mH5",tableBody:"styles_tableBody__PTWx6",selectedLine:"styles_selectedLine__18JBH",lineNumber:"styles_lineNumber__3BgY8",lineNumberLink:"styles_lineNumberLink__1enZq",code:"styles_code__TPrX0",lineNumberCol:"styles_lineNumberCol__3Kxgw",highlightedCode:"styles_highlightedCode__j1rI_",innerHighlightedCode:"styles_innerHighlightedCode__1cXbq",linterMessages:"styles_linterMessages__1kpKr"}}},[[767,1,2]]]);
//# sourceMappingURL=main.8a4010f4bbbe643d4f53.bundle.js.map